"use strict";
// Generated from the AliCloud ROS Resource Specification
Object.defineProperty(exports, "__esModule", { value: true });
exports.RosUploadMedia = exports.RosSearchLib = exports.RosMediaInfo = exports.RosInsertMediaToSearchLib = exports.RosCategory = void 0;
const ros = require("@alicloud/ros-cdk-core");
/**
 * Determine whether the given properties match those of a `RosCategoryProps`
 *
 * @param properties - the TypeScript properties of a `RosCategoryProps`
 *
 * @returns the result of the validation.
 */
function RosCategoryPropsValidator(properties) {
    if (!ros.canInspect(properties)) {
        return ros.VALIDATION_SUCCESS;
    }
    const errors = new ros.ValidationResults();
    errors.collect(ros.propertyValidator('parentId', ros.validateNumber)(properties.parentId));
    if (properties.type && (typeof properties.type) !== 'object') {
        errors.collect(ros.propertyValidator('type', ros.validateAllowedValues)({
            data: properties.type,
            allowedValues: ["material", "default"],
        }));
    }
    errors.collect(ros.propertyValidator('type', ros.validateString)(properties.type));
    errors.collect(ros.propertyValidator('cateName', ros.requiredValidator)(properties.cateName));
    errors.collect(ros.propertyValidator('cateName', ros.validateString)(properties.cateName));
    return errors.wrap('supplied properties not correct for "RosCategoryProps"');
}
/**
 * Renders the AliCloud ROS Resource properties of an `ALIYUN::ICE::Category` resource
 *
 * @param properties - the TypeScript properties of a `RosCategoryProps`
 *
 * @returns the AliCloud ROS Resource properties of an `ALIYUN::ICE::Category` resource.
 */
// @ts-ignore TS6133
function rosCategoryPropsToRosTemplate(properties, enableResourcePropertyConstraint) {
    if (!ros.canInspect(properties)) {
        return properties;
    }
    if (enableResourcePropertyConstraint) {
        RosCategoryPropsValidator(properties).assertSuccess();
    }
    return {
        'CateName': ros.stringToRosTemplate(properties.cateName),
        'ParentId': ros.numberToRosTemplate(properties.parentId),
        'Type': ros.stringToRosTemplate(properties.type),
    };
}
/**
 * This class is a base encapsulation around the ROS resource type `ALIYUN::ICE::Category`.
 * @Note This class does not contain additional functions, so it is recommended to use the `Category` class instead of this class for a more convenient development experience.
 * See https://www.alibabacloud.com/help/ros/developer-reference/aliyun-ice-category
 */
class RosCategory extends ros.RosResource {
    /**
     * @param scope - scope in which this resource is defined
     * @param id    - scoped id of the resource
     * @param props - resource properties
     */
    constructor(scope, id, props, enableResourcePropertyConstraint) {
        super(scope, id, { type: RosCategory.ROS_RESOURCE_TYPE_NAME, properties: props });
        this.attrCateId = this.getAtt('CateId');
        this.attrLevel = this.getAtt('Level');
        this.attrParentId = this.getAtt('ParentId');
        this.enableResourcePropertyConstraint = enableResourcePropertyConstraint;
        this.cateName = props.cateName;
        this.parentId = props.parentId;
        this.type = props.type;
    }
    get rosProperties() {
        return {
            cateName: this.cateName,
            parentId: this.parentId,
            type: this.type,
        };
    }
    renderProperties(props) {
        return rosCategoryPropsToRosTemplate(props, this.enableResourcePropertyConstraint);
    }
}
exports.RosCategory = RosCategory;
/**
 * The resource type name for this resource class.
 */
RosCategory.ROS_RESOURCE_TYPE_NAME = "ALIYUN::ICE::Category";
/**
 * Determine whether the given properties match those of a `RosInsertMediaToSearchLibProps`
 *
 * @param properties - the TypeScript properties of a `RosInsertMediaToSearchLibProps`
 *
 * @returns the result of the validation.
 */
function RosInsertMediaToSearchLibPropsValidator(properties) {
    if (!ros.canInspect(properties)) {
        return ros.VALIDATION_SUCCESS;
    }
    const errors = new ros.ValidationResults();
    errors.collect(ros.propertyValidator('input', ros.requiredValidator)(properties.input));
    errors.collect(ros.propertyValidator('input', ros.validateString)(properties.input));
    errors.collect(ros.propertyValidator('mediaId', ros.validateString)(properties.mediaId));
    errors.collect(ros.propertyValidator('searchLibName', ros.validateString)(properties.searchLibName));
    if (properties.mediaType && (typeof properties.mediaType) !== 'object') {
        errors.collect(ros.propertyValidator('mediaType', ros.validateAllowedValues)({
            data: properties.mediaType,
            allowedValues: ["video", "image", "audio"],
        }));
    }
    errors.collect(ros.propertyValidator('mediaType', ros.validateString)(properties.mediaType));
    errors.collect(ros.propertyValidator('msgBody', ros.hashValidator(ros.validateAny))(properties.msgBody));
    return errors.wrap('supplied properties not correct for "RosInsertMediaToSearchLibProps"');
}
/**
 * Renders the AliCloud ROS Resource properties of an `ALIYUN::ICE::InsertMediaToSearchLib` resource
 *
 * @param properties - the TypeScript properties of a `RosInsertMediaToSearchLibProps`
 *
 * @returns the AliCloud ROS Resource properties of an `ALIYUN::ICE::InsertMediaToSearchLib` resource.
 */
// @ts-ignore TS6133
function rosInsertMediaToSearchLibPropsToRosTemplate(properties, enableResourcePropertyConstraint) {
    if (!ros.canInspect(properties)) {
        return properties;
    }
    if (enableResourcePropertyConstraint) {
        RosInsertMediaToSearchLibPropsValidator(properties).assertSuccess();
    }
    return {
        'Input': ros.stringToRosTemplate(properties.input),
        'MediaId': ros.stringToRosTemplate(properties.mediaId),
        'MediaType': ros.stringToRosTemplate(properties.mediaType),
        'MsgBody': ros.hashMapper(ros.objectToRosTemplate)(properties.msgBody),
        'SearchLibName': ros.stringToRosTemplate(properties.searchLibName),
    };
}
/**
 * This class is a base encapsulation around the ROS resource type `ALIYUN::ICE::InsertMediaToSearchLib`, which is used to add a media asset to a search library.
 * @Note This class does not contain additional functions, so it is recommended to use the `InsertMediaToSearchLib` class instead of this class for a more convenient development experience.
 * See https://www.alibabacloud.com/help/ros/developer-reference/aliyun-ice-insertmediatosearchlib
 */
class RosInsertMediaToSearchLib extends ros.RosResource {
    /**
     * @param scope - scope in which this resource is defined
     * @param id    - scoped id of the resource
     * @param props - resource properties
     */
    constructor(scope, id, props, enableResourcePropertyConstraint) {
        super(scope, id, { type: RosInsertMediaToSearchLib.ROS_RESOURCE_TYPE_NAME, properties: props });
        this.attrMediaId = this.getAtt('MediaId');
        this.enableResourcePropertyConstraint = enableResourcePropertyConstraint;
        this.input = props.input;
        this.mediaId = props.mediaId;
        this.mediaType = props.mediaType;
        this.msgBody = props.msgBody;
        this.searchLibName = props.searchLibName;
    }
    get rosProperties() {
        return {
            input: this.input,
            mediaId: this.mediaId,
            mediaType: this.mediaType,
            msgBody: this.msgBody,
            searchLibName: this.searchLibName,
        };
    }
    renderProperties(props) {
        return rosInsertMediaToSearchLibPropsToRosTemplate(props, this.enableResourcePropertyConstraint);
    }
}
exports.RosInsertMediaToSearchLib = RosInsertMediaToSearchLib;
/**
 * The resource type name for this resource class.
 */
RosInsertMediaToSearchLib.ROS_RESOURCE_TYPE_NAME = "ALIYUN::ICE::InsertMediaToSearchLib";
/**
 * Determine whether the given properties match those of a `RosMediaInfoProps`
 *
 * @param properties - the TypeScript properties of a `RosMediaInfoProps`
 *
 * @returns the result of the validation.
 */
function RosMediaInfoPropsValidator(properties) {
    if (!ros.canInspect(properties)) {
        return ros.VALIDATION_SUCCESS;
    }
    const errors = new ros.ValidationResults();
    errors.collect(ros.propertyValidator('registerConfig', ros.validateString)(properties.registerConfig));
    errors.collect(ros.propertyValidator('overwrite', ros.validateBoolean)(properties.overwrite));
    if (properties.description && (Array.isArray(properties.description) || (typeof properties.description) === 'string')) {
        errors.collect(ros.propertyValidator('description', ros.validateLength)({
            data: properties.description.length,
            min: undefined,
            max: 1024,
        }));
    }
    errors.collect(ros.propertyValidator('description', ros.validateString)(properties.description));
    errors.collect(ros.propertyValidator('userData', ros.hashValidator(ros.validateAny))(properties.userData));
    if (properties.businessType && (typeof properties.businessType) !== 'object') {
        errors.collect(ros.propertyValidator('businessType', ros.validateAllowedValues)({
            data: properties.businessType,
            allowedValues: ["subtitles", "watermark", "opening", "ending", "general"],
        }));
    }
    errors.collect(ros.propertyValidator('businessType', ros.validateString)(properties.businessType));
    if (properties.title && (Array.isArray(properties.title) || (typeof properties.title) === 'string')) {
        errors.collect(ros.propertyValidator('title', ros.validateLength)({
            data: properties.title.length,
            min: undefined,
            max: 128,
        }));
    }
    errors.collect(ros.propertyValidator('title', ros.validateString)(properties.title));
    errors.collect(ros.propertyValidator('cateId', ros.validateNumber)(properties.cateId));
    errors.collect(ros.propertyValidator('workflowId', ros.validateString)(properties.workflowId));
    errors.collect(ros.propertyValidator('inputUrl', ros.requiredValidator)(properties.inputUrl));
    errors.collect(ros.propertyValidator('inputUrl', ros.validateString)(properties.inputUrl));
    if (properties.smartTagTemplateId && (typeof properties.smartTagTemplateId) !== 'object') {
        errors.collect(ros.propertyValidator('smartTagTemplateId', ros.validateAllowedValues)({
            data: properties.smartTagTemplateId,
            allowedValues: ["S00000101-300080", "S00000103-000001", "S00000103-000002"],
        }));
    }
    errors.collect(ros.propertyValidator('smartTagTemplateId', ros.validateString)(properties.smartTagTemplateId));
    if (properties.referenceId && (Array.isArray(properties.referenceId) || (typeof properties.referenceId) === 'string')) {
        errors.collect(ros.propertyValidator('referenceId', ros.validateLength)({
            data: properties.referenceId.length,
            min: 6,
            max: 64,
        }));
    }
    errors.collect(ros.propertyValidator('referenceId', ros.validateString)(properties.referenceId));
    if (properties.mediaType && (typeof properties.mediaType) !== 'object') {
        errors.collect(ros.propertyValidator('mediaType', ros.validateAllowedValues)({
            data: properties.mediaType,
            allowedValues: ["image", "video", "audio", "text"],
        }));
    }
    errors.collect(ros.propertyValidator('mediaType', ros.validateString)(properties.mediaType));
    if (properties.coverUrl && (Array.isArray(properties.coverUrl) || (typeof properties.coverUrl) === 'string')) {
        errors.collect(ros.propertyValidator('coverUrl', ros.validateLength)({
            data: properties.coverUrl.length,
            min: undefined,
            max: 128,
        }));
    }
    errors.collect(ros.propertyValidator('coverUrl', ros.validateString)(properties.coverUrl));
    if (properties.mediaTags && (Array.isArray(properties.mediaTags) || (typeof properties.mediaTags) === 'string')) {
        errors.collect(ros.propertyValidator('mediaTags', ros.validateLength)({
            data: properties.mediaTags.length,
            min: undefined,
            max: 16,
        }));
    }
    errors.collect(ros.propertyValidator('mediaTags', ros.listValidator(ros.validateString))(properties.mediaTags));
    return errors.wrap('supplied properties not correct for "RosMediaInfoProps"');
}
/**
 * Renders the AliCloud ROS Resource properties of an `ALIYUN::ICE::MediaInfo` resource
 *
 * @param properties - the TypeScript properties of a `RosMediaInfoProps`
 *
 * @returns the AliCloud ROS Resource properties of an `ALIYUN::ICE::MediaInfo` resource.
 */
// @ts-ignore TS6133
function rosMediaInfoPropsToRosTemplate(properties, enableResourcePropertyConstraint) {
    if (!ros.canInspect(properties)) {
        return properties;
    }
    if (enableResourcePropertyConstraint) {
        RosMediaInfoPropsValidator(properties).assertSuccess();
    }
    return {
        'InputURL': ros.stringToRosTemplate(properties.inputUrl),
        'BusinessType': ros.stringToRosTemplate(properties.businessType),
        'CateId': ros.numberToRosTemplate(properties.cateId),
        'CoverURL': ros.stringToRosTemplate(properties.coverUrl),
        'Description': ros.stringToRosTemplate(properties.description),
        'MediaTags': ros.listMapper(ros.stringToRosTemplate)(properties.mediaTags),
        'MediaType': ros.stringToRosTemplate(properties.mediaType),
        'Overwrite': ros.booleanToRosTemplate(properties.overwrite),
        'ReferenceId': ros.stringToRosTemplate(properties.referenceId),
        'RegisterConfig': ros.stringToRosTemplate(properties.registerConfig),
        'SmartTagTemplateId': ros.stringToRosTemplate(properties.smartTagTemplateId),
        'Title': ros.stringToRosTemplate(properties.title),
        'UserData': ros.hashMapper(ros.objectToRosTemplate)(properties.userData),
        'WorkflowId': ros.stringToRosTemplate(properties.workflowId),
    };
}
/**
 * This class is a base encapsulation around the ROS resource type `ALIYUN::ICE::MediaInfo`.
 * @Note This class does not contain additional functions, so it is recommended to use the `MediaInfo` class instead of this class for a more convenient development experience.
 * See https://www.alibabacloud.com/help/ros/developer-reference/aliyun-ice-mediainfo
 */
class RosMediaInfo extends ros.RosResource {
    /**
     * @param scope - scope in which this resource is defined
     * @param id    - scoped id of the resource
     * @param props - resource properties
     */
    constructor(scope, id, props, enableResourcePropertyConstraint) {
        super(scope, id, { type: RosMediaInfo.ROS_RESOURCE_TYPE_NAME, properties: props });
        this.attrMediaId = this.getAtt('MediaId');
        this.enableResourcePropertyConstraint = enableResourcePropertyConstraint;
        this.inputUrl = props.inputUrl;
        this.businessType = props.businessType;
        this.cateId = props.cateId;
        this.coverUrl = props.coverUrl;
        this.description = props.description;
        this.mediaTags = props.mediaTags;
        this.mediaType = props.mediaType;
        this.overwrite = props.overwrite;
        this.referenceId = props.referenceId;
        this.registerConfig = props.registerConfig;
        this.smartTagTemplateId = props.smartTagTemplateId;
        this.title = props.title;
        this.userData = props.userData;
        this.workflowId = props.workflowId;
    }
    get rosProperties() {
        return {
            inputUrl: this.inputUrl,
            businessType: this.businessType,
            cateId: this.cateId,
            coverUrl: this.coverUrl,
            description: this.description,
            mediaTags: this.mediaTags,
            mediaType: this.mediaType,
            overwrite: this.overwrite,
            referenceId: this.referenceId,
            registerConfig: this.registerConfig,
            smartTagTemplateId: this.smartTagTemplateId,
            title: this.title,
            userData: this.userData,
            workflowId: this.workflowId,
        };
    }
    renderProperties(props) {
        return rosMediaInfoPropsToRosTemplate(props, this.enableResourcePropertyConstraint);
    }
}
exports.RosMediaInfo = RosMediaInfo;
/**
 * The resource type name for this resource class.
 */
RosMediaInfo.ROS_RESOURCE_TYPE_NAME = "ALIYUN::ICE::MediaInfo";
/**
 * Determine whether the given properties match those of a `RosSearchLibProps`
 *
 * @param properties - the TypeScript properties of a `RosSearchLibProps`
 *
 * @returns the result of the validation.
 */
function RosSearchLibPropsValidator(properties) {
    if (!ros.canInspect(properties)) {
        return ros.VALIDATION_SUCCESS;
    }
    const errors = new ros.ValidationResults();
    errors.collect(ros.propertyValidator('searchLibName', ros.requiredValidator)(properties.searchLibName));
    errors.collect(ros.propertyValidator('searchLibName', ros.validateString)(properties.searchLibName));
    return errors.wrap('supplied properties not correct for "RosSearchLibProps"');
}
/**
 * Renders the AliCloud ROS Resource properties of an `ALIYUN::ICE::SearchLib` resource
 *
 * @param properties - the TypeScript properties of a `RosSearchLibProps`
 *
 * @returns the AliCloud ROS Resource properties of an `ALIYUN::ICE::SearchLib` resource.
 */
// @ts-ignore TS6133
function rosSearchLibPropsToRosTemplate(properties, enableResourcePropertyConstraint) {
    if (!ros.canInspect(properties)) {
        return properties;
    }
    if (enableResourcePropertyConstraint) {
        RosSearchLibPropsValidator(properties).assertSuccess();
    }
    return {
        'SearchLibName': ros.stringToRosTemplate(properties.searchLibName),
    };
}
/**
 * This class is a base encapsulation around the ROS resource type `ALIYUN::ICE::SearchLib`, which is used to create a search library.
 * @Note This class does not contain additional functions, so it is recommended to use the `SearchLib` class instead of this class for a more convenient development experience.
 * See https://www.alibabacloud.com/help/ros/developer-reference/aliyun-ice-searchlib
 */
class RosSearchLib extends ros.RosResource {
    /**
     * @param scope - scope in which this resource is defined
     * @param id    - scoped id of the resource
     * @param props - resource properties
     */
    constructor(scope, id, props, enableResourcePropertyConstraint) {
        super(scope, id, { type: RosSearchLib.ROS_RESOURCE_TYPE_NAME, properties: props });
        this.attrSearchLibName = this.getAtt('SearchLibName');
        this.enableResourcePropertyConstraint = enableResourcePropertyConstraint;
        this.searchLibName = props.searchLibName;
    }
    get rosProperties() {
        return {
            searchLibName: this.searchLibName,
        };
    }
    renderProperties(props) {
        return rosSearchLibPropsToRosTemplate(props, this.enableResourcePropertyConstraint);
    }
}
exports.RosSearchLib = RosSearchLib;
/**
 * The resource type name for this resource class.
 */
RosSearchLib.ROS_RESOURCE_TYPE_NAME = "ALIYUN::ICE::SearchLib";
/**
 * Determine whether the given properties match those of a `RosUploadMediaProps`
 *
 * @param properties - the TypeScript properties of a `RosUploadMediaProps`
 *
 * @returns the result of the validation.
 */
function RosUploadMediaPropsValidator(properties) {
    if (!ros.canInspect(properties)) {
        return ros.VALIDATION_SUCCESS;
    }
    const errors = new ros.ValidationResults();
    errors.collect(ros.propertyValidator('entityId', ros.validateString)(properties.entityId));
    errors.collect(ros.propertyValidator('appId', ros.validateString)(properties.appId));
    errors.collect(ros.propertyValidator('fileInfo', ros.hashValidator(ros.validateAny))(properties.fileInfo));
    errors.collect(ros.propertyValidator('userData', ros.hashValidator(ros.validateAny))(properties.userData));
    errors.collect(ros.propertyValidator('uploadTargetConfig', ros.hashValidator(ros.validateAny))(properties.uploadTargetConfig));
    errors.collect(ros.propertyValidator('mediaMetaData', ros.hashValidator(ros.validateAny))(properties.mediaMetaData));
    errors.collect(ros.propertyValidator('postProcessConfig', ros.hashValidator(ros.validateAny))(properties.postProcessConfig));
    return errors.wrap('supplied properties not correct for "RosUploadMediaProps"');
}
/**
 * Renders the AliCloud ROS Resource properties of an `ALIYUN::ICE::UploadMedia` resource
 *
 * @param properties - the TypeScript properties of a `RosUploadMediaProps`
 *
 * @returns the AliCloud ROS Resource properties of an `ALIYUN::ICE::UploadMedia` resource.
 */
// @ts-ignore TS6133
function rosUploadMediaPropsToRosTemplate(properties, enableResourcePropertyConstraint) {
    if (!ros.canInspect(properties)) {
        return properties;
    }
    if (enableResourcePropertyConstraint) {
        RosUploadMediaPropsValidator(properties).assertSuccess();
    }
    return {
        'AppId': ros.stringToRosTemplate(properties.appId),
        'EntityId': ros.stringToRosTemplate(properties.entityId),
        'FileInfo': ros.hashMapper(ros.objectToRosTemplate)(properties.fileInfo),
        'MediaMetaData': ros.hashMapper(ros.objectToRosTemplate)(properties.mediaMetaData),
        'PostProcessConfig': ros.hashMapper(ros.objectToRosTemplate)(properties.postProcessConfig),
        'UploadTargetConfig': ros.hashMapper(ros.objectToRosTemplate)(properties.uploadTargetConfig),
        'UserData': ros.hashMapper(ros.objectToRosTemplate)(properties.userData),
    };
}
/**
 * This class is a base encapsulation around the ROS resource type `ALIYUN::ICE::UploadMedia`.
 * @Note This class does not contain additional functions, so it is recommended to use the `UploadMedia` class instead of this class for a more convenient development experience.
 * See https://www.alibabacloud.com/help/ros/developer-reference/aliyun-ice-uploadmedia
 */
class RosUploadMedia extends ros.RosResource {
    /**
     * @param scope - scope in which this resource is defined
     * @param id    - scoped id of the resource
     * @param props - resource properties
     */
    constructor(scope, id, props, enableResourcePropertyConstraint) {
        super(scope, id, { type: RosUploadMedia.ROS_RESOURCE_TYPE_NAME, properties: props });
        this.attrFileUrl = this.getAtt('FileURL');
        this.attrMediaId = this.getAtt('MediaId');
        this.attrMediaUrl = this.getAtt('MediaURL');
        this.attrUploadAddress = this.getAtt('UploadAddress');
        this.attrUploadAuth = this.getAtt('UploadAuth');
        this.enableResourcePropertyConstraint = enableResourcePropertyConstraint;
        this.appId = props.appId;
        this.entityId = props.entityId;
        this.fileInfo = props.fileInfo;
        this.mediaMetaData = props.mediaMetaData;
        this.postProcessConfig = props.postProcessConfig;
        this.uploadTargetConfig = props.uploadTargetConfig;
        this.userData = props.userData;
    }
    get rosProperties() {
        return {
            appId: this.appId,
            entityId: this.entityId,
            fileInfo: this.fileInfo,
            mediaMetaData: this.mediaMetaData,
            postProcessConfig: this.postProcessConfig,
            uploadTargetConfig: this.uploadTargetConfig,
            userData: this.userData,
        };
    }
    renderProperties(props) {
        return rosUploadMediaPropsToRosTemplate(props, this.enableResourcePropertyConstraint);
    }
}
exports.RosUploadMedia = RosUploadMedia;
/**
 * The resource type name for this resource class.
 */
RosUploadMedia.ROS_RESOURCE_TYPE_NAME = "ALIYUN::ICE::UploadMedia";
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaWNlLmdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImljZS5nZW5lcmF0ZWQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLHlEQUF5RDs7O0FBRXpELDhDQUE4QztBQTRCOUM7Ozs7OztHQU1HO0FBQ0gsU0FBUyx5QkFBeUIsQ0FBQyxVQUFlO0lBQzlDLElBQUksQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLFVBQVUsQ0FBQyxFQUFFO1FBQUUsT0FBTyxHQUFHLENBQUMsa0JBQWtCLENBQUM7S0FBRTtJQUNuRSxNQUFNLE1BQU0sR0FBRyxJQUFJLEdBQUcsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO0lBQzNDLE1BQU0sQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLGlCQUFpQixDQUFDLFVBQVUsRUFBRSxHQUFHLENBQUMsY0FBYyxDQUFDLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7SUFDM0YsSUFBRyxVQUFVLENBQUMsSUFBSSxJQUFJLENBQUMsT0FBTyxVQUFVLENBQUMsSUFBSSxDQUFDLEtBQUssUUFBUSxFQUFFO1FBQ3pELE1BQU0sQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLGlCQUFpQixDQUFDLE1BQU0sRUFBRSxHQUFHLENBQUMscUJBQXFCLENBQUMsQ0FBQztZQUN0RSxJQUFJLEVBQUUsVUFBVSxDQUFDLElBQUk7WUFDckIsYUFBYSxFQUFFLENBQUMsVUFBVSxFQUFDLFNBQVMsQ0FBQztTQUN0QyxDQUFDLENBQUMsQ0FBQztLQUNQO0lBQ0QsTUFBTSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsaUJBQWlCLENBQUMsTUFBTSxFQUFFLEdBQUcsQ0FBQyxjQUFjLENBQUMsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztJQUNuRixNQUFNLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLEVBQUUsR0FBRyxDQUFDLGlCQUFpQixDQUFDLENBQUMsVUFBVSxDQUFD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LENBQUM7UUFDekIsSUFBSSxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUMsUUFBUSxDQUFDO1FBQy9CLElBQUksQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDLFFBQVEsQ0FBQztRQUMvQixJQUFJLENBQUMsYUFBYSxHQUFHLEtBQUssQ0FBQyxhQUFhLENBQUM7UUFDekMsSUFBSSxDQUFDLGlCQUFpQixHQUFHLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQztRQUNqRCxJQUFJLENBQUMsa0JBQWtCLEdBQUcsS0FBSyxDQUFDLGtCQUFrQixDQUFDO1FBQ25ELElBQUksQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDLFFBQVEsQ0FBQztJQUNuQyxDQUFDO0lBR0QsSUFBYyxhQUFhO1FBQ3ZCLE9BQU87WUFDSCxLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUs7WUFDakIsUUFBUSxFQUFFLElBQUksQ0FBQyxRQUFRO1lBQ3ZCLFFBQVEsRUFBRSxJQUFJLENBQUMsUUFBUTtZQUN2QixhQUFhLEVBQUUsSUFBSSxDQUFDLGFBQWE7WUFDakMsaUJBQWlCLEVBQUUsSUFBSSxDQUFDLGlCQUFpQjtZQUN6QyxrQkFBa0IsRUFBRSxJQUFJLENBQUMsa0JBQWtCO1lBQzNDLFFBQVEsRUFBRSxJQUFJLENBQUMsUUFBUTtTQUMxQixDQUFDO0lBQ04sQ0FBQztJQUNTLGdCQUFnQixDQUFDLEtBQTJCO1FBQ2xELE9BQU8sZ0NBQWdDLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxnQ0FBZ0MsQ0FBQyxDQUFDO0lBQzFGLENBQUM7O0FBbElMLHdDQW1JQztBQWxJRzs7R0FFRztBQUNvQixxQ0FBc0IsR0FBRywwQkFBMEIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8vIEdlbmVyYXRlZCBmcm9tIHRoZSBBbGlDbG91ZCBST1MgUmVzb3VyY2UgU3BlY2lmaWNhdGlvblxuXG5pbXBvcnQgKiBhcyByb3MgZnJvbSAnQGFsaWNsb3VkL3Jvcy1jZGstY29yZSc7XG5cbi8qKlxuICogUHJvcGVydGllcyBmb3IgZGVmaW5pbmcgYSBgUm9zQ2F0ZWdvcnlgLlxuICogU2VlIGh0dHBzOi8vd3d3LmFsaWJhYmFjbG91ZC5jb20vaGVscC9yb3MvZGV2ZWxvcGVyLXJlZmVyZW5jZS9hbGl5dW4taWNlLWNhdGVnb3J5XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUm9zQ2F0ZWdvcnlQcm9wcyB7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgY2F0ZU5hbWU6IFRoZSBjYXRlZ29yeSBuYW1lLlxuICAgICAqIFRoZSB2YWx1ZSBjYW4gYmUgdXAgdG8gNjQgYnl0ZXMgaW4gbGVuZ3RoLlxuICAgICAqIFRoZSB2YWx1ZSBtdXN0IGJlIGVuY29kZWQgaW4gVVRGLTguXG4gICAgICovXG4gICAgcmVhZG9ubHkgY2F0ZU5hbWU6IHN0cmluZyB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIEBQcm9wZXJ0eSBwYXJlbnRJZDogVGhlIElEIG9mIHRoZSBwYXJlbnQgY2F0ZWdvcnkuXG4gICAgICovXG4gICAgcmVhZG9ubHkgcGFyZW50SWQ/OiBudW1iZXIgfCByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgdHlwZTogVGhlIHR5cGUgb2YgdGhlIGNhdGVnb3J5LiBWYWxpZCB2YWx1ZXM6XG4gICAgICogZGVmYXVsdDogYXVkaW8sIHZpZGVvLCBhbmQgaW1hZ2UgZmlsZXMuIFRoaXMgaXMgdGhlIGRlZmF1bHQgdmFsdWUuXG4gICAgICogbWF0ZXJpYWw6IHNob3J0IHZpZGVvIG1hdGVyaWFscy5cbiAgICAgKi9cbiAgICByZWFkb25seSB0eXBlPzogc3RyaW5nIHwgcm9zLklSZXNvbHZhYmxlO1xufVxuXG4vKipcbiAqIERldGVybWluZSB3aGV0aGVyIHRoZSBnaXZlbiBwcm9wZXJ0aWVzIG1hdGNoIHRob3NlIG9mIGEgYFJvc0NhdGVnb3J5UHJvcHNgXG4gKlxuICogQHBhcmFtIHByb3BlcnRpZXMgLSB0aGUgVHlwZVNjcmlwdCBwcm9wZXJ0aWVzIG9mIGEgYFJvc0NhdGVnb3J5UHJvcHNgXG4gKlxuICogQHJldHVybnMgdGhlIHJlc3VsdCBvZiB0aGUgdmFsaWRhdGlvbi5cbiAqL1xuZnVuY3Rpb24gUm9zQ2F0ZWdvcnlQcm9wc1ZhbGlkYXRvcihwcm9wZXJ0aWVzOiBhbnkpOiByb3MuVmFsaWRhdGlvblJlc3VsdCB7XG4gICAgaWYgKCFyb3MuY2FuSW5zcGVjdChwcm9wZXJ0aWVzKSkgeyByZXR1cm4gcm9zLlZBTElEQVRJT05fU1VDQ0VTUzsgfVxuICAgIGNvbnN0IGVycm9ycyA9IG5ldyByb3MuVmFsaWRhdGlvblJlc3VsdHMoKTtcbiAgICBlcnJvcnMuY29sbGVjdChyb3MucHJvcGVydHlWYWxpZGF0b3IoJ3BhcmVudElkJywgcm9zLnZhbGlkYXRlTnVtYmVyKShwcm9wZXJ0aWVzLnBhcmVudElkKSk7XG4gICAgaWYocHJvcGVydGllcy50eXBlICYmICh0eXBlb2YgcHJvcGVydGllcy50eXBlKSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgZXJyb3JzLmNvbGxlY3Qocm9zLnByb3BlcnR5VmFsaWRhdG9yKCd0eXBlJywgcm9zLnZhbGlkYXRlQWxsb3dlZFZhbHVlcykoe1xuICAgICAgICAgIGRhdGE6IHByb3BlcnRpZXMudHlwZSxcbiAgICAgICAgICBhbGxvd2VkVmFsdWVzOiBbXCJtYXRlcmlhbFwiLFwiZGVmYXVsdFwiXSxcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBlcnJvcnMuY29sbGVjdChyb3MucHJvcGVydHlWYWxpZGF0b3IoJ3R5cGUnLCByb3MudmFsaWRhdGVTdHJpbmcpKHByb3BlcnRpZXMudHlwZSkpO1xuICAgIGVycm9ycy5jb2xsZWN0KHJvcy5wcm9wZXJ0eVZhbGlkYXRvcignY2F0ZU5hbWUnLCByb3MucmVxdWlyZWRWYWxpZGF0b3IpKHByb3BlcnRpZXMuY2F0ZU5hbWUpKTtcbiAgICBlcnJvcnMuY29sbGVjdChyb3MucHJvcGVydHlWYWxpZGF0b3IoJ2NhdGVOYW1lJywgcm9zLnZhbGlkYXRlU3RyaW5nKShwcm9wZXJ0aWVzLmNhdGVOYW1lKSk7XG4gICAgcmV0dXJuIGVycm9ycy53cmFwKCdzdXBwbGllZCBwcm9wZXJ0aWVzIG5vdCBjb3JyZWN0IGZvciBcIlJvc0NhdGVnb3J5UHJvcHNcIicpO1xufVxuXG4vKipcbiAqIFJlbmRlcnMgdGhlIEFsaUNsb3VkIFJPUyBSZXNvdXJjZSBwcm9wZXJ0aWVzIG9mIGFuIGBBTElZVU46OklDRTo6Q2F0ZWdvcnlgIHJlc291cmNlXG4gKlxuICogQHBhcmFtIHByb3BlcnRpZXMgLSB0aGUgVHlwZVNjcmlwdCBwcm9wZXJ0aWVzIG9mIGEgYFJvc0NhdGVnb3J5UHJvcHNgXG4gKlxuICogQHJldHVybnMgdGhlIEFsaUNsb3VkIFJPUyBSZXNvdXJjZSBwcm9wZXJ0aWVzIG9mIGFuIGBBTElZVU46OklDRTo6Q2F0ZWdvcnlgIHJlc291cmNlLlxuICovXG4vLyBAdHMtaWdub3JlIFRTNjEzM1xuZnVuY3Rpb24gcm9zQ2F0ZWdvcnlQcm9wc1RvUm9zVGVtcGxhdGUocHJvcGVydGllczogYW55LCBlbmFibGVSZXNvdXJjZVByb3BlcnR5Q29uc3RyYWludDogYm9vbGVhbik6IGFueSB7XG4gICAgaWYgKCFyb3MuY2FuSW5zcGVjdChwcm9wZXJ0aWVzKSkgeyByZXR1cm4gcHJvcGVydGllczsgfVxuICAgIGlmKGVuYWJsZVJlc291cmNlUHJvcGVydHlDb25zdHJhaW50KSB7XG4gICAgICAgIFJvc0NhdGVnb3J5UHJvcHNWYWxpZGF0b3IocHJvcGVydGllcykuYXNzZXJ0U3VjY2VzcygpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgJ0NhdGVOYW1lJzogcm9zLnN0cmluZ1RvUm9zVGVtcGxhdGUocHJvcGVydGllcy5jYXRlTmFtZSksXG4gICAgICAnUGFyZW50SWQnOiByb3MubnVtYmVyVG9Sb3NUZW1wbGF0ZShwcm9wZXJ0aWVzLnBhcmVudElkKSxcbiAgICAgICdUeXBlJzogcm9zLnN0cmluZ1RvUm9zVGVtcGxhdGUocHJvcGVydGllcy50eXBlKSxcbiAgICB9O1xufVxuXG4vKipcbiAqIFRoaXMgY2xhc3MgaXMgYSBiYXNlIGVuY2Fwc3VsYXRpb24gYXJvdW5kIHRoZSBST1MgcmVzb3VyY2UgdHlwZSBgQUxJWVVOOjpJQ0U6OkNhdGVnb3J5YC5cbiAqIEBOb3RlIFRoaXMgY2xhc3MgZG9lcyBub3QgY29udGFpbiBhZGRpdGlvbmFsIGZ1bmN0aW9ucywgc28gaXQgaXMgcmVjb21tZW5kZWQgdG8gdXNlIHRoZSBgQ2F0ZWdvcnlgIGNsYXNzIGluc3RlYWQgb2YgdGhpcyBjbGFzcyBmb3IgYSBtb3JlIGNvbnZlbmllbnQgZGV2ZWxvcG1lbnQgZXhwZXJpZW5jZS5cbiAqIFNlZSBodHRwczovL3d3dy5hbGliYWJhY2xvdWQuY29tL2hlbHAvcm9zL2RldmVsb3Blci1yZWZlcmVuY2UvYWxpeXVuLWljZS1jYXRlZ29yeVxuICovXG5leHBvcnQgY2xhc3MgUm9zQ2F0ZWdvcnkgZXh0ZW5kcyByb3MuUm9zUmVzb3VyY2Uge1xuICAgIC8qKlxuICAgICAqIFRoZSByZXNvdXJjZSB0eXBlIG5hbWUgZm9yIHRoaXMgcmVzb3VyY2UgY2xhc3MuXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBST1NfUkVTT1VSQ0VfVFlQRV9OQU1FID0gXCJBTElZVU46OklDRTo6Q2F0ZWdvcnlcIjtcblxuICAgIC8qKlxuICAgICAqIEBBdHRyaWJ1dGUgQ2F0ZUlkOiBUaGUgSUQgb2YgdGhlIGNhdGVnb3J5LlxuICAgICAqL1xuICAgIHB1YmxpYyByZWFkb25seSBhdHRyQ2F0ZUlkOiByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBAQXR0cmlidXRlIExldmVsOiBUaGUgbGV2ZWwgb2YgdGhlIGNhdGVnb3J5LiBUaGUgcHJpbWFyeSBjbGFzc2lmaWNhdGlvbiBsZXZlbCBpcyAwLCB0aGUgc2Vjb25kYXJ5IGNsYXNzaWZpY2F0aW9uIGxldmVsIGlzIDEsIGFuZCB0aGUgdGVydGlhcnkgY2xhc3NpZmljYXRpb24gbGV2ZWwgaXMgMi5cbiAgICAgKi9cbiAgICBwdWJsaWMgcmVhZG9ubHkgYXR0ckxldmVsOiByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBAQXR0cmlidXRlIFBhcmVudElkOiBUaGUgSUQgb2YgdGhlIHBhcmVudCBjYXRlZ29yeS5cbiAgICAgKi9cbiAgICBwdWJsaWMgcmVhZG9ubHkgYXR0clBhcmVudElkOiByb3MuSVJlc29sdmFibGU7XG5cbiAgICBwdWJsaWMgZW5hYmxlUmVzb3VyY2VQcm9wZXJ0eUNvbnN0cmFpbnQ6IGJvb2xlYW47XG5cblxuICAgIC8qKlxuICAgICAqIEBQcm9wZXJ0eSBjYXRlTmFtZTogVGhlIGNhdGVnb3J5IG5hbWUuXG4gICAgICogVGhlIHZhbHVlIGNhbiBiZSB1cCB0byA2NCBieXRlcyBpbiBsZW5ndGguXG4gICAgICogVGhlIHZhbHVlIG11c3QgYmUgZW5jb2RlZCBpbiBVVEYtOC5cbiAgICAgKi9cbiAgICBwdWJsaWMgY2F0ZU5hbWU6IHN0cmluZyB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIEBQcm9wZXJ0eSBwYXJlbnRJZDogVGhlIElEIG9mIHRoZSBwYXJlbnQgY2F0ZWdvcnkuXG4gICAgICovXG4gICAgcHVibGljIHBhcmVudElkOiBudW1iZXIgfCByb3MuSVJlc29sdmFibGUgfCB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgdHlwZTogVGhlIHR5cGUgb2YgdGhlIGNhdGVnb3J5LiBWYWxpZCB2YWx1ZXM6XG4gICAgICogZGVmYXVsdDogYXVkaW8sIHZpZGVvLCBhbmQgaW1hZ2UgZmlsZXMuIFRoaXMgaXMgdGhlIGRlZmF1bHQgdmFsdWUuXG4gICAgICogbWF0ZXJpYWw6IHNob3J0IHZpZGVvIG1hdGVyaWFscy5cbiAgICAgKi9cbiAgICBwdWJsaWMgdHlwZTogc3RyaW5nIHwgcm9zLklSZXNvbHZhYmxlIHwgdW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHNjb3BlIC0gc2NvcGUgaW4gd2hpY2ggdGhpcyByZXNvdXJjZSBpcyBkZWZpbmVkXG4gICAgICogQHBhcmFtIGlkICAgIC0gc2NvcGVkIGlkIG9mIHRoZSByZXNvdXJjZVxuICAgICAqIEBwYXJhbSBwcm9wcyAtIHJlc291cmNlIHByb3BlcnRpZXNcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihzY29wZTogcm9zLkNvbnN0cnVjdCwgaWQ6IHN0cmluZywgcHJvcHM6IFJvc0NhdGVnb3J5UHJvcHMsIGVuYWJsZVJlc291cmNlUHJvcGVydHlDb25zdHJhaW50OiBib29sZWFuKSB7XG4gICAgICAgIHN1cGVyKHNjb3BlLCBpZCwgeyB0eXBlOiBSb3NDYXRlZ29yeS5ST1NfUkVTT1VSQ0VfVFlQRV9OQU1FLCBwcm9wZXJ0aWVzOiBwcm9wcyB9KTtcbiAgICAgICAgdGhpcy5hdHRyQ2F0ZUlkID0gdGhpcy5nZXRBdHQoJ0NhdGVJZCcpO1xuICAgICAgICB0aGlzLmF0dHJMZXZlbCA9IHRoaXMuZ2V0QXR0KCdMZXZlbCcpO1xuICAgICAgICB0aGlzLmF0dHJQYXJlbnRJZCA9IHRoaXMuZ2V0QXR0KCdQYXJlbnRJZCcpO1xuXG4gICAgICAgIHRoaXMuZW5hYmxlUmVzb3VyY2VQcm9wZXJ0eUNvbnN0cmFpbnQgPSBlbmFibGVSZXNvdXJjZVByb3BlcnR5Q29uc3RyYWludDtcbiAgICAgICAgdGhpcy5jYXRlTmFtZSA9IHByb3BzLmNhdGVOYW1lO1xuICAgICAgICB0aGlzLnBhcmVudElkID0gcHJvcHMucGFyZW50SWQ7XG4gICAgICAgIHRoaXMudHlwZSA9IHByb3BzLnR5cGU7XG4gICAgfVxuXG5cbiAgICBwcm90ZWN0ZWQgZ2V0IHJvc1Byb3BlcnRpZXMoKTogeyBba2V5OiBzdHJpbmddOiBhbnkgfSAge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY2F0ZU5hbWU6IHRoaXMuY2F0ZU5hbWUsXG4gICAgICAgICAgICBwYXJlbnRJZDogdGhpcy5wYXJlbnRJZCxcbiAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcHJvdGVjdGVkIHJlbmRlclByb3BlcnRpZXMocHJvcHM6IHtba2V5OiBzdHJpbmddOiBhbnl9KTogeyBba2V5OiBzdHJpbmddOiBhbnkgfSAge1xuICAgICAgICByZXR1cm4gcm9zQ2F0ZWdvcnlQcm9wc1RvUm9zVGVtcGxhdGUocHJvcHMsIHRoaXMuZW5hYmxlUmVzb3VyY2VQcm9wZXJ0eUNvbnN0cmFpbnQpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBQcm9wZXJ0aWVzIGZvciBkZWZpbmluZyBhIGBSb3NJbnNlcnRNZWRpYVRvU2VhcmNoTGliYC5cbiAqIFNlZSBodHRwczovL3d3dy5hbGliYWJhY2xvdWQuY29tL2hlbHAvcm9zL2RldmVsb3Blci1yZWZlcmVuY2UvYWxpeXVuLWljZS1pbnNlcnRtZWRpYXRvc2VhcmNobGliXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUm9zSW5zZXJ0TWVkaWFUb1NlYXJjaExpYlByb3BzIHtcblxuICAgIC8qKlxuICAgICAqIEBQcm9wZXJ0eSBpbnB1dDogVGhlIFVSTCBvZiB0aGUgdmlkZW8sIGF1ZGlvLCBvciBpbWFnZSBmaWxlIHRoYXQgeW91IHdhbnQgdG8gaW1wb3J0IHRvIHRoZSBzZWFyY2ggbGlicmFyeS5cbiAgICAgKiBOb3RlOiBNYWtlIHN1cmUgdGhhdCB5b3Ugc3BlY2lmeSBhIGNvcnJlY3QgZmlsZSBuYW1lIGFuZCB0aGUgYnVja2V0IGluIHdoaWNoIHRoZSBmaWxlIHJlc2lkZXMgaXMgaW4gdGhlIHNhbWUgcmVnaW9uIHdoZXJlIHRoaXMgb3BlcmF0aW9uIGlzIGNhbGxlZC4gT3RoZXJ3aXNlLCB0aGUgZmlsZSBjYW5ub3QgYmUgZm91bmQgb3IgdGhlIG9wZXJhdGlvbiBtYXkgZmFpbC5cbiAgICAgKiBTcGVjaWZ5IGFuIE9iamVjdCBTdG9yYWdlIFNlcnZpY2UgKE9TUykgVVJMIGluIHRoZSBmb2xsb3dpbmcgZm9ybWF0OiBvc3M6XFwvXFwvW0J1Y2tldCBuYW1lXVxcL1tGaWxlIHBhdGhdLiBGb3IgZXhhbXBsZSwgeW91IGNhbiBzcGVjaWZ5IG9zczpcXC9cXC9bZXhhbXBsZS1idWNrZXQtXVxcL1tvYmplY3RfcGF0aC1dLlxuICAgICAqIFNwZWNpZnkgYW4gSFRUUCBVUkwgaW4gdGhlIGZvbGxvd2luZyBmb3JtYXQ6IHB1YmxpYyBlbmRwb2ludC4gRm9yIGV4YW1wbGUsIHlvdSBjYW4gc3BlY2lmeSBodHRwOlxcL1xcL2V4YW1wbGUtdGVzdC0qKioqLm1wNC5cbiAgICAgKi9cbiAgICByZWFkb25seSBpbnB1dDogc3RyaW5nIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IG1lZGlhSWQ6IFRoZSBJRCBvZiB0aGUgbWVkaWEgYXNzZXQuIEVhY2ggbWVkaWEgSUQgaXMgdW5pcXVlLiBJZiB5b3UgbGVhdmUgdGhpcyBwYXJhbWV0ZXIgZW1wdHksIGEgbWVkaWEgSUQgaXMgYXV0b21hdGljYWxseSBnZW5lcmF0ZWQgZm9yIHRoaXMgcGFyYW1ldGVyLlxuICAgICAqL1xuICAgIHJlYWRvbmx5IG1lZGlhSWQ/OiBzdHJpbmcgfCByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgbWVkaWFUeXBlOiBUaGUgdHlwZSBvZiB0aGUgbWVkaWEgYXNzZXQuIFZhbGlkIHZhbHVlczpcbiAgICAgKiB2aWRlbyAoZGVmYXVsdClcbiAgICAgKiBpbWFnZVxuICAgICAqIGF1ZGlvXG4gICAgICovXG4gICAgcmVhZG9ubHkgbWVkaWFUeXBlPzogc3RyaW5nIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IG1zZ0JvZHk6IFRoZSBtZXNzYWdlIGJvZHkuXG4gICAgICovXG4gICAgcmVhZG9ubHkgbXNnQm9keT86IHsgW2tleTogc3RyaW5nXTogKGFueSB8IHJvcy5JUmVzb2x2YWJsZSkgfSB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIEBQcm9wZXJ0eSBzZWFyY2hMaWJOYW1lOiBUaGUgbmFtZSBvZiB0aGUgc2VhcmNoIGxpYnJhcnkuIERlZmF1bHQgdmFsdWU6IGltcy1kZWZhdWx0LXNlYXJjaC1saWIuXG4gICAgICovXG4gICAgcmVhZG9ubHkgc2VhcmNoTGliTmFtZT86IHN0cmluZyB8IHJvcy5JUmVzb2x2YWJsZTtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgd2hldGhlciB0aGUgZ2l2ZW4gcHJvcGVydGllcyBtYXRjaCB0aG9zZSBvZiBhIGBSb3NJbnNlcnRNZWRpYVRvU2VhcmNoTGliUHJvcHNgXG4gKlxuICogQHBhcmFtIHByb3BlcnRpZXMgLSB0aGUgVHlwZVNjcmlwdCBwcm9wZXJ0aWVzIG9mIGEgYFJvc0luc2VydE1lZGlhVG9TZWFyY2hMaWJQcm9wc2BcbiAqXG4gKiBAcmV0dXJucyB0aGUgcmVzdWx0IG9mIHRoZSB2YWxpZGF0aW9uLlxuICovXG5mdW5jdGlvbiBSb3NJbnNlcnRNZWRpYVRvU2VhcmNoTGliUHJvcHNWYWxpZGF0b3IocHJvcGVydGllczogYW55KTogcm9zLlZhbGlkYXRpb25SZXN1bHQge1xuICAgIGlmICghcm9zLmNhbkluc3BlY3QocHJvcGVydGllcykpIHsgcmV0dXJuIHJvcy5WQUxJREFUSU9OX1NVQ0NFU1M7IH1cbiAgICBjb25zdCBlcnJvcnMgPSBuZXcgcm9zLlZhbGlkYXRpb25SZXN1bHRzKCk7XG4gICAgZXJyb3JzLmNvbGxlY3Qocm9zLnByb3BlcnR5VmFsaWRhdG9yKCdpbnB1dCcsIHJvcy5yZXF1aXJlZFZhbGlkYXRvcikocHJvcGVydGllcy5pbnB1dCkpO1xuICAgIGVycm9ycy5jb2xsZWN0KHJvcy5wcm9wZXJ0eVZhbGlkYXRvcignaW5wdXQnLCByb3MudmFsaWRhdGVTdHJpbmcpKHByb3BlcnRpZXMuaW5wdXQpKTtcbiAgICBlcnJvcnMuY29sbGVjdChyb3MucHJvcGVydHlWYWxpZGF0b3IoJ21lZGlhSWQnLCByb3MudmFsaWRhdGVTdHJpbmcpKHByb3BlcnRpZXMubWVkaWFJZCkpO1xuICAgIGVycm9ycy5jb2xsZWN0KHJvcy5wcm9wZXJ0eVZhbGlkYXRvcignc2VhcmNoTGliTmFtZScsIHJvcy52YWxpZGF0ZVN0cmluZykocHJvcGVydGllcy5zZWFyY2hMaWJOYW1lKSk7XG4gICAgaWYocHJvcGVydGllcy5tZWRpYVR5cGUgJiYgKHR5cGVvZiBwcm9wZXJ0aWVzLm1lZGlhVHlwZSkgIT09ICdvYmplY3QnKSB7XG4gICAgICAgIGVycm9ycy5jb2xsZWN0KHJvcy5wcm9wZXJ0eVZhbGlkYXRvcignbWVkaWFUeXBlJywgcm9zLnZhbGlkYXRlQWxsb3dlZFZhbHVlcykoe1xuICAgICAgICAgIGRhdGE6IHByb3BlcnRpZXMubWVkaWFUeXBlLFxuICAgICAgICAgIGFsbG93ZWRWYWx1ZXM6IFtcInZpZGVvXCIsXCJpbWFnZVwiLFwiYXVkaW9cIl0sXG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgZXJyb3JzLmNvbGxlY3Qocm9zLnByb3BlcnR5VmFsaWRhdG9yKCdtZWRpYVR5cGUnLCByb3MudmFsaWRhdGVTdHJpbmcpKHByb3BlcnRpZXMubWVkaWFUeXBlKSk7XG4gICAgZXJyb3JzLmNvbGxlY3Qocm9zLnByb3BlcnR5VmFsaWRhdG9yKCdtc2dCb2R5Jywgcm9zLmhhc2hWYWxpZGF0b3Iocm9zLnZhbGlkYXRlQW55KSkocHJvcGVydGllcy5tc2dCb2R5KSk7XG4gICAgcmV0dXJuIGVycm9ycy53cmFwKCdzdXBwbGllZCBwcm9wZXJ0aWVzIG5vdCBjb3JyZWN0IGZvciBcIlJvc0luc2VydE1lZGlhVG9TZWFyY2hMaWJQcm9wc1wiJyk7XG59XG5cbi8qKlxuICogUmVuZGVycyB0aGUgQWxpQ2xvdWQgUk9TIFJlc291cmNlIHByb3BlcnRpZXMgb2YgYW4gYEFMSVlVTjo6SUNFOjpJbnNlcnRNZWRpYVRvU2VhcmNoTGliYCByZXNvdXJjZVxuICpcbiAqIEBwYXJhbSBwcm9wZXJ0aWVzIC0gdGhlIFR5cGVTY3JpcHQgcHJvcGVydGllcyBvZiBhIGBSb3NJbnNlcnRNZWRpYVRvU2VhcmNoTGliUHJvcHNgXG4gKlxuICogQHJldHVybnMgdGhlIEFsaUNsb3VkIFJPUyBSZXNvdXJjZSBwcm9wZXJ0aWVzIG9mIGFuIGBBTElZVU46OklDRTo6SW5zZXJ0TWVkaWFUb1NlYXJjaExpYmAgcmVzb3VyY2UuXG4gKi9cbi8vIEB0cy1pZ25vcmUgVFM2MTMzXG5mdW5jdGlvbiByb3NJbnNlcnRNZWRpYVRvU2VhcmNoTGliUHJvcHNUb1Jvc1RlbXBsYXRlKHByb3BlcnRpZXM6IGFueSwgZW5hYmxlUmVzb3VyY2VQcm9wZXJ0eUNvbnN0cmFpbnQ6IGJvb2xlYW4pOiBhbnkge1xuICAgIGlmICghcm9zLmNhbkluc3BlY3QocHJvcGVydGllcykpIHsgcmV0dXJuIHByb3BlcnRpZXM7IH1cbiAgICBpZihlbmFibGVSZXNvdXJjZVByb3BlcnR5Q29uc3RyYWludCkge1xuICAgICAgICBSb3NJbnNlcnRNZWRpYVRvU2VhcmNoTGliUHJvcHNWYWxpZGF0b3IocHJvcGVydGllcykuYXNzZXJ0U3VjY2VzcygpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgJ0lucHV0Jzogcm9zLnN0cmluZ1RvUm9zVGVtcGxhdGUocHJvcGVydGllcy5pbnB1dCksXG4gICAgICAnTWVkaWFJZCc6IHJvcy5zdHJpbmdUb1Jvc1RlbXBsYXRlKHByb3BlcnRpZXMubWVkaWFJZCksXG4gICAgICAnTWVkaWFUeXBlJzogcm9zLnN0cmluZ1RvUm9zVGVtcGxhdGUocHJvcGVydGllcy5tZWRpYVR5cGUpLFxuICAgICAgJ01zZ0JvZHknOiByb3MuaGFzaE1hcHBlcihyb3Mub2JqZWN0VG9Sb3NUZW1wbGF0ZSkocHJvcGVydGllcy5tc2dCb2R5KSxcbiAgICAgICdTZWFyY2hMaWJOYW1lJzogcm9zLnN0cmluZ1RvUm9zVGVtcGxhdGUocHJvcGVydGllcy5zZWFyY2hMaWJOYW1lKSxcbiAgICB9O1xufVxuXG4vKipcbiAqIFRoaXMgY2xhc3MgaXMgYSBiYXNlIGVuY2Fwc3VsYXRpb24gYXJvdW5kIHRoZSBST1MgcmVzb3VyY2UgdHlwZSBgQUxJWVVOOjpJQ0U6Okluc2VydE1lZGlhVG9TZWFyY2hMaWJgLCB3aGljaCBpcyB1c2VkIHRvIGFkZCBhIG1lZGlhIGFzc2V0IHRvIGEgc2VhcmNoIGxpYnJhcnkuXG4gKiBATm90ZSBUaGlzIGNsYXNzIGRvZXMgbm90IGNvbnRhaW4gYWRkaXRpb25hbCBmdW5jdGlvbnMsIHNvIGl0IGlzIHJlY29tbWVuZGVkIHRvIHVzZSB0aGUgYEluc2VydE1lZGlhVG9TZWFyY2hMaWJgIGNsYXNzIGluc3RlYWQgb2YgdGhpcyBjbGFzcyBmb3IgYSBtb3JlIGNvbnZlbmllbnQgZGV2ZWxvcG1lbnQgZXhwZXJpZW5jZS5cbiAqIFNlZSBodHRwczovL3d3dy5hbGliYWJhY2xvdWQuY29tL2hlbHAvcm9zL2RldmVsb3Blci1yZWZlcmVuY2UvYWxpeXVuLWljZS1pbnNlcnRtZWRpYXRvc2VhcmNobGliXG4gKi9cbmV4cG9ydCBjbGFzcyBSb3NJbnNlcnRNZWRpYVRvU2VhcmNoTGliIGV4dGVuZHMgcm9zLlJvc1Jlc291cmNlIHtcbiAgICAvKipcbiAgICAgKiBUaGUgcmVzb3VyY2UgdHlwZSBuYW1lIGZvciB0aGlzIHJlc291cmNlIGNsYXNzLlxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgUk9TX1JFU09VUkNFX1RZUEVfTkFNRSA9IFwiQUxJWVVOOjpJQ0U6Okluc2VydE1lZGlhVG9TZWFyY2hMaWJcIjtcblxuICAgIC8qKlxuICAgICAqIEBBdHRyaWJ1dGUgTWVkaWFJZDogVGhlIElEIG9mIHRoZSBtZWRpYSBhc3NldC5cbiAgICAgKi9cbiAgICBwdWJsaWMgcmVhZG9ubHkgYXR0ck1lZGlhSWQ6IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIHB1YmxpYyBlbmFibGVSZXNvdXJjZVByb3BlcnR5Q29uc3RyYWludDogYm9vbGVhbjtcblxuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IGlucHV0OiBUaGUgVVJMIG9mIHRoZSB2aWRlbywgYXVkaW8sIG9yIGltYWdlIGZpbGUgdGhhdCB5b3Ugd2FudCB0byBpbXBvcnQgdG8gdGhlIHNlYXJjaCBsaWJyYXJ5LlxuICAgICAqIE5vdGU6IE1ha2Ugc3VyZSB0aGF0IHlvdSBzcGVjaWZ5IGEgY29ycmVjdCBmaWxlIG5hbWUgYW5kIHRoZSBidWNrZXQgaW4gd2hpY2ggdGhlIGZpbGUgcmVzaWRlcyBpcyBpbiB0aGUgc2FtZSByZWdpb24gd2hlcmUgdGhpcyBvcGVyYXRpb24gaXMgY2FsbGVkLiBPdGhlcndpc2UsIHRoZSBmaWxlIGNhbm5vdCBiZSBmb3VuZCBvciB0aGUgb3BlcmF0aW9uIG1heSBmYWlsLlxuICAgICAqIFNwZWNpZnkgYW4gT2JqZWN0IFN0b3JhZ2UgU2VydmljZSAoT1NTKSBVUkwgaW4gdGhlIGZvbGxvd2luZyBmb3JtYXQ6IG9zczpcXC9cXC9bQnVja2V0IG5hbWVdXFwvW0ZpbGUgcGF0aF0uIEZvciBleGFtcGxlLCB5b3UgY2FuIHNwZWNpZnkgb3NzOlxcL1xcL1tleGFtcGxlLWJ1Y2tldC1dXFwvW29iamVjdF9wYXRoLV0uXG4gICAgICogU3BlY2lmeSBhbiBIVFRQIFVSTCBpbiB0aGUgZm9sbG93aW5nIGZvcm1hdDogcHVibGljIGVuZHBvaW50LiBGb3IgZXhhbXBsZSwgeW91IGNhbiBzcGVjaWZ5IGh0dHA6XFwvXFwvZXhhbXBsZS10ZXN0LSoqKioubXA0LlxuICAgICAqL1xuICAgIHB1YmxpYyBpbnB1dDogc3RyaW5nIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IG1lZGlhSWQ6IFRoZSBJRCBvZiB0aGUgbWVkaWEgYXNzZXQuIEVhY2ggbWVkaWEgSUQgaXMgdW5pcXVlLiBJZiB5b3UgbGVhdmUgdGhpcyBwYXJhbWV0ZXIgZW1wdHksIGEgbWVkaWEgSUQgaXMgYXV0b21hdGljYWxseSBnZW5lcmF0ZWQgZm9yIHRoaXMgcGFyYW1ldGVyLlxuICAgICAqL1xuICAgIHB1YmxpYyBtZWRpYUlkOiBzdHJpbmcgfCByb3MuSVJlc29sdmFibGUgfCB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgbWVkaWFUeXBlOiBUaGUgdHlwZSBvZiB0aGUgbWVkaWEgYXNzZXQuIFZhbGlkIHZhbHVlczpcbiAgICAgKiB2aWRlbyAoZGVmYXVsdClcbiAgICAgKiBpbWFnZVxuICAgICAqIGF1ZGlvXG4gICAgICovXG4gICAgcHVibGljIG1lZGlhVHlwZTogc3RyaW5nIHwgcm9zLklSZXNvbHZhYmxlIHwgdW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IG1zZ0JvZHk6IFRoZSBtZXNzYWdlIGJvZHkuXG4gICAgICovXG4gICAgcHVibGljIG1zZ0JvZHk6IHsgW2tleTogc3RyaW5nXTogKGFueSB8IHJvcy5JUmVzb2x2YWJsZSkgfSB8IHJvcy5JUmVzb2x2YWJsZSB8IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIEBQcm9wZXJ0eSBzZWFyY2hMaWJOYW1lOiBUaGUgbmFtZSBvZiB0aGUgc2VhcmNoIGxpYnJhcnkuIERlZmF1bHQgdmFsdWU6IGltcy1kZWZhdWx0LXNlYXJjaC1saWIuXG4gICAgICovXG4gICAgcHVibGljIHNlYXJjaExpYk5hbWU6IHN0cmluZyB8IHJvcy5JUmVzb2x2YWJsZSB8IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBzY29wZSAtIHNjb3BlIGluIHdoaWNoIHRoaXMgcmVzb3VyY2UgaXMgZGVmaW5lZFxuICAgICAqIEBwYXJhbSBpZCAgICAtIHNjb3BlZCBpZCBvZiB0aGUgcmVzb3VyY2VcbiAgICAgKiBAcGFyYW0gcHJvcHMgLSByZXNvdXJjZSBwcm9wZXJ0aWVzXG4gICAgICovXG4gICAgY29uc3RydWN0b3Ioc2NvcGU6IHJvcy5Db25zdHJ1Y3QsIGlkOiBzdHJpbmcsIHByb3BzOiBSb3NJbnNlcnRNZWRpYVRvU2VhcmNoTGliUHJvcHMsIGVuYWJsZVJlc291cmNlUHJvcGVydHlDb25zdHJhaW50OiBib29sZWFuKSB7XG4gICAgICAgIHN1cGVyKHNjb3BlLCBpZCwgeyB0eXBlOiBSb3NJbnNlcnRNZWRpYVRvU2VhcmNoTGliLlJPU19SRVNPVVJDRV9UWVBFX05BTUUsIHByb3BlcnRpZXM6IHByb3BzIH0pO1xuICAgICAgICB0aGlzLmF0dHJNZWRpYUlkID0gdGhpcy5nZXRBdHQoJ01lZGlhSWQnKTtcblxuICAgICAgICB0aGlzLmVuYWJsZVJlc291cmNlUHJvcGVydHlDb25zdHJhaW50ID0gZW5hYmxlUmVzb3VyY2VQcm9wZXJ0eUNvbnN0cmFpbnQ7XG4gICAgICAgIHRoaXMuaW5wdXQgPSBwcm9wcy5pbnB1dDtcbiAgICAgICAgdGhpcy5tZWRpYUlkID0gcHJvcHMubWVkaWFJZDtcbiAgICAgICAgdGhpcy5tZWRpYVR5cGUgPSBwcm9wcy5tZWRpYVR5cGU7XG4gICAgICAgIHRoaXMubXNnQm9keSA9IHByb3BzLm1zZ0JvZHk7XG4gICAgICAgIHRoaXMuc2VhcmNoTGliTmFtZSA9IHByb3BzLnNlYXJjaExpYk5hbWU7XG4gICAgfVxuXG5cbiAgICBwcm90ZWN0ZWQgZ2V0IHJvc1Byb3BlcnRpZXMoKTogeyBba2V5OiBzdHJpbmddOiBhbnkgfSAge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaW5wdXQ6IHRoaXMuaW5wdXQsXG4gICAgICAgICAgICBtZWRpYUlkOiB0aGlzLm1lZGlhSWQsXG4gICAgICAgICAgICBtZWRpYVR5cGU6IHRoaXMubWVkaWFUeXBlLFxuICAgICAgICAgICAgbXNnQm9keTogdGhpcy5tc2dCb2R5LFxuICAgICAgICAgICAgc2VhcmNoTGliTmFtZTogdGhpcy5zZWFyY2hMaWJOYW1lLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBwcm90ZWN0ZWQgcmVuZGVyUHJvcGVydGllcyhwcm9wczoge1trZXk6IHN0cmluZ106IGFueX0pOiB7IFtrZXk6IHN0cmluZ106IGFueSB9ICB7XG4gICAgICAgIHJldHVybiByb3NJbnNlcnRNZWRpYVRvU2VhcmNoTGliUHJvcHNUb1Jvc1RlbXBsYXRlKHByb3BzLCB0aGlzLmVuYWJsZVJlc291cmNlUHJvcGVydHlDb25zdHJhaW50KTtcbiAgICB9XG59XG5cbi8qKlxuICogUHJvcGVydGllcyBmb3IgZGVmaW5pbmcgYSBgUm9zTWVkaWFJbmZvYC5cbiAqIFNlZSBodHRwczovL3d3dy5hbGliYWJhY2xvdWQuY29tL2hlbHAvcm9zL2RldmVsb3Blci1yZWZlcmVuY2UvYWxpeXVuLWljZS1tZWRpYWluZm9cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSb3NNZWRpYUluZm9Qcm9wcyB7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgaW5wdXRVcmw6IFRoZSBVUkwgb2YgdGhlIG1lZGlhIGFzc2V0IGluIGFub3RoZXIgc2VydmljZS4gVGhlIFVSTCBpcyBhc3NvY2lhdGVkIHdpdGggdGhlIElEIG9mIHRoZSBtZWRpYSBhc3NldCBpbiBJTVMuIFRoZSBVUkwgY2Fubm90IGJlIG1vZGlmaWVkIG9uY2UgcmVnaXN0ZXJlZC4gVGhlIGZvbGxvd2luZyB0eXBlcyBvZiBVUkxzIGFyZSBzdXBwb3J0ZWQ6XG4gICAgICogT1NTIFVSTCBpbiBvbmUgb2YgdGhlIGZvbGxvd2luZyBmb3JtYXRzOlxuICAgICAqIGh0dHAocyk6XFwvXFwvZXhhbXBsZS1idWNrZXQub3NzLWNuLXNoYW5naGFpLmFsaXl1bmNzLmNvbVxcL2V4YW1wbGUubXA0XG4gICAgICogb3NzOlxcL1xcL2V4YW1wbGUtYnVja2V0XFwvZXhhbXBsZS5tcDQ6IEluIHRoaXMgZm9ybWF0LCBpdCBpcyBjb25zaWRlcmVkIGJ5IGRlZmF1bHQgdGhhdCB0aGUgcmVnaW9uIG9mIHRoZSBPU1MgYnVja2V0IGluIHdoaWNoIHRoZSBtZWRpYSBhc3NldCByZXNpZGVzIGlzIHRoZSBzYW1lIGFzIHRoZSByZWdpb24gaW4gd2hpY2ggSU1TIGlzIGFjdGl2YXRlZC5cbiAgICAgKiBVUkwgb2YgYW4gQXBzYXJhVmlkZW8gVk9EIG1lZGlhIGFzc2V0XG4gICAgICogdm9kOlxcL1xcLyoqKjIwYjQ4ZmIwNDQ4MzkxNWQ0ZjJjZDhhYyoqKipcbiAgICAgKi9cbiAgICByZWFkb25seSBpbnB1dFVybDogc3RyaW5nIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IGJ1c2luZXNzVHlwZTogVGhlIGJ1c2luZXNzIHR5cGUgb2YgdGhlIG1lZGlhIGFzc2V0LiBWYWxpZCB2YWx1ZXM6XG4gICAgICogc3VidGl0bGVzXG4gICAgICogd2F0ZXJtYXJrXG4gICAgICogb3BlbmluZ1xuICAgICAqIGVuZGluZ1xuICAgICAqIGdlbmVyYWxcbiAgICAgKi9cbiAgICByZWFkb25seSBidXNpbmVzc1R5cGU/OiBzdHJpbmcgfCByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgY2F0ZUlkOiBUaGUgY2F0ZWdvcnkgSUQuXG4gICAgICovXG4gICAgcmVhZG9ubHkgY2F0ZUlkPzogbnVtYmVyIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IGNvdmVyVXJsOiBUaGUgdGh1bWJuYWlsIFVSTCBvZiB0aGUgbWVkaWEgYXNzZXQuXG4gICAgICogVGhlIHZhbHVlIGNhbiBiZSB1cCB0byAxMjggYnl0ZXMgaW4gbGVuZ3RoLlxuICAgICAqIFRoZSB2YWx1ZSBtdXN0IGJlIGVuY29kZWQgaW4gVVRGLTguXG4gICAgICovXG4gICAgcmVhZG9ubHkgY292ZXJVcmw/OiBzdHJpbmcgfCByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgZGVzY3JpcHRpb246IFRoZSBkZXNjcmlwdGlvbiBvZiB0aGUgbWVkaWEgYXNzZXQuXG4gICAgICogVGhlIHZhbHVlIGNhbiBiZSB1cCB0byAxLDAyNCBieXRlcyBpbiBsZW5ndGguXG4gICAgICogVGhlIHZhbHVlIG11c3QgYmUgZW5jb2RlZCBpbiBVVEYtOC5cbiAgICAgKi9cbiAgICByZWFkb25seSBkZXNjcmlwdGlvbj86IHN0cmluZyB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIEBQcm9wZXJ0eSBtZWRpYVRhZ3M6IFRoZSB0YWdzIG9mIHRoZSBtZWRpYSBhc3NldC5cbiAgICAgKiBVcCB0byAxNiB0YWdzIGFyZSBzdXBwb3J0ZWQuXG4gICAgICogU2VwYXJhdGUgbXVsdGlwbGUgdGFncyB3aXRoIGNvbW1hcyAoLCkuXG4gICAgICogRWFjaCB0YWcgY2FuIGJlIHVwIHRvIDMyIGJ5dGVzIGluIGxlbmd0aC5cbiAgICAgKiBUaGUgdmFsdWUgbXVzdCBiZSBlbmNvZGVkIGluIFVURi04LlxuICAgICAqL1xuICAgIHJlYWRvbmx5IG1lZGlhVGFncz86IEFycmF5PHN0cmluZyB8IHJvcy5JUmVzb2x2YWJsZT4gfCByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgbWVkaWFUeXBlOiBUaGUgdHlwZSBvZiB0aGUgbWVkaWEgYXNzZXQuIFZhbGlkIHZhbHVlczpcbiAgICAgKiBpbWFnZVxuICAgICAqIHZpZGVvXG4gICAgICogYXVkaW9cbiAgICAgKiB0ZXh0XG4gICAgICogV2UgcmVjb21tZW5kIHRoYXQgeW91IHNwZWNpZnkgdGhpcyBwYXJhbWV0ZXIgYmFzZWQgb24geW91ciBidXNpbmVzcyByZXF1aXJlbWVudHMuIElmIHlvdSBzZXQgSW5wdXRVUkwgdG8gYW4gT1NTIFVSTCwgdGhlIG1lZGlhIGFzc2V0IHR5cGUgY2FuIGJlIGF1dG9tYXRpY2FsbHkgZGV0ZXJtaW5lZCBiYXNlZCBvbiB0aGUgZmlsZSBuYW1lIGV4dGVuc2lvbi4gRm9yIG1vcmUgaW5mb3JtYXRpb25cbiAgICAgKiAuXG4gICAgICovXG4gICAgcmVhZG9ubHkgbWVkaWFUeXBlPzogc3RyaW5nIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IG92ZXJ3cml0ZTogU3BlY2lmaWVzIHdoZXRoZXIgdG8gb3ZlcndyaXRlIHRoZSBtZWRpYSBhc3NldCB0aGF0IGhhcyBiZWVuIHJlZ2lzdGVyZWQgYnkgdXNpbmcgdGhlIHNhbWUgVVJMLiBEZWZhdWx0IHZhbHVlOiBmYWxzZS4gVmFsaWQgdmFsdWVzOlxuICAgICAqIC0gdHJ1ZTogSWYgYSBtZWRpYSBhc3NldCBoYXMgYmVlbiByZWdpc3RlcmVkIGJ5IHVzaW5nIHRoZSBzYW1lIFVSTCwgdGhlIG9yaWdpbmFsIG1lZGlhIGFzc2V0IGlzIGRlbGV0ZWQgYW5kIHRoZSBuZXcgbWVkaWEgYXNzZXQgaXMgcmVnaXN0ZXJlZC5cbiAgICAgKiAtIGZhbHNlOiBJZiBhIG1lZGlhIGFzc2V0IGhhcyBiZWVuIHJlZ2lzdGVyZWQgYnkgdXNpbmcgdGhlIHNhbWUgVVJMLCB0aGUgbmV3IG1lZGlhIGFzc2V0IGlzIG5vdCByZWdpc3RlcmVkLiBBIFVSTCBjYW5ub3QgYmUgdXNlZCB0byByZWdpc3RlciBtdWx0aXBsZSBtZWRpYSBhc3NldHMuXG4gICAgICovXG4gICAgcmVhZG9ubHkgb3ZlcndyaXRlPzogYm9vbGVhbiB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIEBQcm9wZXJ0eSByZWZlcmVuY2VJZDogVGhlIGN1c3RvbSBJRC4gVGhlIElEIGNhbiBiZSA2IHRvIDY0IGNoYXJhY3RlcnMgaW4gbGVuZ3RoIGFuZCBjYW4gY29udGFpbiBvbmx5IGxldHRlcnMsIGRpZ2l0cywgaHlwaGVucyAoLSksIGFuZCB1bmRlcnNjb3JlcyAoXykuIE1ha2Ugc3VyZSB0aGF0IHRoZSBJRCBpcyB1bmlxdWUgYW1vbmcgdXNlcnMuXG4gICAgICovXG4gICAgcmVhZG9ubHkgcmVmZXJlbmNlSWQ/OiBzdHJpbmcgfCByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgcmVnaXN0ZXJDb25maWc6IFRoZSByZWdpc3RyYXRpb24gY29uZmlndXJhdGlvbnMuXG4gICAgICogQnkgZGVmYXVsdCwgYSBzcHJpdGUgaXMgZ2VuZXJhdGVkIGZvciB0aGUgbWVkaWEgYXNzZXQuIFlvdSBjYW4gc2V0IE5lZWRTcHJpdGUgdG8gZmFsc2UgdG8gZGlzYWJsZSBhdXRvbWF0aWMgc3ByaXRlIGdlbmVyYXRpb24uXG4gICAgICogQnkgZGVmYXVsdCwgYSBzbmFwc2hvdCBpcyBnZW5lcmF0ZWQgZm9yIHRoZSBtZWRpYSBhc3NldC4gWW91IGNhbiBzZXQgTmVlZFNuYXBzaG90IHRvIGZhbHNlIHRvIGRpc2FibGUgYXV0b21hdGljIHNuYXBzaG90IGdlbmVyYXRpb24uXG4gICAgICovXG4gICAgcmVhZG9ubHkgcmVnaXN0ZXJDb25maWc/OiBzdHJpbmcgfCByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgc21hcnRUYWdUZW1wbGF0ZUlkOiBUaGUgSUQgb2YgdGhlIHNtYXJ0IHRhZ2dpbmcgdGVtcGxhdGUuIFZhbGlkIHZhbHVlczpcbiAgICAgKiBTMDAwMDAxMDEtMzAwMDgwOiB0aGUgc3lzdGVtIHRlbXBsYXRlIHRoYXQgc3VwcG9ydHMgbmF0dXJhbCBsYW5ndWFnZSBwcm9jZXNzaW5nIChOTFApIGZvciBjb250ZW50IHJlY29nbml0aW9uLlxuICAgICAqIFMwMDAwMDEwMy0wMDAwMDE6IHRoZSBzeXN0ZW0gdGVtcGxhdGUgdGhhdCBzdXBwb3J0cyBOTFAgZm9yIGNvbnRlbnQgcmVjb2duaXRpb24gYW5kIGFsbCB0YWdnaW5nIGNhcGFiaWxpdGllcy5cbiAgICAgKiBTMDAwMDAxMDMtMDAwMDAyOiB0aGUgc3lzdGVtIHRlbXBsYXRlIHRoYXQgc3VwcG9ydHMgYWxsIHRhZ2dpbmcgY2FwYWJpbGl0aWVzIGJ1dCBkb2VzIG5vdCBzdXBwb3J0IE5MUCBmb3IgY29udGVudCByZWNvZ25pdGlvbi5cbiAgICAgKiBBZnRlciB5b3UgY29uZmlndXJlIHRoaXMgcGFyYW1ldGVyLCBhIHNtYXJ0IHRhZyBhbmFseXNpcyB0YXNrIGlzIGF1dG9tYXRpY2FsbHkgaW5pdGlhdGVkIGFmdGVyIHRoZSBtZWRpYSBhc3NldCBpcyByZWdpc3RlcmVkLiBGb3IgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCB0aGUgYmlsbGFibGUgaXRlbXMuXG4gICAgICovXG4gICAgcmVhZG9ubHkgc21hcnRUYWdUZW1wbGF0ZUlkPzogc3RyaW5nIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IHRpdGxlOiBUaGUgdGl0bGUuIElmIHlvdSBkbyBub3Qgc3BlY2lmeSB0aGlzIHBhcmFtZXRlciwgYSBkZWZhdWx0IHRpdGxlIGlzIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkIGJhc2VkIG9uIHRoZSBkYXRlLlxuICAgICAqIFRoZSB2YWx1ZSBjYW4gYmUgdXAgdG8gMTI4IGJ5dGVzIGluIGxlbmd0aC5cbiAgICAgKiBUaGUgdmFsdWUgbXVzdCBiZSBlbmNvZGVkIGluIFVURi04LlxuICAgICAqL1xuICAgIHJlYWRvbmx5IHRpdGxlPzogc3RyaW5nIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IHVzZXJEYXRhOiBUaGUgdXNlciBkYXRhLiBZb3UgY2FuIHNwZWNpZnkgYSBjdXN0b20gY2FsbGJhY2sgVVJMLlxuICAgICAqL1xuICAgIHJlYWRvbmx5IHVzZXJEYXRhPzogeyBba2V5OiBzdHJpbmddOiAoYW55IHwgcm9zLklSZXNvbHZhYmxlKSB9IHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IHdvcmtmbG93SWQ6IFRoZSB3b3JrZmxvdyBJRC5cbiAgICAgKi9cbiAgICByZWFkb25seSB3b3JrZmxvd0lkPzogc3RyaW5nIHwgcm9zLklSZXNvbHZhYmxlO1xufVxuXG4vKipcbiAqIERldGVybWluZSB3aGV0aGVyIHRoZSBnaXZlbiBwcm9wZXJ0aWVzIG1hdGNoIHRob3NlIG9mIGEgYFJvc01lZGlhSW5mb1Byb3BzYFxuICpcbiAqIEBwYXJhbSBwcm9wZXJ0aWVzIC0gdGhlIFR5cGVTY3JpcHQgcHJvcGVydGllcyBvZiBhIGBSb3NNZWRpYUluZm9Qcm9wc2BcbiAqXG4gKiBAcmV0dXJucyB0aGUgcmVzdWx0IG9mIHRoZSB2YWxpZGF0aW9uLlxuICovXG5mdW5jdGlvbiBSb3NNZWRpYUluZm9Qcm9wc1ZhbGlkYXRvcihwcm9wZXJ0aWVzOiBhbnkpOiByb3MuVmFsaWRhdGlvblJlc3VsdCB7XG4gICAgaWYgKCFyb3MuY2FuSW5zcGVjdChwcm9wZXJ0aWVzKSkgeyByZXR1cm4gcm9zLlZBTElEQVRJT05fU1VDQ0VTUzsgfVxuICAgIGNvbnN0IGVycm9ycyA9IG5ldyByb3MuVmFsaWRhdGlvblJlc3VsdHMoKTtcbiAgICBlcnJvcnMuY29sbGVjdChyb3MucHJvcGVydHlWYWxpZGF0b3IoJ3JlZ2lzdGVyQ29uZmlnJywgcm9zLnZhbGlkYXRlU3RyaW5nKShwcm9wZXJ0aWVzLnJlZ2lzdGVyQ29uZmlnKSk7XG4gICAgZXJyb3JzLmNvbGxlY3Qocm9zLnByb3BlcnR5VmFsaWRhdG9yKCdvdmVyd3JpdGUnLCByb3MudmFsaWRhdGVCb29sZWFuKShwcm9wZXJ0aWVzLm92ZXJ3cml0ZSkpO1xuICAgIGlmKHByb3BlcnRpZXMuZGVzY3JpcHRpb24gJiYgKEFycmF5LmlzQXJyYXkocHJvcGVydGllcy5kZXNjcmlwdGlvbikgfHwgKHR5cGVvZiBwcm9wZXJ0aWVzLmRlc2NyaXB0aW9uKSA9PT0gJ3N0cmluZycpKSB7XG4gICAgICAgIGVycm9ycy5jb2xsZWN0KHJvcy5wcm9wZXJ0eVZhbGlkYXRvcignZGVzY3JpcHRpb24nLCByb3MudmFsaWRhdGVMZW5ndGgpKHtcbiAgICAgICAgICAgIGRhdGE6IHByb3BlcnRpZXMuZGVzY3JpcHRpb24ubGVuZ3RoLFxuICAgICAgICAgICAgbWluOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBtYXg6IDEwMjQsXG4gICAgICAgICAgfSkpO1xuICAgIH1cbiAgICBlcnJvcnMuY29sbGVjdChyb3MucHJvcGVydHlWYWxpZGF0b3IoJ2Rlc2NyaXB0aW9uJywgcm9zLnZhbGlkYXRlU3RyaW5nKShwcm9wZXJ0aWVzLmRlc2NyaXB0aW9uKSk7XG4gICAgZXJyb3JzLmNvbGxlY3Qocm9zLnByb3BlcnR5VmFsaWRhdG9yKCd1c2VyRGF0YScsIHJvcy5oYXNoVmFsaWRhdG9yKHJvcy52YWxpZGF0ZUFueSkpKHByb3BlcnRpZXMudXNlckRhdGEpKTtcbiAgICBpZihwcm9wZXJ0aWVzLmJ1c2luZXNzVHlwZSAmJiAodHlwZW9mIHByb3BlcnRpZXMuYnVzaW5lc3NUeXBlKSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgZXJyb3JzLmNvbGxlY3Qocm9zLnByb3BlcnR5VmFsaWRhdG9yKCdidXNpbmVzc1R5cGUnLCByb3MudmFsaWRhdGVBbGxvd2VkVmFsdWVzKSh7XG4gICAgICAgICAgZGF0YTogcHJvcGVydGllcy5idXNpbmVzc1R5cGUsXG4gICAgICAgICAgYWxsb3dlZFZhbHVlczogW1wic3VidGl0bGVzXCIsXCJ3YXRlcm1hcmtcIixcIm9wZW5pbmdcIixcImVuZGluZ1wiLFwiZ2VuZXJhbFwiXSxcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBlcnJvcnMuY29sbGVjdChyb3MucHJvcGVydHlWYWxpZGF0b3IoJ2J1c2luZXNzVHlwZScsIHJvcy52YWxpZGF0ZVN0cmluZykocHJvcGVydGllcy5idXNpbmVzc1R5cGUpKTtcbiAgICBpZihwcm9wZXJ0aWVzLnRpdGxlICYmIChBcnJheS5pc0FycmF5KHByb3BlcnRpZXMudGl0bGUpIHx8ICh0eXBlb2YgcHJvcGVydGllcy50aXRsZSkgPT09ICdzdHJpbmcnKSkge1xuICAgICAgICBlcnJvcnMuY29sbGVjdChyb3MucHJvcGVydHlWYWxpZGF0b3IoJ3RpdGxlJywgcm9zLnZhbGlkYXRlTGVuZ3RoKSh7XG4gICAgICAgICAgICBkYXRhOiBwcm9wZXJ0aWVzLnRpdGxlLmxlbmd0aCxcbiAgICAgICAgICAgIG1pbjogdW5kZWZpbmVkLFxuICAgICAgICAgICAgbWF4OiAxMjgsXG4gICAgICAgICAgfSkpO1xuICAgIH1cbiAgICBlcnJvcnMuY29sbGVjdChyb3MucHJvcGVydHlWYWxpZGF0b3IoJ3RpdGxlJywgcm9zLnZhbGlkYXRlU3RyaW5nKShwcm9wZXJ0aWVzLnRpdGxlKSk7XG4gICAgZXJyb3JzLmNvbGxlY3Qocm9zLnByb3BlcnR5VmFsaWRhdG9yKCdjYXRlSWQnLCByb3MudmFsaWRhdGVOdW1iZXIpKHByb3BlcnRpZXMuY2F0ZUlkKSk7XG4gICAgZXJyb3JzLmNvbGxlY3Qocm9zLnByb3BlcnR5VmFsaWRhdG9yKCd3b3JrZmxvd0lkJywgcm9zLnZhbGlkYXRlU3RyaW5nKShwcm9wZXJ0aWVzLndvcmtmbG93SWQpKTtcbiAgICBlcnJvcnMuY29sbGVjdChyb3MucHJvcGVydHlWYWxpZGF0b3IoJ2lucHV0VXJsJywgcm9zLnJlcXVpcmVkVmFsaWRhdG9yKShwcm9wZXJ0aWVzLmlucHV0VXJsKSk7XG4gICAgZXJyb3JzLmNvbGxlY3Qocm9zLnByb3BlcnR5VmFsaWRhdG9yKCdpbnB1dFVybCcsIHJvcy52YWxpZGF0ZVN0cmluZykocHJvcGVydGllcy5pbnB1dFVybCkpO1xuICAgIGlmKHByb3BlcnRpZXMuc21hcnRUYWdUZW1wbGF0ZUlkICYmICh0eXBlb2YgcHJvcGVydGllcy5zbWFydFRhZ1RlbXBsYXRlSWQpICE9PSAnb2JqZWN0Jykge1xuICAgICAgICBlcnJvcnMuY29sbGVjdChyb3MucHJvcGVydHlWYWxpZGF0b3IoJ3NtYXJ0VGFnVGVtcGxhdGVJZCcsIHJvcy52YWxpZGF0ZUFsbG93ZWRWYWx1ZXMpKHtcbiAgICAgICAgICBkYXRhOiBwcm9wZXJ0aWVzLnNtYXJ0VGFnVGVtcGxhdGVJZCxcbiAgICAgICAgICBhbGxvd2VkVmFsdWVzOiBbXCJTMDAwMDAxMDEtMzAwMDgwXCIsXCJTMDAwMDAxMDMtMDAwMDAxXCIsXCJTMDAwMDAxMDMtMDAwMDAyXCJdLFxuICAgICAgICB9KSk7XG4gICAgfVxuICAgIGVycm9ycy5jb2xsZWN0KHJvcy5wcm9wZXJ0eVZhbGlkYXRvcignc21hcnRUYWdUZW1wbGF0ZUlkJywgcm9zLnZhbGlkYXRlU3RyaW5nKShwcm9wZXJ0aWVzLnNtYXJ0VGFnVGVtcGxhdGVJZCkpO1xuICAgIGlmKHByb3BlcnRpZXMucmVmZXJlbmNlSWQgJiYgKEFycmF5LmlzQXJyYXkocHJvcGVydGllcy5yZWZlcmVuY2VJZCkgfHwgKHR5cGVvZiBwcm9wZXJ0aWVzLnJlZmVyZW5jZUlkKSA9PT0gJ3N0cmluZycpKSB7XG4gICAgICAgIGVycm9ycy5jb2xsZWN0KHJvcy5wcm9wZXJ0eVZhbGlkYXRvcigncmVmZXJlbmNlSWQnLCByb3MudmFsaWRhdGVMZW5ndGgpKHtcbiAgICAgICAgICAgIGRhdGE6IHByb3BlcnRpZXMucmVmZXJlbmNlSWQubGVuZ3RoLFxuICAgICAgICAgICAgbWluOiA2LFxuICAgICAgICAgICAgbWF4OiA2NCxcbiAgICAgICAgICB9KSk7XG4gICAgfVxuICAgIGVycm9ycy5jb2xsZWN0KHJvcy5wcm9wZXJ0eVZhbGlkYXRvcigncmVmZXJlbmNlSWQnLCByb3MudmFsaWRhdGVTdHJpbmcpKHByb3BlcnRpZXMucmVmZXJlbmNlSWQpKTtcbiAgICBpZihwcm9wZXJ0aWVzLm1lZGlhVHlwZSAmJiAodHlwZW9mIHByb3BlcnRpZXMubWVkaWFUeXBlKSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgZXJyb3JzLmNvbGxlY3Qocm9zLnByb3BlcnR5VmFsaWRhdG9yKCdtZWRpYVR5cGUnLCByb3MudmFsaWRhdGVBbGxvd2VkVmFsdWVzKSh7XG4gICAgICAgICAgZGF0YTogcHJvcGVydGllcy5tZWRpYVR5cGUsXG4gICAgICAgICAgYWxsb3dlZFZhbHVlczogW1wiaW1hZ2VcIixcInZpZGVvXCIsXCJhdWRpb1wiLFwidGV4dFwiXSxcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBlcnJvcnMuY29sbGVjdChyb3MucHJvcGVydHlWYWxpZGF0b3IoJ21lZGlhVHlwZScsIHJvcy52YWxpZGF0ZVN0cmluZykocHJvcGVydGllcy5tZWRpYVR5cGUpKTtcbiAgICBpZihwcm9wZXJ0aWVzLmNvdmVyVXJsICYmIChBcnJheS5pc0FycmF5KHByb3BlcnRpZXMuY292ZXJVcmwpIHx8ICh0eXBlb2YgcHJvcGVydGllcy5jb3ZlclVybCkgPT09ICdzdHJpbmcnKSkge1xuICAgICAgICBlcnJvcnMuY29sbGVjdChyb3MucHJvcGVydHlWYWxpZGF0b3IoJ2NvdmVyVXJsJywgcm9zLnZhbGlkYXRlTGVuZ3RoKSh7XG4gICAgICAgICAgICBkYXRhOiBwcm9wZXJ0aWVzLmNvdmVyVXJsLmxlbmd0aCxcbiAgICAgICAgICAgIG1pbjogdW5kZWZpbmVkLFxuICAgICAgICAgICAgbWF4OiAxMjgsXG4gICAgICAgICAgfSkpO1xuICAgIH1cbiAgICBlcnJvcnMuY29sbGVjdChyb3MucHJvcGVydHlWYWxpZGF0b3IoJ2NvdmVyVXJsJywgcm9zLnZhbGlkYXRlU3RyaW5nKShwcm9wZXJ0aWVzLmNvdmVyVXJsKSk7XG4gICAgaWYocHJvcGVydGllcy5tZWRpYVRhZ3MgJiYgKEFycmF5LmlzQXJyYXkocHJvcGVydGllcy5tZWRpYVRhZ3MpIHx8ICh0eXBlb2YgcHJvcGVydGllcy5tZWRpYVRhZ3MpID09PSAnc3RyaW5nJykpIHtcbiAgICAgICAgZXJyb3JzLmNvbGxlY3Qocm9zLnByb3BlcnR5VmFsaWRhdG9yKCdtZWRpYVRhZ3MnLCByb3MudmFsaWRhdGVMZW5ndGgpKHtcbiAgICAgICAgICAgIGRhdGE6IHByb3BlcnRpZXMubWVkaWFUYWdzLmxlbmd0aCxcbiAgICAgICAgICAgIG1pbjogdW5kZWZpbmVkLFxuICAgICAgICAgICAgbWF4OiAxNixcbiAgICAgICAgICB9KSk7XG4gICAgfVxuICAgIGVycm9ycy5jb2xsZWN0KHJvcy5wcm9wZXJ0eVZhbGlkYXRvcignbWVkaWFUYWdzJywgcm9zLmxpc3RWYWxpZGF0b3Iocm9zLnZhbGlkYXRlU3RyaW5nKSkocHJvcGVydGllcy5tZWRpYVRhZ3MpKTtcbiAgICByZXR1cm4gZXJyb3JzLndyYXAoJ3N1cHBsaWVkIHByb3BlcnRpZXMgbm90IGNvcnJlY3QgZm9yIFwiUm9zTWVkaWFJbmZvUHJvcHNcIicpO1xufVxuXG4vKipcbiAqIFJlbmRlcnMgdGhlIEFsaUNsb3VkIFJPUyBSZXNvdXJjZSBwcm9wZXJ0aWVzIG9mIGFuIGBBTElZVU46OklDRTo6TWVkaWFJbmZvYCByZXNvdXJjZVxuICpcbiAqIEBwYXJhbSBwcm9wZXJ0aWVzIC0gdGhlIFR5cGVTY3JpcHQgcHJvcGVydGllcyBvZiBhIGBSb3NNZWRpYUluZm9Qcm9wc2BcbiAqXG4gKiBAcmV0dXJucyB0aGUgQWxpQ2xvdWQgUk9TIFJlc291cmNlIHByb3BlcnRpZXMgb2YgYW4gYEFMSVlVTjo6SUNFOjpNZWRpYUluZm9gIHJlc291cmNlLlxuICovXG4vLyBAdHMtaWdub3JlIFRTNjEzM1xuZnVuY3Rpb24gcm9zTWVkaWFJbmZvUHJvcHNUb1Jvc1RlbXBsYXRlKHByb3BlcnRpZXM6IGFueSwgZW5hYmxlUmVzb3VyY2VQcm9wZXJ0eUNvbnN0cmFpbnQ6IGJvb2xlYW4pOiBhbnkge1xuICAgIGlmICghcm9zLmNhbkluc3BlY3QocHJvcGVydGllcykpIHsgcmV0dXJuIHByb3BlcnRpZXM7IH1cbiAgICBpZihlbmFibGVSZXNvdXJjZVByb3BlcnR5Q29uc3RyYWludCkge1xuICAgICAgICBSb3NNZWRpYUluZm9Qcm9wc1ZhbGlkYXRvcihwcm9wZXJ0aWVzKS5hc3NlcnRTdWNjZXNzKCk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAnSW5wdXRVUkwnOiByb3Muc3RyaW5nVG9Sb3NUZW1wbGF0ZShwcm9wZXJ0aWVzLmlucHV0VXJsKSxcbiAgICAgICdCdXNpbmVzc1R5cGUnOiByb3Muc3RyaW5nVG9Sb3NUZW1wbGF0ZShwcm9wZXJ0aWVzLmJ1c2luZXNzVHlwZSksXG4gICAgICAnQ2F0ZUlkJzogcm9zLm51bWJlclRvUm9zVGVtcGxhdGUocHJvcGVydGllcy5jYXRlSWQpLFxuICAgICAgJ0NvdmVyVVJMJzogcm9zLnN0cmluZ1RvUm9zVGVtcGxhdGUocHJvcGVydGllcy5jb3ZlclVybCksXG4gICAgICAnRGVzY3JpcHRpb24nOiByb3Muc3RyaW5nVG9Sb3NUZW1wbGF0ZShwcm9wZXJ0aWVzLmRlc2NyaXB0aW9uKSxcbiAgICAgICdNZWRpYVRhZ3MnOiByb3MubGlzdE1hcHBlcihyb3Muc3RyaW5nVG9Sb3NUZW1wbGF0ZSkocHJvcGVydGllcy5tZWRpYVRhZ3MpLFxuICAgICAgJ01lZGlhVHlwZSc6IHJvcy5zdHJpbmdUb1Jvc1RlbXBsYXRlKHByb3BlcnRpZXMubWVkaWFUeXBlKSxcbiAgICAgICdPdmVyd3JpdGUnOiByb3MuYm9vbGVhblRvUm9zVGVtcGxhdGUocHJvcGVydGllcy5vdmVyd3JpdGUpLFxuICAgICAgJ1JlZmVyZW5jZUlkJzogcm9zLnN0cmluZ1RvUm9zVGVtcGxhdGUocHJvcGVydGllcy5yZWZlcmVuY2VJZCksXG4gICAgICAnUmVnaXN0ZXJDb25maWcnOiByb3Muc3RyaW5nVG9Sb3NUZW1wbGF0ZShwcm9wZXJ0aWVzLnJlZ2lzdGVyQ29uZmlnKSxcbiAgICAgICdTbWFydFRhZ1RlbXBsYXRlSWQnOiByb3Muc3RyaW5nVG9Sb3NUZW1wbGF0ZShwcm9wZXJ0aWVzLnNtYXJ0VGFnVGVtcGxhdGVJZCksXG4gICAgICAnVGl0bGUnOiByb3Muc3RyaW5nVG9Sb3NUZW1wbGF0ZShwcm9wZXJ0aWVzLnRpdGxlKSxcbiAgICAgICdVc2VyRGF0YSc6IHJvcy5oYXNoTWFwcGVyKHJvcy5vYmplY3RUb1Jvc1RlbXBsYXRlKShwcm9wZXJ0aWVzLnVzZXJEYXRhKSxcbiAgICAgICdXb3JrZmxvd0lkJzogcm9zLnN0cmluZ1RvUm9zVGVtcGxhdGUocHJvcGVydGllcy53b3JrZmxvd0lkKSxcbiAgICB9O1xufVxuXG4vKipcbiAqIFRoaXMgY2xhc3MgaXMgYSBiYXNlIGVuY2Fwc3VsYXRpb24gYXJvdW5kIHRoZSBST1MgcmVzb3VyY2UgdHlwZSBgQUxJWVVOOjpJQ0U6Ok1lZGlhSW5mb2AuXG4gKiBATm90ZSBUaGlzIGNsYXNzIGRvZXMgbm90IGNvbnRhaW4gYWRkaXRpb25hbCBmdW5jdGlvbnMsIHNvIGl0IGlzIHJlY29tbWVuZGVkIHRvIHVzZSB0aGUgYE1lZGlhSW5mb2AgY2xhc3MgaW5zdGVhZCBvZiB0aGlzIGNsYXNzIGZvciBhIG1vcmUgY29udmVuaWVudCBkZXZlbG9wbWVudCBleHBlcmllbmNlLlxuICogU2VlIGh0dHBzOi8vd3d3LmFsaWJhYmFjbG91ZC5jb20vaGVscC9yb3MvZGV2ZWxvcGVyLXJlZmVyZW5jZS9hbGl5dW4taWNlLW1lZGlhaW5mb1xuICovXG5leHBvcnQgY2xhc3MgUm9zTWVkaWFJbmZvIGV4dGVuZHMgcm9zLlJvc1Jlc291cmNlIHtcbiAgICAvKipcbiAgICAgKiBUaGUgcmVzb3VyY2UgdHlwZSBuYW1lIGZvciB0aGlzIHJlc291cmNlIGNsYXNzLlxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgUk9TX1JFU09VUkNFX1RZUEVfTkFNRSA9IFwiQUxJWVVOOjpJQ0U6Ok1lZGlhSW5mb1wiO1xuXG4gICAgLyoqXG4gICAgICogQEF0dHJpYnV0ZSBNZWRpYUlkOiBUaGUgSUQgb2YgdGhlIG1lZGlhIGFzc2V0IGluIElNUy5cbiAgICAgKi9cbiAgICBwdWJsaWMgcmVhZG9ubHkgYXR0ck1lZGlhSWQ6IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIHB1YmxpYyBlbmFibGVSZXNvdXJjZVByb3BlcnR5Q29uc3RyYWludDogYm9vbGVhbjtcblxuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IGlucHV0VXJsOiBUaGUgVVJMIG9mIHRoZSBtZWRpYSBhc3NldCBpbiBhbm90aGVyIHNlcnZpY2UuIFRoZSBVUkwgaXMgYXNzb2NpYXRlZCB3aXRoIHRoZSBJRCBvZiB0aGUgbWVkaWEgYXNzZXQgaW4gSU1TLiBUaGUgVVJMIGNhbm5vdCBiZSBtb2RpZmllZCBvbmNlIHJlZ2lzdGVyZWQuIFRoZSBmb2xsb3dpbmcgdHlwZXMgb2YgVVJMcyBhcmUgc3VwcG9ydGVkOlxuICAgICAqIE9TUyBVUkwgaW4gb25lIG9mIHRoZSBmb2xsb3dpbmcgZm9ybWF0czpcbiAgICAgKiBodHRwKHMpOlxcL1xcL2V4YW1wbGUtYnVja2V0Lm9zcy1jbi1zaGFuZ2hhaS5hbGl5dW5jcy5jb21cXC9leGFtcGxlLm1wNFxuICAgICAqIG9zczpcXC9cXC9leGFtcGxlLWJ1Y2tldFxcL2V4YW1wbGUubXA0OiBJbiB0aGlzIGZvcm1hdCwgaXQgaXMgY29uc2lkZXJlZCBieSBkZWZhdWx0IHRoYXQgdGhlIHJlZ2lvbiBvZiB0aGUgT1NTIGJ1Y2tldCBpbiB3aGljaCB0aGUgbWVkaWEgYXNzZXQgcmVzaWRlcyBpcyB0aGUgc2FtZSBhcyB0aGUgcmVnaW9uIGluIHdoaWNoIElNUyBpcyBhY3RpdmF0ZWQuXG4gICAgICogVVJMIG9mIGFuIEFwc2FyYVZpZGVvIFZPRCBtZWRpYSBhc3NldFxuICAgICAqIHZvZDpcXC9cXC8qKioyMGI0OGZiMDQ0ODM5MTVkNGYyY2Q4YWMqKioqXG4gICAgICovXG4gICAgcHVibGljIGlucHV0VXJsOiBzdHJpbmcgfCByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgYnVzaW5lc3NUeXBlOiBUaGUgYnVzaW5lc3MgdHlwZSBvZiB0aGUgbWVkaWEgYXNzZXQuIFZhbGlkIHZhbHVlczpcbiAgICAgKiBzdWJ0aXRsZXNcbiAgICAgKiB3YXRlcm1hcmtcbiAgICAgKiBvcGVuaW5nXG4gICAgICogZW5kaW5nXG4gICAgICogZ2VuZXJhbFxuICAgICAqL1xuICAgIHB1YmxpYyBidXNpbmVzc1R5cGU6IHN0cmluZyB8IHJvcy5JUmVzb2x2YWJsZSB8IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIEBQcm9wZXJ0eSBjYXRlSWQ6IFRoZSBjYXRlZ29yeSBJRC5cbiAgICAgKi9cbiAgICBwdWJsaWMgY2F0ZUlkOiBudW1iZXIgfCByb3MuSVJlc29sdmFibGUgfCB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgY292ZXJVcmw6IFRoZSB0aHVtYm5haWwgVVJMIG9mIHRoZSBtZWRpYSBhc3NldC5cbiAgICAgKiBUaGUgdmFsdWUgY2FuIGJlIHVwIHRvIDEyOCBieXRlcyBpbiBsZW5ndGguXG4gICAgICogVGhlIHZhbHVlIG11c3QgYmUgZW5jb2RlZCBpbiBVVEYtOC5cbiAgICAgKi9cbiAgICBwdWJsaWMgY292ZXJVcmw6IHN0cmluZyB8IHJvcy5JUmVzb2x2YWJsZSB8IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIEBQcm9wZXJ0eSBkZXNjcmlwdGlvbjogVGhlIGRlc2NyaXB0aW9uIG9mIHRoZSBtZWRpYSBhc3NldC5cbiAgICAgKiBUaGUgdmFsdWUgY2FuIGJlIHVwIHRvIDEsMDI0IGJ5dGVzIGluIGxlbmd0aC5cbiAgICAgKiBUaGUgdmFsdWUgbXVzdCBiZSBlbmNvZGVkIGluIFVURi04LlxuICAgICAqL1xuICAgIHB1YmxpYyBkZXNjcmlwdGlvbjogc3RyaW5nIHwgcm9zLklSZXNvbHZhYmxlIHwgdW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IG1lZGlhVGFnczogVGhlIHRhZ3Mgb2YgdGhlIG1lZGlhIGFzc2V0LlxuICAgICAqIFVwIHRvIDE2IHRhZ3MgYXJlIHN1cHBvcnRlZC5cbiAgICAgKiBTZXBhcmF0ZSBtdWx0aXBsZSB0YWdzIHdpdGggY29tbWFzICgsKS5cbiAgICAgKiBFYWNoIHRhZyBjYW4gYmUgdXAgdG8gMzIgYnl0ZXMgaW4gbGVuZ3RoLlxuICAgICAqIFRoZSB2YWx1ZSBtdXN0IGJlIGVuY29kZWQgaW4gVVRGLTguXG4gICAgICovXG4gICAgcHVibGljIG1lZGlhVGFnczogQXJyYXk8c3RyaW5nIHwgcm9zLklSZXNvbHZhYmxlPiB8IHJvcy5JUmVzb2x2YWJsZSB8IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIEBQcm9wZXJ0eSBtZWRpYVR5cGU6IFRoZSB0eXBlIG9mIHRoZSBtZWRpYSBhc3NldC4gVmFsaWQgdmFsdWVzOlxuICAgICAqIGltYWdlXG4gICAgICogdmlkZW9cbiAgICAgKiBhdWRpb1xuICAgICAqIHRleHRcbiAgICAgKiBXZSByZWNvbW1lbmQgdGhhdCB5b3Ugc3BlY2lmeSB0aGlzIHBhcmFtZXRlciBiYXNlZCBvbiB5b3VyIGJ1c2luZXNzIHJlcXVpcmVtZW50cy4gSWYgeW91IHNldCBJbnB1dFVSTCB0byBhbiBPU1MgVVJMLCB0aGUgbWVkaWEgYXNzZXQgdHlwZSBjYW4gYmUgYXV0b21hdGljYWxseSBkZXRlcm1pbmVkIGJhc2VkIG9uIHRoZSBmaWxlIG5hbWUgZXh0ZW5zaW9uLiBGb3IgbW9yZSBpbmZvcm1hdGlvblxuICAgICAqIC5cbiAgICAgKi9cbiAgICBwdWJsaWMgbWVkaWFUeXBlOiBzdHJpbmcgfCByb3MuSVJlc29sdmFibGUgfCB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgb3ZlcndyaXRlOiBTcGVjaWZpZXMgd2hldGhlciB0byBvdmVyd3JpdGUgdGhlIG1lZGlhIGFzc2V0IHRoYXQgaGFzIGJlZW4gcmVnaXN0ZXJlZCBieSB1c2luZyB0aGUgc2FtZSBVUkwuIERlZmF1bHQgdmFsdWU6IGZhbHNlLiBWYWxpZCB2YWx1ZXM6XG4gICAgICogLSB0cnVlOiBJZiBhIG1lZGlhIGFzc2V0IGhhcyBiZWVuIHJlZ2lzdGVyZWQgYnkgdXNpbmcgdGhlIHNhbWUgVVJMLCB0aGUgb3JpZ2luYWwgbWVkaWEgYXNzZXQgaXMgZGVsZXRlZCBhbmQgdGhlIG5ldyBtZWRpYSBhc3NldCBpcyByZWdpc3RlcmVkLlxuICAgICAqIC0gZmFsc2U6IElmIGEgbWVkaWEgYXNzZXQgaGFzIGJlZW4gcmVnaXN0ZXJlZCBieSB1c2luZyB0aGUgc2FtZSBVUkwsIHRoZSBuZXcgbWVkaWEgYXNzZXQgaXMgbm90IHJlZ2lzdGVyZWQuIEEgVVJMIGNhbm5vdCBiZSB1c2VkIHRvIHJlZ2lzdGVyIG11bHRpcGxlIG1lZGlhIGFzc2V0cy5cbiAgICAgKi9cbiAgICBwdWJsaWMgb3ZlcndyaXRlOiBib29sZWFuIHwgcm9zLklSZXNvbHZhYmxlIHwgdW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IHJlZmVyZW5jZUlkOiBUaGUgY3VzdG9tIElELiBUaGUgSUQgY2FuIGJlIDYgdG8gNjQgY2hhcmFjdGVycyBpbiBsZW5ndGggYW5kIGNhbiBjb250YWluIG9ubHkgbGV0dGVycywgZGlnaXRzLCBoeXBoZW5zICgtKSwgYW5kIHVuZGVyc2NvcmVzIChfKS4gTWFrZSBzdXJlIHRoYXQgdGhlIElEIGlzIHVuaXF1ZSBhbW9uZyB1c2Vycy5cbiAgICAgKi9cbiAgICBwdWJsaWMgcmVmZXJlbmNlSWQ6IHN0cmluZyB8IHJvcy5JUmVzb2x2YWJsZSB8IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIEBQcm9wZXJ0eSByZWdpc3RlckNvbmZpZzogVGhlIHJlZ2lzdHJhdGlvbiBjb25maWd1cmF0aW9ucy5cbiAgICAgKiBCeSBkZWZhdWx0LCBhIHNwcml0ZSBpcyBnZW5lcmF0ZWQgZm9yIHRoZSBtZWRpYSBhc3NldC4gWW91IGNhbiBzZXQgTmVlZFNwcml0ZSB0byBmYWxzZSB0byBkaXNhYmxlIGF1dG9tYXRpYyBzcHJpdGUgZ2VuZXJhdGlvbi5cbiAgICAgKiBCeSBkZWZhdWx0LCBhIHNuYXBzaG90IGlzIGdlbmVyYXRlZCBmb3IgdGhlIG1lZGlhIGFzc2V0LiBZb3UgY2FuIHNldCBOZWVkU25hcHNob3QgdG8gZmFsc2UgdG8gZGlzYWJsZSBhdXRvbWF0aWMgc25hcHNob3QgZ2VuZXJhdGlvbi5cbiAgICAgKi9cbiAgICBwdWJsaWMgcmVnaXN0ZXJDb25maWc6IHN0cmluZyB8IHJvcy5JUmVzb2x2YWJsZSB8IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIEBQcm9wZXJ0eSBzbWFydFRhZ1RlbXBsYXRlSWQ6IFRoZSBJRCBvZiB0aGUgc21hcnQgdGFnZ2luZyB0ZW1wbGF0ZS4gVmFsaWQgdmFsdWVzOlxuICAgICAqIFMwMDAwMDEwMS0zMDAwODA6IHRoZSBzeXN0ZW0gdGVtcGxhdGUgdGhhdCBzdXBwb3J0cyBuYXR1cmFsIGxhbmd1YWdlIHByb2Nlc3NpbmcgKE5MUCkgZm9yIGNvbnRlbnQgcmVjb2duaXRpb24uXG4gICAgICogUzAwMDAwMTAzLTAwMDAwMTogdGhlIHN5c3RlbSB0ZW1wbGF0ZSB0aGF0IHN1cHBvcnRzIE5MUCBmb3IgY29udGVudCByZWNvZ25pdGlvbiBhbmQgYWxsIHRhZ2dpbmcgY2FwYWJpbGl0aWVzLlxuICAgICAqIFMwMDAwMDEwMy0wMDAwMDI6IHRoZSBzeXN0ZW0gdGVtcGxhdGUgdGhhdCBzdXBwb3J0cyBhbGwgdGFnZ2luZyBjYXBhYmlsaXRpZXMgYnV0IGRvZXMgbm90IHN1cHBvcnQgTkxQIGZvciBjb250ZW50IHJlY29nbml0aW9uLlxuICAgICAqIEFmdGVyIHlvdSBjb25maWd1cmUgdGhpcyBwYXJhbWV0ZXIsIGEgc21hcnQgdGFnIGFuYWx5c2lzIHRhc2sgaXMgYXV0b21hdGljYWxseSBpbml0aWF0ZWQgYWZ0ZXIgdGhlIG1lZGlhIGFzc2V0IGlzIHJlZ2lzdGVyZWQuIEZvciBtb3JlIGluZm9ybWF0aW9uIGFib3V0IHRoZSBiaWxsYWJsZSBpdGVtcy5cbiAgICAgKi9cbiAgICBwdWJsaWMgc21hcnRUYWdUZW1wbGF0ZUlkOiBzdHJpbmcgfCByb3MuSVJlc29sdmFibGUgfCB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgdGl0bGU6IFRoZSB0aXRsZS4gSWYgeW91IGRvIG5vdCBzcGVjaWZ5IHRoaXMgcGFyYW1ldGVyLCBhIGRlZmF1bHQgdGl0bGUgaXMgYXV0b21hdGljYWxseSBnZW5lcmF0ZWQgYmFzZWQgb24gdGhlIGRhdGUuXG4gICAgICogVGhlIHZhbHVlIGNhbiBiZSB1cCB0byAxMjggYnl0ZXMgaW4gbGVuZ3RoLlxuICAgICAqIFRoZSB2YWx1ZSBtdXN0IGJlIGVuY29kZWQgaW4gVVRGLTguXG4gICAgICovXG4gICAgcHVibGljIHRpdGxlOiBzdHJpbmcgfCByb3MuSVJlc29sdmFibGUgfCB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgdXNlckRhdGE6IFRoZSB1c2VyIGRhdGEuIFlvdSBjYW4gc3BlY2lmeSBhIGN1c3RvbSBjYWxsYmFjayBVUkwuXG4gICAgICovXG4gICAgcHVibGljIHVzZXJEYXRhOiB7IFtrZXk6IHN0cmluZ106IChhbnkgfCByb3MuSVJlc29sdmFibGUpIH0gfCByb3MuSVJlc29sdmFibGUgfCB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgd29ya2Zsb3dJZDogVGhlIHdvcmtmbG93IElELlxuICAgICAqL1xuICAgIHB1YmxpYyB3b3JrZmxvd0lkOiBzdHJpbmcgfCByb3MuSVJlc29sdmFibGUgfCB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gc2NvcGUgLSBzY29wZSBpbiB3aGljaCB0aGlzIHJlc291cmNlIGlzIGRlZmluZWRcbiAgICAgKiBAcGFyYW0gaWQgICAgLSBzY29wZWQgaWQgb2YgdGhlIHJlc291cmNlXG4gICAgICogQHBhcmFtIHByb3BzIC0gcmVzb3VyY2UgcHJvcGVydGllc1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHNjb3BlOiByb3MuQ29uc3RydWN0LCBpZDogc3RyaW5nLCBwcm9wczogUm9zTWVkaWFJbmZvUHJvcHMsIGVuYWJsZVJlc291cmNlUHJvcGVydHlDb25zdHJhaW50OiBib29sZWFuKSB7XG4gICAgICAgIHN1cGVyKHNjb3BlLCBpZCwgeyB0eXBlOiBSb3NNZWRpYUluZm8uUk9TX1JFU09VUkNFX1RZUEVfTkFNRSwgcHJvcGVydGllczogcHJvcHMgfSk7XG4gICAgICAgIHRoaXMuYXR0ck1lZGlhSWQgPSB0aGlzLmdldEF0dCgnTWVkaWFJZCcpO1xuXG4gICAgICAgIHRoaXMuZW5hYmxlUmVzb3VyY2VQcm9wZXJ0eUNvbnN0cmFpbnQgPSBlbmFibGVSZXNvdXJjZVByb3BlcnR5Q29uc3RyYWludDtcbiAgICAgICAgdGhpcy5pbnB1dFVybCA9IHByb3BzLmlucHV0VXJsO1xuICAgICAgICB0aGlzLmJ1c2luZXNzVHlwZSA9IHByb3BzLmJ1c2luZXNzVHlwZTtcbiAgICAgICAgdGhpcy5jYXRlSWQgPSBwcm9wcy5jYXRlSWQ7XG4gICAgICAgIHRoaXMuY292ZXJVcmwgPSBwcm9wcy5jb3ZlclVybDtcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IHByb3BzLmRlc2NyaXB0aW9uO1xuICAgICAgICB0aGlzLm1lZGlhVGFncyA9IHByb3BzLm1lZGlhVGFncztcbiAgICAgICAgdGhpcy5tZWRpYVR5cGUgPSBwcm9wcy5tZWRpYVR5cGU7XG4gICAgICAgIHRoaXMub3ZlcndyaXRlID0gcHJvcHMub3ZlcndyaXRlO1xuICAgICAgICB0aGlzLnJlZmVyZW5jZUlkID0gcHJvcHMucmVmZXJlbmNlSWQ7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb25maWcgPSBwcm9wcy5yZWdpc3RlckNvbmZpZztcbiAgICAgICAgdGhpcy5zbWFydFRhZ1RlbXBsYXRlSWQgPSBwcm9wcy5zbWFydFRhZ1RlbXBsYXRlSWQ7XG4gICAgICAgIHRoaXMudGl0bGUgPSBwcm9wcy50aXRsZTtcbiAgICAgICAgdGhpcy51c2VyRGF0YSA9IHByb3BzLnVzZXJEYXRhO1xuICAgICAgICB0aGlzLndvcmtmbG93SWQgPSBwcm9wcy53b3JrZmxvd0lkO1xuICAgIH1cblxuXG4gICAgcHJvdGVjdGVkIGdldCByb3NQcm9wZXJ0aWVzKCk6IHsgW2tleTogc3RyaW5nXTogYW55IH0gIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGlucHV0VXJsOiB0aGlzLmlucHV0VXJsLFxuICAgICAgICAgICAgYnVzaW5lc3NUeXBlOiB0aGlzLmJ1c2luZXNzVHlwZSxcbiAgICAgICAgICAgIGNhdGVJZDogdGhpcy5jYXRlSWQsXG4gICAgICAgICAgICBjb3ZlclVybDogdGhpcy5jb3ZlclVybCxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgbWVkaWFUYWdzOiB0aGlzLm1lZGlhVGFncyxcbiAgICAgICAgICAgIG1lZGlhVHlwZTogdGhpcy5tZWRpYVR5cGUsXG4gICAgICAgICAgICBvdmVyd3JpdGU6IHRoaXMub3ZlcndyaXRlLFxuICAgICAgICAgICAgcmVmZXJlbmNlSWQ6IHRoaXMucmVmZXJlbmNlSWQsXG4gICAgICAgICAgICByZWdpc3RlckNvbmZpZzogdGhpcy5yZWdpc3RlckNvbmZpZyxcbiAgICAgICAgICAgIHNtYXJ0VGFnVGVtcGxhdGVJZDogdGhpcy5zbWFydFRhZ1RlbXBsYXRlSWQsXG4gICAgICAgICAgICB0aXRsZTogdGhpcy50aXRsZSxcbiAgICAgICAgICAgIHVzZXJEYXRhOiB0aGlzLnVzZXJEYXRhLFxuICAgICAgICAgICAgd29ya2Zsb3dJZDogdGhpcy53b3JrZmxvd0lkLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBwcm90ZWN0ZWQgcmVuZGVyUHJvcGVydGllcyhwcm9wczoge1trZXk6IHN0cmluZ106IGFueX0pOiB7IFtrZXk6IHN0cmluZ106IGFueSB9ICB7XG4gICAgICAgIHJldHVybiByb3NNZWRpYUluZm9Qcm9wc1RvUm9zVGVtcGxhdGUocHJvcHMsIHRoaXMuZW5hYmxlUmVzb3VyY2VQcm9wZXJ0eUNvbnN0cmFpbnQpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBQcm9wZXJ0aWVzIGZvciBkZWZpbmluZyBhIGBSb3NTZWFyY2hMaWJgLlxuICogU2VlIGh0dHBzOi8vd3d3LmFsaWJhYmFjbG91ZC5jb20vaGVscC9yb3MvZGV2ZWxvcGVyLXJlZmVyZW5jZS9hbGl5dW4taWNlLXNlYXJjaGxpYlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJvc1NlYXJjaExpYlByb3BzIHtcblxuICAgIC8qKlxuICAgICAqIEBQcm9wZXJ0eSBzZWFyY2hMaWJOYW1lOiBUaGUgbmFtZSBvZiB0aGUgU2VhcmNoIExpYi5cbiAgICAgKi9cbiAgICByZWFkb25seSBzZWFyY2hMaWJOYW1lOiBzdHJpbmcgfCByb3MuSVJlc29sdmFibGU7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIHdoZXRoZXIgdGhlIGdpdmVuIHByb3BlcnRpZXMgbWF0Y2ggdGhvc2Ugb2YgYSBgUm9zU2VhcmNoTGliUHJvcHNgXG4gKlxuICogQHBhcmFtIHByb3BlcnRpZXMgLSB0aGUgVHlwZVNjcmlwdCBwcm9wZXJ0aWVzIG9mIGEgYFJvc1NlYXJjaExpYlByb3BzYFxuICpcbiAqIEByZXR1cm5zIHRoZSByZXN1bHQgb2YgdGhlIHZhbGlkYXRpb24uXG4gKi9cbmZ1bmN0aW9uIFJvc1NlYXJjaExpYlByb3BzVmFsaWRhdG9yKHByb3BlcnRpZXM6IGFueSk6IHJvcy5WYWxpZGF0aW9uUmVzdWx0IHtcbiAgICBpZiAoIXJvcy5jYW5JbnNwZWN0KHByb3BlcnRpZXMpKSB7IHJldHVybiByb3MuVkFMSURBVElPTl9TVUNDRVNTOyB9XG4gICAgY29uc3QgZXJyb3JzID0gbmV3IHJvcy5WYWxpZGF0aW9uUmVzdWx0cygpO1xuICAgIGVycm9ycy5jb2xsZWN0KHJvcy5wcm9wZXJ0eVZhbGlkYXRvcignc2VhcmNoTGliTmFtZScsIHJvcy5yZXF1aXJlZFZhbGlkYXRvcikocHJvcGVydGllcy5zZWFyY2hMaWJOYW1lKSk7XG4gICAgZXJyb3JzLmNvbGxlY3Qocm9zLnByb3BlcnR5VmFsaWRhdG9yKCdzZWFyY2hMaWJOYW1lJywgcm9zLnZhbGlkYXRlU3RyaW5nKShwcm9wZXJ0aWVzLnNlYXJjaExpYk5hbWUpKTtcbiAgICByZXR1cm4gZXJyb3JzLndyYXAoJ3N1cHBsaWVkIHByb3BlcnRpZXMgbm90IGNvcnJlY3QgZm9yIFwiUm9zU2VhcmNoTGliUHJvcHNcIicpO1xufVxuXG4vKipcbiAqIFJlbmRlcnMgdGhlIEFsaUNsb3VkIFJPUyBSZXNvdXJjZSBwcm9wZXJ0aWVzIG9mIGFuIGBBTElZVU46OklDRTo6U2VhcmNoTGliYCByZXNvdXJjZVxuICpcbiAqIEBwYXJhbSBwcm9wZXJ0aWVzIC0gdGhlIFR5cGVTY3JpcHQgcHJvcGVydGllcyBvZiBhIGBSb3NTZWFyY2hMaWJQcm9wc2BcbiAqXG4gKiBAcmV0dXJucyB0aGUgQWxpQ2xvdWQgUk9TIFJlc291cmNlIHByb3BlcnRpZXMgb2YgYW4gYEFMSVlVTjo6SUNFOjpTZWFyY2hMaWJgIHJlc291cmNlLlxuICovXG4vLyBAdHMtaWdub3JlIFRTNjEzM1xuZnVuY3Rpb24gcm9zU2VhcmNoTGliUHJvcHNUb1Jvc1RlbXBsYXRlKHByb3BlcnRpZXM6IGFueSwgZW5hYmxlUmVzb3VyY2VQcm9wZXJ0eUNvbnN0cmFpbnQ6IGJvb2xlYW4pOiBhbnkge1xuICAgIGlmICghcm9zLmNhbkluc3BlY3QocHJvcGVydGllcykpIHsgcmV0dXJuIHByb3BlcnRpZXM7IH1cbiAgICBpZihlbmFibGVSZXNvdXJjZVByb3BlcnR5Q29uc3RyYWludCkge1xuICAgICAgICBSb3NTZWFyY2hMaWJQcm9wc1ZhbGlkYXRvcihwcm9wZXJ0aWVzKS5hc3NlcnRTdWNjZXNzKCk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAnU2VhcmNoTGliTmFtZSc6IHJvcy5zdHJpbmdUb1Jvc1RlbXBsYXRlKHByb3BlcnRpZXMuc2VhcmNoTGliTmFtZSksXG4gICAgfTtcbn1cblxuLyoqXG4gKiBUaGlzIGNsYXNzIGlzIGEgYmFzZSBlbmNhcHN1bGF0aW9uIGFyb3VuZCB0aGUgUk9TIHJlc291cmNlIHR5cGUgYEFMSVlVTjo6SUNFOjpTZWFyY2hMaWJgLCB3aGljaCBpcyB1c2VkIHRvIGNyZWF0ZSBhIHNlYXJjaCBsaWJyYXJ5LlxuICogQE5vdGUgVGhpcyBjbGFzcyBkb2VzIG5vdCBjb250YWluIGFkZGl0aW9uYWwgZnVuY3Rpb25zLCBzbyBpdCBpcyByZWNvbW1lbmRlZCB0byB1c2UgdGhlIGBTZWFyY2hMaWJgIGNsYXNzIGluc3RlYWQgb2YgdGhpcyBjbGFzcyBmb3IgYSBtb3JlIGNvbnZlbmllbnQgZGV2ZWxvcG1lbnQgZXhwZXJpZW5jZS5cbiAqIFNlZSBodHRwczovL3d3dy5hbGliYWJhY2xvdWQuY29tL2hlbHAvcm9zL2RldmVsb3Blci1yZWZlcmVuY2UvYWxpeXVuLWljZS1zZWFyY2hsaWJcbiAqL1xuZXhwb3J0IGNsYXNzIFJvc1NlYXJjaExpYiBleHRlbmRzIHJvcy5Sb3NSZXNvdXJjZSB7XG4gICAgLyoqXG4gICAgICogVGhlIHJlc291cmNlIHR5cGUgbmFtZSBmb3IgdGhpcyByZXNvdXJjZSBjbGFzcy5cbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFJPU19SRVNPVVJDRV9UWVBFX05BTUUgPSBcIkFMSVlVTjo6SUNFOjpTZWFyY2hMaWJcIjtcblxuICAgIC8qKlxuICAgICAqIEBBdHRyaWJ1dGUgU2VhcmNoTGliTmFtZTogVGhlIG5hbWUgb2YgdGhlIFNlYXJjaCBMaWIuXG4gICAgICovXG4gICAgcHVibGljIHJlYWRvbmx5IGF0dHJTZWFyY2hMaWJOYW1lOiByb3MuSVJlc29sdmFibGU7XG5cbiAgICBwdWJsaWMgZW5hYmxlUmVzb3VyY2VQcm9wZXJ0eUNvbnN0cmFpbnQ6IGJvb2xlYW47XG5cblxuICAgIC8qKlxuICAgICAqIEBQcm9wZXJ0eSBzZWFyY2hMaWJOYW1lOiBUaGUgbmFtZSBvZiB0aGUgU2VhcmNoIExpYi5cbiAgICAgKi9cbiAgICBwdWJsaWMgc2VhcmNoTGliTmFtZTogc3RyaW5nIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHNjb3BlIC0gc2NvcGUgaW4gd2hpY2ggdGhpcyByZXNvdXJjZSBpcyBkZWZpbmVkXG4gICAgICogQHBhcmFtIGlkICAgIC0gc2NvcGVkIGlkIG9mIHRoZSByZXNvdXJjZVxuICAgICAqIEBwYXJhbSBwcm9wcyAtIHJlc291cmNlIHByb3BlcnRpZXNcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihzY29wZTogcm9zLkNvbnN0cnVjdCwgaWQ6IHN0cmluZywgcHJvcHM6IFJvc1NlYXJjaExpYlByb3BzLCBlbmFibGVSZXNvdXJjZVByb3BlcnR5Q29uc3RyYWludDogYm9vbGVhbikge1xuICAgICAgICBzdXBlcihzY29wZSwgaWQsIHsgdHlwZTogUm9zU2VhcmNoTGliLlJPU19SRVNPVVJDRV9UWVBFX05BTUUsIHByb3BlcnRpZXM6IHByb3BzIH0pO1xuICAgICAgICB0aGlzLmF0dHJTZWFyY2hMaWJOYW1lID0gdGhpcy5nZXRBdHQoJ1NlYXJjaExpYk5hbWUnKTtcblxuICAgICAgICB0aGlzLmVuYWJsZVJlc291cmNlUHJvcGVydHlDb25zdHJhaW50ID0gZW5hYmxlUmVzb3VyY2VQcm9wZXJ0eUNvbnN0cmFpbnQ7XG4gICAgICAgIHRoaXMuc2VhcmNoTGliTmFtZSA9IHByb3BzLnNlYXJjaExpYk5hbWU7XG4gICAgfVxuXG5cbiAgICBwcm90ZWN0ZWQgZ2V0IHJvc1Byb3BlcnRpZXMoKTogeyBba2V5OiBzdHJpbmddOiBhbnkgfSAge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc2VhcmNoTGliTmFtZTogdGhpcy5zZWFyY2hMaWJOYW1lLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBwcm90ZWN0ZWQgcmVuZGVyUHJvcGVydGllcyhwcm9wczoge1trZXk6IHN0cmluZ106IGFueX0pOiB7IFtrZXk6IHN0cmluZ106IGFueSB9ICB7XG4gICAgICAgIHJldHVybiByb3NTZWFyY2hMaWJQcm9wc1RvUm9zVGVtcGxhdGUocHJvcHMsIHRoaXMuZW5hYmxlUmVzb3VyY2VQcm9wZXJ0eUNvbnN0cmFpbnQpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBQcm9wZXJ0aWVzIGZvciBkZWZpbmluZyBhIGBSb3NVcGxvYWRNZWRpYWAuXG4gKiBTZWUgaHR0cHM6Ly93d3cuYWxpYmFiYWNsb3VkLmNvbS9oZWxwL3Jvcy9kZXZlbG9wZXItcmVmZXJlbmNlL2FsaXl1bi1pY2UtdXBsb2FkbWVkaWFcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSb3NVcGxvYWRNZWRpYVByb3BzIHtcblxuICAgIC8qKlxuICAgICAqIEBQcm9wZXJ0eSBhcHBJZDogVGhlIGFwcGxpY2F0aW9uIElELiBEZWZhdWx0IHZhbHVlOiBhcHAtMTAwMDAwMC5cbiAgICAgKi9cbiAgICByZWFkb25seSBhcHBJZD86IHN0cmluZyB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIEBQcm9wZXJ0eSBlbnRpdHlJZDogVGhlIGVudGl0eSBJRC4gWW91IGNhbiBjYWxsIHRoZSBDcmVhdGVFbnRpdHkgb3BlcmF0aW9uIHRvIGNyZWF0ZSBhbiBlbnRpdHkgYW5kIHNwZWNpZnkgYSBkeW5hbWljIG1ldGFkYXRhIHN0cnVjdHVyZS5cbiAgICAgKi9cbiAgICByZWFkb25seSBlbnRpdHlJZD86IHN0cmluZyB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIEBQcm9wZXJ0eSBmaWxlSW5mbzogVGhlIGZpbGUgaW5mb3JtYXRpb24sIHdoaWNoIGlzIGluIHRoZSBKU09OIGZvcm1hdCBhbmQgY29udGFpbnMgdGhlIGZvbGxvd2luZyBmaWVsZHM6XG4gICAgICogVHlwZTogcmVxdWlyZWQuIFRoZSBmaWxlIHR5cGUuIFZhbGlkIHZhbHVlczogdmlkZW8sIGltYWdlLCBhdWRpbywgdGV4dCwgYW5kIG90aGVyLlxuICAgICAqIE5hbWU6IHJlcXVpcmVkLiBUaGUgZmlsZSBuYW1lIHdpdGhvdXQgdGhlIGV4dGVuc2lvbi5cbiAgICAgKiBTaXplOiBvcHRpb25hbC4gVGhlIGZpbGUgc2l6ZS5cbiAgICAgKiBFeHQ6IHJlcXVpcmVkLiBUaGUgZmlsZSBuYW1lIGV4dGVuc2lvbi5cbiAgICAgKi9cbiAgICByZWFkb25seSBmaWxlSW5mbz86IHsgW2tleTogc3RyaW5nXTogKGFueSB8IHJvcy5JUmVzb2x2YWJsZSkgfSB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIEBQcm9wZXJ0eSBtZWRpYU1ldGFEYXRhOiBUaGUgbWV0YWRhdGEgb2YgdGhlIG1lZGlhIGFzc2V0LCB3aGljaCBpcyBhIEpTT04gc3RyaW5nIHRoYXQgY29udGFpbnMgdGhlIGZvbGxvd2luZyBmaWVsZHM6XG4gICAgICogVGl0bGU6IHJlcXVpcmVkLlxuICAgICAqIFRoZSB2YWx1ZSBjYW4gYmUgdXAgdG8gMTI4IGNoYXJhY3RlcnMgaW4gbGVuZ3RoLlxuICAgICAqIFRoZSB2YWx1ZSBtdXN0IGJlIGVuY29kZWQgaW4gVVRGLTguXG4gICAgICogRGVzY3JpcHRpb246IG9wdGlvbmFsLlxuICAgICAqIFRoZSB2YWx1ZSBjYW4gYmUgdXAgdG8gMSwwMjQgY2hhcmFjdGVycyBpbiBsZW5ndGguXG4gICAgICogVGhlIHZhbHVlIG11c3QgYmUgZW5jb2RlZCBpbiBVVEYtOC5cbiAgICAgKiBDYXRlSWQ6IG9wdGlvbmFsLlxuICAgICAqIFRhZ3M6IG9wdGlvbmFsLlxuICAgICAqIEJ1c2luZXNzVHlwZTogcmVxdWlyZWQuIFZhbGlkIHZhbHVlczpcbiAgICAgKiBvcGVuaW5nIG9yIGVuZGluZyBpZiBUeXBlIGlzIHNldCB0byB2aWRlb1xuICAgICAqIGRlZmF1bHQgb3IgY292ZXIgaWYgVHlwZSBpcyBzZXQgdG8gaW1hZ2VcbiAgICAgKiBzdWJ0aXRsZXMgb3IgZm9udCBpZiBUeXBlIGlzIHNldCB0byB0ZXh0XG4gICAgICogd2F0ZXJtYXJrIGlmIFR5cGUgaXMgc2V0IHRvIG1hdGVyaWFsXG4gICAgICogZ2VuZXJhbCBDb3ZlclVSTDogb3B0aW9uYWwuXG4gICAgICogRHluYW1pY01ldGFEYXRhOiBUaGUgdmFsdWUgaXMgYSBzdHJpbmcuXG4gICAgICovXG4gICAgcmVhZG9ubHkgbWVkaWFNZXRhRGF0YT86IHsgW2tleTogc3RyaW5nXTogKGFueSB8IHJvcy5JUmVzb2x2YWJsZSkgfSB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIEBQcm9wZXJ0eSBwb3N0UHJvY2Vzc0NvbmZpZzogVHlwZSA9IHZpZGVvIHx8IGF1ZGlvIFRoZXJlIGlzIGEgcG9zdC11cGxvYWQgcHJvY2Vzc2luZyBhY3Rpb24uIFByb2Nlc3NUeXBlIFZhbHVlOiBXb3JrZmxvdy5cbiAgICAgKi9cbiAgICByZWFkb25seSBwb3N0UHJvY2Vzc0NvbmZpZz86IHsgW2tleTogc3RyaW5nXTogKGFueSB8IHJvcy5JUmVzb2x2YWJsZSkgfSB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIEBQcm9wZXJ0eSB1cGxvYWRUYXJnZXRDb25maWc6IFRoZSBkZXN0aW5hdGlvbiBzdG9yYWdlIGFkZHJlc3MuXG4gICAgICogU2V0IFN0b3JhZ2VUeXBlIHRvIG9zcy5cbiAgICAgKiBTZXQgU3RvcmFnZUxvY2F0aW9uIHRvIGFuIGFkZHJlc3MgaW4gQXBzYXJhVmlkZW8gVk9ELiBZb3UgY2Fubm90IHNldCB0aGlzIGZpZWxkIHRvIGFuIE9TUyBVUkwuXG4gICAgICovXG4gICAgcmVhZG9ubHkgdXBsb2FkVGFyZ2V0Q29uZmlnPzogeyBba2V5OiBzdHJpbmddOiAoYW55IHwgcm9zLklSZXNvbHZhYmxlKSB9IHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IHVzZXJEYXRhOiBUaGUgdXNlciBkYXRhLiBUaGUgdmFsdWUgbXVzdCBiZSBhIEpTT04gc3RyaW5nLiBZb3UgY2FuIGNvbmZpZ3VyZSBzZXR0aW5ncyBzdWNoIGFzIG1lc3NhZ2UgY2FsbGJhY2tzLlxuICAgICAqL1xuICAgIHJlYWRvbmx5IHVzZXJEYXRhPzogeyBba2V5OiBzdHJpbmddOiAoYW55IHwgcm9zLklSZXNvbHZhYmxlKSB9IHwgcm9zLklSZXNvbHZhYmxlO1xufVxuXG4vKipcbiAqIERldGVybWluZSB3aGV0aGVyIHRoZSBnaXZlbiBwcm9wZXJ0aWVzIG1hdGNoIHRob3NlIG9mIGEgYFJvc1VwbG9hZE1lZGlhUHJvcHNgXG4gKlxuICogQHBhcmFtIHByb3BlcnRpZXMgLSB0aGUgVHlwZVNjcmlwdCBwcm9wZXJ0aWVzIG9mIGEgYFJvc1VwbG9hZE1lZGlhUHJvcHNgXG4gKlxuICogQHJldHVybnMgdGhlIHJlc3VsdCBvZiB0aGUgdmFsaWRhdGlvbi5cbiAqL1xuZnVuY3Rpb24gUm9zVXBsb2FkTWVkaWFQcm9wc1ZhbGlkYXRvcihwcm9wZXJ0aWVzOiBhbnkpOiByb3MuVmFsaWRhdGlvblJlc3VsdCB7XG4gICAgaWYgKCFyb3MuY2FuSW5zcGVjdChwcm9wZXJ0aWVzKSkgeyByZXR1cm4gcm9zLlZBTElEQVRJT05fU1VDQ0VTUzsgfVxuICAgIGNvbnN0IGVycm9ycyA9IG5ldyByb3MuVmFsaWRhdGlvblJlc3VsdHMoKTtcbiAgICBlcnJvcnMuY29sbGVjdChyb3MucHJvcGVydHlWYWxpZGF0b3IoJ2VudGl0eUlkJywgcm9zLnZhbGlkYXRlU3RyaW5nKShwcm9wZXJ0aWVzLmVudGl0eUlkKSk7XG4gICAgZXJyb3JzLmNvbGxlY3Qocm9zLnByb3BlcnR5VmFsaWRhdG9yKCdhcHBJZCcsIHJvcy52YWxpZGF0ZVN0cmluZykocHJvcGVydGllcy5hcHBJZCkpO1xuICAgIGVycm9ycy5jb2xsZWN0KHJvcy5wcm9wZXJ0eVZhbGlkYXRvcignZmlsZUluZm8nLCByb3MuaGFzaFZhbGlkYXRvcihyb3MudmFsaWRhdGVBbnkpKShwcm9wZXJ0aWVzLmZpbGVJbmZvKSk7XG4gICAgZXJyb3JzLmNvbGxlY3Qocm9zLnByb3BlcnR5VmFsaWRhdG9yKCd1c2VyRGF0YScsIHJvcy5oYXNoVmFsaWRhdG9yKHJvcy52YWxpZGF0ZUFueSkpKHByb3BlcnRpZXMudXNlckRhdGEpKTtcbiAgICBlcnJvcnMuY29sbGVjdChyb3MucHJvcGVydHlWYWxpZGF0b3IoJ3VwbG9hZFRhcmdldENvbmZpZycsIHJvcy5oYXNoVmFsaWRhdG9yKHJvcy52YWxpZGF0ZUFueSkpKHByb3BlcnRpZXMudXBsb2FkVGFyZ2V0Q29uZmlnKSk7XG4gICAgZXJyb3JzLmNvbGxlY3Qocm9zLnByb3BlcnR5VmFsaWRhdG9yKCdtZWRpYU1ldGFEYXRhJywgcm9zLmhhc2hWYWxpZGF0b3Iocm9zLnZhbGlkYXRlQW55KSkocHJvcGVydGllcy5tZWRpYU1ldGFEYXRhKSk7XG4gICAgZXJyb3JzLmNvbGxlY3Qocm9zLnByb3BlcnR5VmFsaWRhdG9yKCdwb3N0UHJvY2Vzc0NvbmZpZycsIHJvcy5oYXNoVmFsaWRhdG9yKHJvcy52YWxpZGF0ZUFueSkpKHByb3BlcnRpZXMucG9zdFByb2Nlc3NDb25maWcpKTtcbiAgICByZXR1cm4gZXJyb3JzLndyYXAoJ3N1cHBsaWVkIHByb3BlcnRpZXMgbm90IGNvcnJlY3QgZm9yIFwiUm9zVXBsb2FkTWVkaWFQcm9wc1wiJyk7XG59XG5cbi8qKlxuICogUmVuZGVycyB0aGUgQWxpQ2xvdWQgUk9TIFJlc291cmNlIHByb3BlcnRpZXMgb2YgYW4gYEFMSVlVTjo6SUNFOjpVcGxvYWRNZWRpYWAgcmVzb3VyY2VcbiAqXG4gKiBAcGFyYW0gcHJvcGVydGllcyAtIHRoZSBUeXBlU2NyaXB0IHByb3BlcnRpZXMgb2YgYSBgUm9zVXBsb2FkTWVkaWFQcm9wc2BcbiAqXG4gKiBAcmV0dXJucyB0aGUgQWxpQ2xvdWQgUk9TIFJlc291cmNlIHByb3BlcnRpZXMgb2YgYW4gYEFMSVlVTjo6SUNFOjpVcGxvYWRNZWRpYWAgcmVzb3VyY2UuXG4gKi9cbi8vIEB0cy1pZ25vcmUgVFM2MTMzXG5mdW5jdGlvbiByb3NVcGxvYWRNZWRpYVByb3BzVG9Sb3NUZW1wbGF0ZShwcm9wZXJ0aWVzOiBhbnksIGVuYWJsZVJlc291cmNlUHJvcGVydHlDb25zdHJhaW50OiBib29sZWFuKTogYW55IHtcbiAgICBpZiAoIXJvcy5jYW5JbnNwZWN0KHByb3BlcnRpZXMpKSB7IHJldHVybiBwcm9wZXJ0aWVzOyB9XG4gICAgaWYoZW5hYmxlUmVzb3VyY2VQcm9wZXJ0eUNvbnN0cmFpbnQpIHtcbiAgICAgICAgUm9zVXBsb2FkTWVkaWFQcm9wc1ZhbGlkYXRvcihwcm9wZXJ0aWVzKS5hc3NlcnRTdWNjZXNzKCk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAnQXBwSWQnOiByb3Muc3RyaW5nVG9Sb3NUZW1wbGF0ZShwcm9wZXJ0aWVzLmFwcElkKSxcbiAgICAgICdFbnRpdHlJZCc6IHJvcy5zdHJpbmdUb1Jvc1RlbXBsYXRlKHByb3BlcnRpZXMuZW50aXR5SWQpLFxuICAgICAgJ0ZpbGVJbmZvJzogcm9zLmhhc2hNYXBwZXIocm9zLm9iamVjdFRvUm9zVGVtcGxhdGUpKHByb3BlcnRpZXMuZmlsZUluZm8pLFxuICAgICAgJ01lZGlhTWV0YURhdGEnOiByb3MuaGFzaE1hcHBlcihyb3Mub2JqZWN0VG9Sb3NUZW1wbGF0ZSkocHJvcGVydGllcy5tZWRpYU1ldGFEYXRhKSxcbiAgICAgICdQb3N0UHJvY2Vzc0NvbmZpZyc6IHJvcy5oYXNoTWFwcGVyKHJvcy5vYmplY3RUb1Jvc1RlbXBsYXRlKShwcm9wZXJ0aWVzLnBvc3RQcm9jZXNzQ29uZmlnKSxcbiAgICAgICdVcGxvYWRUYXJnZXRDb25maWcnOiByb3MuaGFzaE1hcHBlcihyb3Mub2JqZWN0VG9Sb3NUZW1wbGF0ZSkocHJvcGVydGllcy51cGxvYWRUYXJnZXRDb25maWcpLFxuICAgICAgJ1VzZXJEYXRhJzogcm9zLmhhc2hNYXBwZXIocm9zLm9iamVjdFRvUm9zVGVtcGxhdGUpKHByb3BlcnRpZXMudXNlckRhdGEpLFxuICAgIH07XG59XG5cbi8qKlxuICogVGhpcyBjbGFzcyBpcyBhIGJhc2UgZW5jYXBzdWxhdGlvbiBhcm91bmQgdGhlIFJPUyByZXNvdXJjZSB0eXBlIGBBTElZVU46OklDRTo6VXBsb2FkTWVkaWFgLlxuICogQE5vdGUgVGhpcyBjbGFzcyBkb2VzIG5vdCBjb250YWluIGFkZGl0aW9uYWwgZnVuY3Rpb25zLCBzbyBpdCBpcyByZWNvbW1lbmRlZCB0byB1c2UgdGhlIGBVcGxvYWRNZWRpYWAgY2xhc3MgaW5zdGVhZCBvZiB0aGlzIGNsYXNzIGZvciBhIG1vcmUgY29udmVuaWVudCBkZXZlbG9wbWVudCBleHBlcmllbmNlLlxuICogU2VlIGh0dHBzOi8vd3d3LmFsaWJhYmFjbG91ZC5jb20vaGVscC9yb3MvZGV2ZWxvcGVyLXJlZmVyZW5jZS9hbGl5dW4taWNlLXVwbG9hZG1lZGlhXG4gKi9cbmV4cG9ydCBjbGFzcyBSb3NVcGxvYWRNZWRpYSBleHRlbmRzIHJvcy5Sb3NSZXNvdXJjZSB7XG4gICAgLyoqXG4gICAgICogVGhlIHJlc291cmNlIHR5cGUgbmFtZSBmb3IgdGhpcyByZXNvdXJjZSBjbGFzcy5cbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFJPU19SRVNPVVJDRV9UWVBFX05BTUUgPSBcIkFMSVlVTjo6SUNFOjpVcGxvYWRNZWRpYVwiO1xuXG4gICAgLyoqXG4gICAgICogQEF0dHJpYnV0ZSBGaWxlVVJMOiBUaGUgT1NTIFVSTCBvZiB0aGUgZmlsZS4gVGhlIFVSTCBkb2VzIG5vdCBjb250YWluIHRoZSBpbmZvcm1hdGlvbiB1c2VkIGZvciBhdXRoZW50aWNhdGlvbi5cbiAgICAgKi9cbiAgICBwdWJsaWMgcmVhZG9ubHkgYXR0ckZpbGVVcmw6IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIEBBdHRyaWJ1dGUgTWVkaWFJZDogVGhlIElEIG9mIHRoZSBtZWRpYSBhc3NldC5cbiAgICAgKi9cbiAgICBwdWJsaWMgcmVhZG9ubHkgYXR0ck1lZGlhSWQ6IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIEBBdHRyaWJ1dGUgTWVkaWFVUkw6IFRoZSBVUkwgb2YgdGhlIG1lZGlhIGFzc2V0LlxuTm90ZSBJZiBhIGRvbWFpbiBuYW1lIGZvciBBbGliYWJhIENsb3VkIENETiAoQ0ROKSBpcyBzcGVjaWZpZWQsIGEgQ0ROIFVSTCBpcyByZXR1cm5lZC4gT3RoZXJ3aXNlLCBhbiBPU1MgVVJMIGlzIHJldHVybmVkLiBJZiB0aGUgSFRUUCBzdGF0dXMgY29kZSA0MDMgaXMgcmV0dXJuZWQgd2hlbiB5b3UgYWNjZXNzIHRoZSBVUkwgZnJvbSB5b3VyIGJyb3dzZXIsIHRoZSBVUkwgYXV0aGVudGljYXRpb24gZmVhdHVyZSBvZiBBcHNhcmFWaWRlbyBWT0QgaXMgZW5hYmxlZC4gVG8gcmVzb2x2ZSB0aGlzIGlzc3VlLCBkaXNhYmxlIFVSTCBhdXRoZW50aWNhdGlvbiBvciBnZW5lcmF0ZSBhbiBhdXRoZW50aWNhdGlvbiBzaWduYXR1cmUuXG4gICAgICovXG4gICAgcHVibGljIHJlYWRvbmx5IGF0dHJNZWRpYVVybDogcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogQEF0dHJpYnV0ZSBVcGxvYWRBZGRyZXNzOiBUaGUgdXBsb2FkIFVSTC5cbk5vdGUgVGhlIHJldHVybmVkIHVwbG9hZCBVUkwgaXMgYSBCYXNlNjQtZW5jb2RlZCBVUkwuIFlvdSBtdXN0IGRlY29kZSB0aGUgQmFzZTY0LWVuY29kZWQgdXBsb2FkIFVSTCBiZWZvcmUgeW91IHVzZSBhbiBTREsgb3IgY2FsbCBhbiBBUEkgb3BlcmF0aW9uIHRvIHVwbG9hZCBtZWRpYSBmaWxlcy4gWW91IG5lZWQgdG8gcGFyc2UgVXBsb2FkQWRkcmVzcyBvbmx5IGlmIHlvdSB1c2UgT1NTIFNESyBvciBjYWxsIGFuIE9TUyBBUEkgb3BlcmF0aW9uIHRvIHVwbG9hZCBtZWRpYSBmaWxlcy5cbiAgICAgKi9cbiAgICBwdWJsaWMgcmVhZG9ubHkgYXR0clVwbG9hZEFkZHJlc3M6IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIEBBdHRyaWJ1dGUgVXBsb2FkQXV0aDogVGhlIHVwbG9hZCBjcmVkZW50aWFsLlxuTm90ZSBUaGUgcmV0dXJuZWQgdXBsb2FkIGNyZWRlbnRpYWwgaXMgYSBCYXNlNjQtZW5jb2RlZCB2YWx1ZS4gWW91IG11c3QgZGVjb2RlIHRoZSBCYXNlNjQtZW5jb2RlZCB1cGxvYWQgVVJMIGJlZm9yZSB5b3UgdXNlIGFuIFNESyBvciBjYWxsIGFuIEFQSSBvcGVyYXRpb24gdG8gdXBsb2FkIG1lZGlhIGZpbGVzLiBZb3UgbmVlZCB0byBwYXJzZSBVcGxvYWRBdXRoIG9ubHkgaWYgeW91IHVzZSBPU1MgU0RLIG9yIGNhbGwgYW4gT1NTIEFQSSBvcGVyYXRpb24gdG8gdXBsb2FkIG1lZGlhIGZpbGVzLlxuICAgICAqL1xuICAgIHB1YmxpYyByZWFkb25seSBhdHRyVXBsb2FkQXV0aDogcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgcHVibGljIGVuYWJsZVJlc291cmNlUHJvcGVydHlDb25zdHJhaW50OiBib29sZWFuO1xuXG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgYXBwSWQ6IFRoZSBhcHBsaWNhdGlvbiBJRC4gRGVmYXVsdCB2YWx1ZTogYXBwLTEwMDAwMDAuXG4gICAgICovXG4gICAgcHVibGljIGFwcElkOiBzdHJpbmcgfCByb3MuSVJlc29sdmFibGUgfCB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgZW50aXR5SWQ6IFRoZSBlbnRpdHkgSUQuIFlvdSBjYW4gY2FsbCB0aGUgQ3JlYXRlRW50aXR5IG9wZXJhdGlvbiB0byBjcmVhdGUgYW4gZW50aXR5IGFuZCBzcGVjaWZ5IGEgZHluYW1pYyBtZXRhZGF0YSBzdHJ1Y3R1cmUuXG4gICAgICovXG4gICAgcHVibGljIGVudGl0eUlkOiBzdHJpbmcgfCByb3MuSVJlc29sdmFibGUgfCB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgZmlsZUluZm86IFRoZSBmaWxlIGluZm9ybWF0aW9uLCB3aGljaCBpcyBpbiB0aGUgSlNPTiBmb3JtYXQgYW5kIGNvbnRhaW5zIHRoZSBmb2xsb3dpbmcgZmllbGRzOlxuICAgICAqIFR5cGU6IHJlcXVpcmVkLiBUaGUgZmlsZSB0eXBlLiBWYWxpZCB2YWx1ZXM6IHZpZGVvLCBpbWFnZSwgYXVkaW8sIHRleHQsIGFuZCBvdGhlci5cbiAgICAgKiBOYW1lOiByZXF1aXJlZC4gVGhlIGZpbGUgbmFtZSB3aXRob3V0IHRoZSBleHRlbnNpb24uXG4gICAgICogU2l6ZTogb3B0aW9uYWwuIFRoZSBmaWxlIHNpemUuXG4gICAgICogRXh0OiByZXF1aXJlZC4gVGhlIGZpbGUgbmFtZSBleHRlbnNpb24uXG4gICAgICovXG4gICAgcHVibGljIGZpbGVJbmZvOiB7IFtrZXk6IHN0cmluZ106IChhbnkgfCByb3MuSVJlc29sdmFibGUpIH0gfCByb3MuSVJlc29sdmFibGUgfCB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgbWVkaWFNZXRhRGF0YTogVGhlIG1ldGFkYXRhIG9mIHRoZSBtZWRpYSBhc3NldCwgd2hpY2ggaXMgYSBKU09OIHN0cmluZyB0aGF0IGNvbnRhaW5zIHRoZSBmb2xsb3dpbmcgZmllbGRzOlxuICAgICAqIFRpdGxlOiByZXF1aXJlZC5cbiAgICAgKiBUaGUgdmFsdWUgY2FuIGJlIHVwIHRvIDEyOCBjaGFyYWN0ZXJzIGluIGxlbmd0aC5cbiAgICAgKiBUaGUgdmFsdWUgbXVzdCBiZSBlbmNvZGVkIGluIFVURi04LlxuICAgICAqIERlc2NyaXB0aW9uOiBvcHRpb25hbC5cbiAgICAgKiBUaGUgdmFsdWUgY2FuIGJlIHVwIHRvIDEsMDI0IGNoYXJhY3RlcnMgaW4gbGVuZ3RoLlxuICAgICAqIFRoZSB2YWx1ZSBtdXN0IGJlIGVuY29kZWQgaW4gVVRGLTguXG4gICAgICogQ2F0ZUlkOiBvcHRpb25hbC5cbiAgICAgKiBUYWdzOiBvcHRpb25hbC5cbiAgICAgKiBCdXNpbmVzc1R5cGU6IHJlcXVpcmVkLiBWYWxpZCB2YWx1ZXM6XG4gICAgICogb3BlbmluZyBvciBlbmRpbmcgaWYgVHlwZSBpcyBzZXQgdG8gdmlkZW9cbiAgICAgKiBkZWZhdWx0IG9yIGNvdmVyIGlmIFR5cGUgaXMgc2V0IHRvIGltYWdlXG4gICAgICogc3VidGl0bGVzIG9yIGZvbnQgaWYgVHlwZSBpcyBzZXQgdG8gdGV4dFxuICAgICAqIHdhdGVybWFyayBpZiBUeXBlIGlzIHNldCB0byBtYXRlcmlhbFxuICAgICAqIGdlbmVyYWwgQ292ZXJVUkw6IG9wdGlvbmFsLlxuICAgICAqIER5bmFtaWNNZXRhRGF0YTogVGhlIHZhbHVlIGlzIGEgc3RyaW5nLlxuICAgICAqL1xuICAgIHB1YmxpYyBtZWRpYU1ldGFEYXRhOiB7IFtrZXk6IHN0cmluZ106IChhbnkgfCByb3MuSVJlc29sdmFibGUpIH0gfCByb3MuSVJlc29sdmFibGUgfCB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgcG9zdFByb2Nlc3NDb25maWc6IFR5cGUgPSB2aWRlbyB8fCBhdWRpbyBUaGVyZSBpcyBhIHBvc3QtdXBsb2FkIHByb2Nlc3NpbmcgYWN0aW9uLiBQcm9jZXNzVHlwZSBWYWx1ZTogV29ya2Zsb3cuXG4gICAgICovXG4gICAgcHVibGljIHBvc3RQcm9jZXNzQ29uZmlnOiB7IFtrZXk6IHN0cmluZ106IChhbnkgfCByb3MuSVJlc29sdmFibGUpIH0gfCByb3MuSVJlc29sdmFibGUgfCB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgdXBsb2FkVGFyZ2V0Q29uZmlnOiBUaGUgZGVzdGluYXRpb24gc3RvcmFnZSBhZGRyZXNzLlxuICAgICAqIFNldCBTdG9yYWdlVHlwZSB0byBvc3MuXG4gICAgICogU2V0IFN0b3JhZ2VMb2NhdGlvbiB0byBhbiBhZGRyZXNzIGluIEFwc2FyYVZpZGVvIFZPRC4gWW91IGNhbm5vdCBzZXQgdGhpcyBmaWVsZCB0byBhbiBPU1MgVVJMLlxuICAgICAqL1xuICAgIHB1YmxpYyB1cGxvYWRUYXJnZXRDb25maWc6IHsgW2tleTogc3RyaW5nXTogKGFueSB8IHJvcy5JUmVzb2x2YWJsZSkgfSB8IHJvcy5JUmVzb2x2YWJsZSB8IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIEBQcm9wZXJ0eSB1c2VyRGF0YTogVGhlIHVzZXIgZGF0YS4gVGhlIHZhbHVlIG11c3QgYmUgYSBKU09OIHN0cmluZy4gWW91IGNhbiBjb25maWd1cmUgc2V0dGluZ3Mgc3VjaCBhcyBtZXNzYWdlIGNhbGxiYWNrcy5cbiAgICAgKi9cbiAgICBwdWJsaWMgdXNlckRhdGE6IHsgW2tleTogc3RyaW5nXTogKGFueSB8IHJvcy5JUmVzb2x2YWJsZSkgfSB8IHJvcy5JUmVzb2x2YWJsZSB8IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBzY29wZSAtIHNjb3BlIGluIHdoaWNoIHRoaXMgcmVzb3VyY2UgaXMgZGVmaW5lZFxuICAgICAqIEBwYXJhbSBpZCAgICAtIHNjb3BlZCBpZCBvZiB0aGUgcmVzb3VyY2VcbiAgICAgKiBAcGFyYW0gcHJvcHMgLSByZXNvdXJjZSBwcm9wZXJ0aWVzXG4gICAgICovXG4gICAgY29uc3RydWN0b3Ioc2NvcGU6IHJvcy5Db25zdHJ1Y3QsIGlkOiBzdHJpbmcsIHByb3BzOiBSb3NVcGxvYWRNZWRpYVByb3BzLCBlbmFibGVSZXNvdXJjZVByb3BlcnR5Q29uc3RyYWludDogYm9vbGVhbikge1xuICAgICAgICBzdXBlcihzY29wZSwgaWQsIHsgdHlwZTogUm9zVXBsb2FkTWVkaWEuUk9TX1JFU09VUkNFX1RZUEVfTkFNRSwgcHJvcGVydGllczogcHJvcHMgfSk7XG4gICAgICAgIHRoaXMuYXR0ckZpbGVVcmwgPSB0aGlzLmdldEF0dCgnRmlsZVVSTCcpO1xuICAgICAgICB0aGlzLmF0dHJNZWRpYUlkID0gdGhpcy5nZXRBdHQoJ01lZGlhSWQnKTtcbiAgICAgICAgdGhpcy5hdHRyTWVkaWFVcmwgPSB0aGlzLmdldEF0dCgnTWVkaWFVUkwnKTtcbiAgICAgICAgdGhpcy5hdHRyVXBsb2FkQWRkcmVzcyA9IHRoaXMuZ2V0QXR0KCdVcGxvYWRBZGRyZXNzJyk7XG4gICAgICAgIHRoaXMuYXR0clVwbG9hZEF1dGggPSB0aGlzLmdldEF0dCgnVXBsb2FkQXV0aCcpO1xuXG4gICAgICAgIHRoaXMuZW5hYmxlUmVzb3VyY2VQcm9wZXJ0eUNvbnN0cmFpbnQgPSBlbmFibGVSZXNvdXJjZVByb3BlcnR5Q29uc3RyYWludDtcbiAgICAgICAgdGhpcy5hcHBJZCA9IHByb3BzLmFwcElkO1xuICAgICAgICB0aGlzLmVudGl0eUlkID0gcHJvcHMuZW50aXR5SWQ7XG4gICAgICAgIHRoaXMuZmlsZUluZm8gPSBwcm9wcy5maWxlSW5mbztcbiAgICAgICAgdGhpcy5tZWRpYU1ldGFEYXRhID0gcHJvcHMubWVkaWFNZXRhRGF0YTtcbiAgICAgICAgdGhpcy5wb3N0UHJvY2Vzc0NvbmZpZyA9IHByb3BzLnBvc3RQcm9jZXNzQ29uZmlnO1xuICAgICAgICB0aGlzLnVwbG9hZFRhcmdldENvbmZpZyA9IHByb3BzLnVwbG9hZFRhcmdldENvbmZpZztcbiAgICAgICAgdGhpcy51c2VyRGF0YSA9IHByb3BzLnVzZXJEYXRhO1xuICAgIH1cblxuXG4gICAgcHJvdGVjdGVkIGdldCByb3NQcm9wZXJ0aWVzKCk6IHsgW2tleTogc3RyaW5nXTogYW55IH0gIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFwcElkOiB0aGlzLmFwcElkLFxuICAgICAgICAgICAgZW50aXR5SWQ6IHRoaXMuZW50aXR5SWQsXG4gICAgICAgICAgICBmaWxlSW5mbzogdGhpcy5maWxlSW5mbyxcbiAgICAgICAgICAgIG1lZGlhTWV0YURhdGE6IHRoaXMubWVkaWFNZXRhRGF0YSxcbiAgICAgICAgICAgIHBvc3RQcm9jZXNzQ29uZmlnOiB0aGlzLnBvc3RQcm9jZXNzQ29uZmlnLFxuICAgICAgICAgICAgdXBsb2FkVGFyZ2V0Q29uZmlnOiB0aGlzLnVwbG9hZFRhcmdldENvbmZpZyxcbiAgICAgICAgICAgIHVzZXJEYXRhOiB0aGlzLnVzZXJEYXRhLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBwcm90ZWN0ZWQgcmVuZGVyUHJvcGVydGllcyhwcm9wczoge1trZXk6IHN0cmluZ106IGFueX0pOiB7IFtrZXk6IHN0cmluZ106IGFueSB9ICB7XG4gICAgICAgIHJldHVybiByb3NVcGxvYWRNZWRpYVByb3BzVG9Sb3NUZW1wbGF0ZShwcm9wcywgdGhpcy5lbmFibGVSZXNvdXJjZVByb3BlcnR5Q29uc3RyYWludCk7XG4gICAgfVxufVxuIl19