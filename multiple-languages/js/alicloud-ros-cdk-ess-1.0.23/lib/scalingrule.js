"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ScalingRule = exports.ScalingRuleProperty = void 0;
const ros = require("@alicloud/ros-cdk-core");
const ess_generated_1 = require("./ess.generated");
Object.defineProperty(exports, "ScalingRuleProperty", { enumerable: true, get: function () { return ess_generated_1.RosScalingRule; } });
/**
 * This class encapsulates and extends the ROS resource type `ALIYUN::ESS::ScalingRule`, which is used to create a scaling rule.
 * @Note This class may have some new functions to facilitate development, so it is recommended to use this class instead of `RosScalingRule`for a more convenient development experience.
 * See https://www.alibabacloud.com/help/ros/developer-reference/aliyun-ess-scalingrule
 */
class ScalingRule extends ros.Resource {
    /**
     * Param scope - scope in which this resource is defined
     * Param id    - scoped id of the resource
     * Param props - resource properties
     */
    constructor(scope, id, props, enableResourcePropertyConstraint = true) {
        super(scope, id);
        this.scope = scope;
        this.id = id;
        this.props = props;
        this.enableResourcePropertyConstraint = enableResourcePropertyConstraint;
        const rosScalingRule = new ess_generated_1.RosScalingRule(this, id, {
            targetValue: props.targetValue,
            cooldown: props.cooldown,
            scalingGroupId: props.scalingGroupId,
            predictiveValueBehavior: props.predictiveValueBehavior,
            minAdjustmentMagnitude: props.minAdjustmentMagnitude,
            disableScaleIn: props.disableScaleIn,
            stepAdjustment: props.stepAdjustment,
            adjustmentType: props.adjustmentType,
            metricName: props.metricName,
            scalingRuleName: props.scalingRuleName,
            adjustmentValue: props.adjustmentValue,
            scaleOutEvaluationCount: props.scaleOutEvaluationCount,
            initialMaxSize: props.initialMaxSize,
            scalingRuleType: props.scalingRuleType,
            estimatedInstanceWarmup: props.estimatedInstanceWarmup,
            predictiveScalingMode: props.predictiveScalingMode,
            predictiveTaskBufferTime: props.predictiveTaskBufferTime,
            predictiveValueBuffer: props.predictiveValueBuffer,
            scaleInEvaluationCount: props.scaleInEvaluationCount,
        }, enableResourcePropertyConstraint && this.stack.enableResourcePropertyConstraint);
        this.resource = rosScalingRule;
        this.attrScalingRuleAri = rosScalingRule.attrScalingRuleAri;
        this.attrScalingRuleId = rosScalingRule.attrScalingRuleId;
    }
}
exports.ScalingRule = ScalingRule;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2NhbGluZ3J1bGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJzY2FsaW5ncnVsZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSw4Q0FBOEM7QUFDOUMsbURBQWlEO0FBRXRCLG9HQUZsQiw4QkFBYyxPQUV1QjtBQTZJOUM7Ozs7R0FJRztBQUNILE1BQWEsV0FBWSxTQUFRLEdBQUcsQ0FBQyxRQUFRO0lBZ0J6Qzs7OztPQUlHO0lBQ0gsWUFBWSxLQUFvQixFQUFFLEVBQVUsRUFBRSxLQUF1QixFQUFFLG1DQUEyQyxJQUFJO1FBQ2xILEtBQUssQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDakIsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7UUFDbkIsSUFBSSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUM7UUFDYixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUNuQixJQUFJLENBQUMsZ0NBQWdDLEdBQUcsZ0NBQWdDLENBQUM7UUFFekUsTUFBTSxjQUFjLEdBQUcsSUFBSSw4QkFBYyxDQUFDLElBQUksRUFBRSxFQUFFLEVBQUc7WUFDakQsV0FBVyxFQUFFLEtBQUssQ0FBQyxXQUFXO1lBQzlCLFFBQVEsRUFBRSxLQUFLLENBQUMsUUFBUTtZQUN4QixjQUFjLEVBQUUsS0FBSyxDQUFDLGNBQWM7WUFDcEMsdUJBQXVCLEVBQUUsS0FBSyxDQUFDLHVCQUF1QjtZQUN0RCxzQkFBc0IsRUFBRSxLQUFLLENBQUMsc0JBQXNCO1lBQ3BELGNBQWMsRUFBRSxLQUFLLENBQUMsY0FBYztZQUNwQyxjQUFjLEVBQUUsS0FBSyxDQUFDLGNBQWM7WUFDcEMsY0FBYyxFQUFFLEtBQUssQ0FBQyxjQUFjO1lBQ3BDLFVBQVUsRUFBRSxLQUFLLENBQUMsVUFBVTtZQUM1QixlQUFlLEVBQUUsS0FBSyxDQUFDLGVBQWU7WUFDdEMsZUFBZSxFQUFFLEtBQUssQ0FBQyxlQUFlO1lBQ3RDLHVCQUF1QixFQUFFLEtBQUssQ0FBQyx1QkFBdUI7WUFDdEQsY0FBYyxFQUFFLEtBQUssQ0FBQyxjQUFjO1lBQ3BDLGVBQWUsRUFBRSxLQUFLLENBQUMsZUFBZTtZQUN0Qyx1QkFBdUIsRUFBRSxLQUFLLENBQUMsdUJBQXVCO1lBQ3RELHFCQUFxQixFQUFFLEtBQUssQ0FBQyxxQkFBcUI7WUFDbEQsd0JBQXdCLEVBQUUsS0FBSyxDQUFDLHdCQUF3QjtZQUN4RCxxQkFBcUIsRUFBRSxLQUFLLENBQUMscUJBQXFCO1lBQ2xELHNCQUFzQixFQUFFLEtBQUssQ0FBQyxzQkFBc0I7U0FDdkQsRUFBRSxnQ0FBZ0MsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLGdDQUFnQyxDQUFDLENBQUM7UUFDcEYsSUFBSSxDQUFDLFFBQVEsR0FBRyxjQUFjLENBQUM7UUFDL0IsSUFBSSxDQUFDLGtCQUFrQixHQUFHLGNBQWMsQ0FBQyxrQkFBa0IsQ0FBQztRQUM1RCxJQUFJLENBQUMsaUJBQWlCLEdBQUcsY0FBYyxDQUFDLGlCQUFpQixDQUFDO0lBQzlELENBQUM7Q0FDSjtBQXJERCxrQ0FxREMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyByb3MgZnJvbSAnQGFsaWNsb3VkL3Jvcy1jZGstY29yZSc7XG5pbXBvcnQgeyBSb3NTY2FsaW5nUnVsZSB9IGZyb20gJy4vZXNzLmdlbmVyYXRlZCc7XG4vLyBHZW5lcmF0ZWQgZnJvbSB0aGUgQWxpQ2xvdWQgUk9TIFJlc291cmNlIFNwZWNpZmljYXRpb25cbmV4cG9ydCB7IFJvc1NjYWxpbmdSdWxlIGFzIFNjYWxpbmdSdWxlUHJvcGVydHkgfTtcblxuLyoqXG4gKiBQcm9wZXJ0aWVzIGZvciBkZWZpbmluZyBhIGBTY2FsaW5nUnVsZWAuXG4gKiBTZWUgaHR0cHM6Ly93d3cuYWxpYmFiYWNsb3VkLmNvbS9oZWxwL3Jvcy9kZXZlbG9wZXItcmVmZXJlbmNlL2FsaXl1bi1lc3Mtc2NhbGluZ3J1bGVcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTY2FsaW5nUnVsZVByb3BzIHtcblxuICAgIC8qKlxuICAgICAqIFByb3BlcnR5IHNjYWxpbmdHcm91cElkOiBJRCBvZiB0aGUgc2NhbGluZyBncm91cCBvZiBhIHNjYWxpbmcgcnVsZS5cbiAgICAgKi9cbiAgICByZWFkb25seSBzY2FsaW5nR3JvdXBJZDogc3RyaW5nIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogUHJvcGVydHkgYWRqdXN0bWVudFR5cGU6IEFkanVzdG1lbnQgbW9kZSBvZiBhIHNjYWxpbmcgcnVsZS4gT3B0aW9uYWwgdmFsdWVzOlxuICAgICAqIC0gUXVhbnRpdHlDaGFuZ2VJbkNhcGFjaXR5OiBJdCBpcyB1c2VkIHRvIGluY3JlYXNlIG9yIGRlY3JlYXNlIGEgc3BlY2lmaWVkIG51bWJlciBvZiBFQ1MgaW5zdGFuY2VzLlxuICAgICAqIC0gUGVyY2VudENoYW5nZUluQ2FwYWNpdHk6IEl0IGlzIHVzZWQgdG8gaW5jcmVhc2Ugb3IgZGVjcmVhc2UgYSBzcGVjaWZpZWQgcHJvcG9ydGlvbiBvZiBFQ1MgaW5zdGFuY2VzLlxuICAgICAqIC0gVG90YWxDYXBhY2l0eTogSXQgaXMgdXNlZCB0byBhZGp1c3QgdGhlIHF1YW50aXR5IG9mIEVDUyBpbnN0YW5jZXMgaW4gdGhlIGN1cnJlbnQgc2NhbGluZyBncm91cCB0byBhIHNwZWNpZmllZCB2YWx1ZS5cbiAgICAgKi9cbiAgICByZWFkb25seSBhZGp1c3RtZW50VHlwZT86IHN0cmluZyB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIFByb3BlcnR5IGFkanVzdG1lbnRWYWx1ZTogQWRqdXN0ZWQgdmFsdWUgb2YgYSBzY2FsaW5nIHJ1bGUuIFZhbHVlIHJhbmdlOlxuICAgICAqIC0gUXVhbnRpdHlDaGFuZ2VJbkNhcGFjaXR5OiBbLTUwMCwgNTAwXVxuICAgICAqIC0gUGVyY2VudENoYW5nZUluQ2FwYWNpdHk6IFstMTAwLCAxMDAwMF1cbiAgICAgKiAtIFRvdGFsQ2FwYWNpdHk6IFswLCAxMDAwXVxuICAgICAqL1xuICAgIHJlYWRvbmx5IGFkanVzdG1lbnRWYWx1ZT86IG51bWJlciB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIFByb3BlcnR5IGNvb2xkb3duOiBDb29sLWRvd24gdGltZSBvZiBhIHNjYWxpbmcgcnVsZS4gVmFsdWUgcmFuZ2U6IFswLCA4Niw0MDBdLCBpbiBzZWNvbmRzLiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBlbXB0eS5cbiAgICAgKi9cbiAgICByZWFkb25seSBjb29sZG93bj86IG51bWJlciB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIFByb3BlcnR5IGRpc2FibGVTY2FsZUluOiBTcGVjaWZpZXMgd2hldGhlciB0byBkaXNhYmxlIHNjYWxlLWluLiBUaGlzIHBhcmFtZXRlciBpcyBhcHBsaWNhYmxlIG9ubHkgdG8gdGFyZ2V0IHRyYWNraW5nIHNjYWxpbmcgcnVsZXMuXG4gICAgICogIERlZmF1bHQgdmFsdWU6IGZhbHNlXG4gICAgICovXG4gICAgcmVhZG9ubHkgZGlzYWJsZVNjYWxlSW4/OiBib29sZWFuIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogUHJvcGVydHkgZXN0aW1hdGVkSW5zdGFuY2VXYXJtdXA6IFRoZSB3YXJtLXVwIHBlcmlvZCBvZiB0aGUgRUNTIGluc3RhbmNlcy4gVGhpcyBwYXJhbWV0ZXIgaXMgYXBwbGljYWJsZSB0byB0YXJnZXQgdHJhY2tpbmcgc2NhbGluZyBydWxlcyBhbmQgc3RlcCBzY2FsaW5nIHJ1bGVzLiBUaGUgc3lzdGVtIGFkZHMgRUNTIGluc3RhbmNlcyB0aGF0IGFyZSBpbiB0aGUgd2FybS11cCBzdGF0ZSB0byB0aGUgc2NhbGluZyBncm91cCwgYnV0IGRvZXMgbm90IHJlcG9ydCBtb25pdG9yaW5nIGRhdGEgZHVyaW5nIHRoZSB3YXJtLXVwIHBlcmlvZCB0byBDbG91ZE1vbml0b3IuXG4gICAgICogTm90ZTogV2hlbiBjYWxjdWxhdGluZyB0aGUgbnVtYmVyIG9mIEVDUyBpbnN0YW5jZXMgdG8gYmUgYWRqdXN0ZWQsIHRoZSBzeXN0ZW0gZG9lcyBub3QgY291bnQgRUNTIGluc3RhbmNlcyBpbiB0aGUgd2FybS11cCBzdGF0ZSBhcyBwYXJ0IG9mIHRoZSBjdXJyZW50IGNhcGFjaXR5IG9mIHRoZSBzY2FsaW5nIGdyb3VwLlxuICAgICAqIFZhbGlkIHZhbHVlczogMCB0byA4NjQwMC4gVW5pdDogc2Vjb25kcy4gRGVmYXVsdCB2YWx1ZTogMzAwLlxuICAgICAqL1xuICAgIHJlYWRvbmx5IGVzdGltYXRlZEluc3RhbmNlV2FybXVwPzogbnVtYmVyIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogUHJvcGVydHkgaW5pdGlhbE1heFNpemU6IFRoZSBtYXhpbXVtIG51bWJlciBvZiBFQ1MgaW5zdGFuY2VzIGluIHRoZSBzY2FsaW5nIGdyb3VwLCB3aGljaCBpcyB1c2VkIHRvZ2V0aGVyIHdpdGggUHJlZGljdGl2ZVZhbHVlQmVoYXZpb3IuXG4gICAgICogIERlZmF1bHQgdmFsdWU6IHRoZSBzYW1lIGFzIHRoZSB2YWx1ZSBvZiBNYXhTaXplXG4gICAgICovXG4gICAgcmVhZG9ubHkgaW5pdGlhbE1heFNpemU/OiBudW1iZXIgfCByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBQcm9wZXJ0eSBtZXRyaWNOYW1lOiBUaGUgcHJlZGVmaW5lZCBtZXRyaWMgdG8gbW9uaXRvci4gVGhpcyBwYXJhbWV0ZXIgaXMgcmVxdWlyZWQgYW5kIGFwcGxpY2FibGUgb25seSB0byB0YXJnZXQgdHJhY2tpbmcgc2NhbGluZyBydWxlcyBhbmQgcHJlZGljdGl2ZSBzY2FsaW5nIHJ1bGVzLlxuICAgICAqIFZhbGlkIHZhbHVlcyBvZiBhIHRhcmdldCB0cmFja2luZyBzY2FsaW5nIHJ1bGU6XG4gICAgICogLSBDcHVVdGlsaXphdGlvbjogdGhlIGF2ZXJhZ2UgQ1BVIHV0aWxpemF0aW9uLSBDbGFzc2ljSW50ZXJuZXRSeDogdGhlIGF2ZXJhZ2UgcHVibGljIG5ldHdvcmsgaW5ib3VuZCB0cmFmZmljIG92ZXIgdGhlIGNsYXNzaWMgbmV0d29ya1xuICAgICAqIC0gQ2xhc3NpY0ludGVybmV0VHg6IHRoZSBhdmVyYWdlIHB1YmxpYyBuZXR3b3JrIG91dGJvdW5kIHRyYWZmaWMgb3ZlciB0aGUgY2xhc3NpYyBuZXR3b3JrXG4gICAgICogLSBWcGNJbnRlcm5ldFJ4OiB0aGUgYXZlcmFnZSBwdWJsaWMgbmV0d29yayBpbmJvdW5kIHRyYWZmaWMgb3ZlciB0aGUgVlBDXG4gICAgICogLSBWcGNJbnRlcm5ldFR4OiB0aGUgYXZlcmFnZSBwdWJsaWMgbmV0d29yayBvdXRib3VuZCB0cmFmZmljIG92ZXIgdGhlIFZQQ1xuICAgICAqIC0gSW50cmFuZXRSeDogdGhlIGF2ZXJhZ2UgaW50ZXJuYWwgbmV0d29yayBpbmJvdW5kIHRyYWZmaWNcbiAgICAgKiAtIEludHJhbmV0VHg6IHRoZSBhdmVyYWdlIGludGVybmFsIG5ldHdvcmsgb3V0Ym91bmQgdHJhZmZpY1xuICAgICAqIFZhbGlkIHZhbHVlcyBvZiBhIHByZWRpY3RpdmUgc2NhbGluZyBydWxlOlxuICAgICAqIC0gQ3B1VXRpbGl6YXRpb246IHRoZSBhdmVyYWdlIENQVSB1dGlsaXphdGlvblxuICAgICAqIC0gSW50cmFuZXRSeDogdGhlIGF2ZXJhZ2UgaW50ZXJuYWwgbmV0d29yayBpbmJvdW5kIHRyYWZmaWNcbiAgICAgKiAtIEludHJhbmV0VHg6IHRoZSBhdmVyYWdlIGludGVybmFsIG5ldHdvcmsgb3V0Ym91bmQgdHJhZmZpY1xuICAgICAqL1xuICAgIHJlYWRvbmx5IG1ldHJpY05hbWU/OiBzdHJpbmcgfCByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBQcm9wZXJ0eSBtaW5BZGp1c3RtZW50TWFnbml0dWRlOiBUaGUgbWluaW11bSBudW1iZXIgb2YgRUNTIGluc3RhbmNlcyB0byBiZSBhZGp1c3RlZCBpbiBhIHNjYWxpbmcgcnVsZS4gVGhpcyBwYXJhbWV0ZXIgdGFrZXMgZWZmZWN0IG9ubHkgd2hlbiB0aGUgc2NhbGluZyBydWxlIHR5cGUgaXMgU2ltcGxlU2NhbGluZ1J1bGUgb3IgU3RlcFNjYWxpbmdSdWxlIGFuZCBBZGp1c3RtZW50VHlwZSBpcyBQZXJjZW50Q2hhbmdlSW5DYXBhY2l0eS5cbiAgICAgKi9cbiAgICByZWFkb25seSBtaW5BZGp1c3RtZW50TWFnbml0dWRlPzogbnVtYmVyIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogUHJvcGVydHkgcHJlZGljdGl2ZVNjYWxpbmdNb2RlOiBUaGUgbW9kZSBvZiB0aGUgcHJlZGljdGl2ZSBzY2FsaW5nIHJ1bGUuIFZhbGlkIHZhbHVlczpcbiAgICAgKiAtIFByZWRpY3RBbmRTY2FsZTogZ2VuZXJhdGVzIGZvcmVjYXN0cyBhbmQgY3JlYXRlcyBmb3JlY2FzdCB0YXNrcy5cbiAgICAgKiAtIFByZWRpY3RPbmx5OiBnZW5lcmF0ZXMgZm9yZWNhc3RzIGJ1dCBkb2VzIG5vdCBjcmVhdGUgZm9yZWNhc3QgdGFza3MuXG4gICAgICogRGVmYXVsdCB2YWx1ZTogUHJlZGljdEFuZFNjYWxlXG4gICAgICovXG4gICAgcmVhZG9ubHkgcHJlZGljdGl2ZVNjYWxpbmdNb2RlPzogc3RyaW5nIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogUHJvcGVydHkgcHJlZGljdGl2ZVRhc2tCdWZmZXJUaW1lOiBUaGUgYW1vdW50IG9mIGJ1ZmZlciB0aW1lIGFoZWFkIG9mIHRoZSBmb3JlY2FzdCB0YXNrIGV4ZWN1dGlvbiB0aW1lLiBCeSBkZWZhdWx0LCBhbGwgc2NoZWR1bGVkIHRhc2tzIHRoYXQgYXJlIGF1dG9tYXRpY2FsbHkgY3JlYXRlZCBmb3IgYSBwcmVkaWN0aXZlIHNjYWxpbmcgcnVsZSBhcmUgZXhlY3V0ZWQgYXQgdGhlIGJlZ2lubmluZyBvZiBlYWNoIGhvdXIuIFlvdSBjYW4gc2V0IGEgYnVmZmVyIHRpbWUgdG8gZXhlY3V0ZSBmb3JlY2FzdCB0YXNrcyBhaGVhZCBvZiBzY2hlZHVsZSwgc28gdGhhdCByZXNvdXJjZXMgY2FuIGJlIHByZXBhcmVkIGluIGFkdmFuY2UuIFZhbGlkIHZhbHVlczogMCB0byA2MC4gVW5pdDogbWludXRlcy5cbiAgICAgKiAgRGVmYXVsdCB2YWx1ZTogMFxuICAgICAqL1xuICAgIHJlYWRvbmx5IHByZWRpY3RpdmVUYXNrQnVmZmVyVGltZT86IG51bWJlciB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIFByb3BlcnR5IHByZWRpY3RpdmVWYWx1ZUJlaGF2aW9yOiBUaGUgYWN0aW9uIHRha2VuIG9uIHRoZSBwcmVkaWN0ZWQgbWF4aW11bSB2YWx1ZS4gVmFsaWQgdmFsdWVzOlxuICAgICAqIC0gTWF4T3ZlcnJpZGVQcmVkaWN0aXZlVmFsdWU6IHVzZXMgdGhlIGluaXRpYWwgbWF4aW11bSBjYXBhY2l0eSBhcyB0aGUgbWF4aW11bSB2YWx1ZSBmb3IgZm9yZWNhc3QgdGFza3Mgd2hlbiB0aGUgcHJlZGljdGVkIHZhbHVlIGlzIGdyZWF0ZXIgdGhhbiB0aGUgaW5pdGlhbCBtYXhpbXVtIGNhcGFjaXR5LlxuICAgICAqICAtIFByZWRpY3RpdmVWYWx1ZU92ZXJyaWRlTWF4OiB1c2VzIHRoZSBwcmVkaWN0ZWQgdmFsdWUgYXMgdGhlIG1heGltdW0gdmFsdWUgZm9yIGZvcmVjYXN0IHRhc2tzIHdoZW4gdGhlIHByZWRpY3RlZCB2YWx1ZSBpcyBncmVhdGVyIHRoYW4gdGhlIGluaXRpYWwgbWF4aW11bSBjYXBhY2l0eS5cbiAgICAgKiAgLSBQcmVkaWN0aXZlVmFsdWVPdmVycmlkZU1heFdpdGhCdWZmZXI6IGluY3JlYXNlcyB0aGUgcHJlZGljdGVkIHZhbHVlIHdpdGggYSByYXRpbywgd2hpY2ggaXMgc3BlY2lmaWVkIGJ5IFByZWRpY3RpdmVWYWx1ZUJ1ZmZlci4gSWYgdGhlIHZhbHVlIGFmdGVyIHRoZSBpbmNyZWFzZSBpcyBncmVhdGVyIHRoYW4gdGhlIGluaXRpYWwgbWF4aW11bSBjYXBhY2l0eSwgdGhlIHZhbHVlIGFmdGVyIHRoZSBpbmNyZWFzZSBpcyB1c2VkIGFzIHRoZSBtYXhpbXVtIHZhbHVlIGZvciBmb3JlY2FzdCB0YXNrcy5cbiAgICAgKiAgRGVmYXVsdCB2YWx1ZTogTWF4T3ZlcnJpZGVQcmVkaWN0aXZlVmFsdWVcbiAgICAgKi9cbiAgICByZWFkb25seSBwcmVkaWN0aXZlVmFsdWVCZWhhdmlvcj86IHN0cmluZyB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIFByb3BlcnR5IHByZWRpY3RpdmVWYWx1ZUJ1ZmZlcjogVGhlIHJhdGlvIG9mIHRoZSBpbmNyZW1lbnQgdG8gdGhlIHByZWRpY3RlZCB2YWx1ZSB3aGVuIFByZWRpY3RpdmVWYWx1ZUJlaGF2aW9yIGlzIHNldCB0byBQcmVkaWN0aXZlVmFsdWVPdmVycmlkZU1heFdpdGhCdWZmZXIuIFdoZW4gdGhlIHZhbHVlIGFmdGVyIHRoZSBpbmNyZWFzZSBpcyBncmVhdGVyIHRoYW4gdGhlIGluaXRpYWwgbWF4aW11bSBjYXBhY2l0eSwgdGhlIHZhbHVlIGFmdGVyIHRoZSBpbmNyZWFzZSBpcyB1c2VkIGZvciBmb3JlY2FzdCB0YXNrcy4gVmFsaWQgdmFsdWVzOiAwIHRvIDEwMFxuICAgICAqICBEZWZhdWx0IHZhbHVlOiAwXG4gICAgICovXG4gICAgcmVhZG9ubHkgcHJlZGljdGl2ZVZhbHVlQnVmZmVyPzogbnVtYmVyIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogUHJvcGVydHkgc2NhbGVJbkV2YWx1YXRpb25Db3VudDogVGhlIG51bWJlciBvZiBjb25zZWN1dGl2ZSB0aW1lcyB0aGF0IHRoZSBldmVudC10cmlnZ2VyZWQgdGFzayBjcmVhdGVkIGZvciBzY2FsZS1pbiBhY3Rpdml0aWVzIG1lZXRzIHRoZSB0aHJlc2hvbGQgY29uZGl0aW9ucyBiZWZvcmUgYW4gYWxlcnQgaXMgdHJpZ2dlcmVkLiBBZnRlciBhIHRhcmdldCB0cmFja2luZyBzY2FsaW5nIHJ1bGUgaXMgY3JlYXRlZCwgYW4gZXZlbnQtdHJpZ2dlcmVkIHRhc2sgaXMgYXV0b21hdGljYWxseSBjcmVhdGVkIGFuZCB0aGVuIGFzc29jaWF0ZWQgd2l0aCB0aGUgdGFyZ2V0IHRyYWNraW5nIHNjYWxpbmcgcnVsZS5cbiAgICAgKiBEZWZhdWx0IHZhbHVlOiAxNS5cbiAgICAgKi9cbiAgICByZWFkb25seSBzY2FsZUluRXZhbHVhdGlvbkNvdW50PzogbnVtYmVyIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogUHJvcGVydHkgc2NhbGVPdXRFdmFsdWF0aW9uQ291bnQ6IFRoZSBudW1iZXIgb2YgY29uc2VjdXRpdmUgdGltZXMgdGhhdCB0aGUgZXZlbnQtdHJpZ2dlcmVkIHRhc2sgY3JlYXRlZCBmb3Igc2NhbGUtb3V0IGFjdGl2aXRpZXMgbWVldHMgdGhlIHRocmVzaG9sZCBjb25kaXRpb25zIGJlZm9yZSBhbiBhbGVydCBpcyB0cmlnZ2VyZWQuIEFmdGVyIGEgdGFyZ2V0IHRyYWNraW5nIHNjYWxpbmcgcnVsZSBpcyBjcmVhdGVkLCBhbiBldmVudC10cmlnZ2VyZWQgdGFzayBpcyBhdXRvbWF0aWNhbGx5IGNyZWF0ZWQgYW5kIHRoZW4gYXNzb2NpYXRlZCB3aXRoIHRoZSB0YXJnZXQgdHJhY2tpbmcgc2NhbGluZyBydWxlLlxuICAgICAqIERlZmF1bHQgdmFsdWU6IDMuXG4gICAgICovXG4gICAgcmVhZG9ubHkgc2NhbGVPdXRFdmFsdWF0aW9uQ291bnQ/OiBudW1iZXIgfCByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBQcm9wZXJ0eSBzY2FsaW5nUnVsZU5hbWU6IE5hbWUgc2hvd24gZm9yIHRoZSBzY2FsaW5nIGdyb3VwLCB3aGljaCBpcyBhIHN0cmluZyBjb250YWluaW5nIDIgdG8gNDAgRW5nbGlzaCBvciBDaGluZXNlIGNoYXJhY3RlcnMuIEl0IG11c3QgYmVnaW4gd2l0aCBhIG51bWJlciwgYSBsZXR0ZXIgKGNhc2UtaW5zZW5zaXRpdmUpIG9yIGEgQ2hpbmVzZSBjaGFyYWN0ZXIgYW5kIGNhbiBjb250YWluIG51bWJlcnMsIFwiX1wiLCBcIi1cIiBvciBcIi5cIi4gVGhlIGFjY291bnQgbmFtZSBpbiB0aGUgc2FtZSBzY2FsaW5nIGdyb3VwIGlzIHVuaXF1ZSBpbiB0aGUgc2FtZSByZWdpb24uIElmIHRoaXMgcGFyYW1ldGVyIHZhbHVlIGlzIG5vdCBzcGVjaWZpZWQsIHRoZSBkZWZhdWx0IHZhbHVlIGlzIFNjYWxpbmdSdWxlSWQuXG4gICAgICovXG4gICAgcmVhZG9ubHkgc2NhbGluZ1J1bGVOYW1lPzogc3RyaW5nIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogUHJvcGVydHkgc2NhbGluZ1J1bGVUeXBlOiBUaGUgdHlwZSBvZiB0aGUgc2NhbGluZyBydWxlLiBWYWxpZCB2YWx1ZXM6XG4gICAgICogLSBTaW1wbGVTY2FsaW5nUnVsZTogc2NhbGVzIEVDUyBpbnN0YW5jZXMgYmFzZWQgb24gdGhlIHZhbHVlcyBvZiBBZGp1c3RtZW50VHlwZSBhbmQgQWRqdXN0bWVudFZhbHVlLlxuICAgICAqIC0gVGFyZ2V0VHJhY2tpbmdTY2FsaW5nUnVsZTogZHluYW1pY2FsbHkgY2FsY3VsYXRlcyB0aGUgbnVtYmVyIG9mIEVDUyBpbnN0YW5jZXMgdG8gYmUgYWRqdXN0ZWQgYW5kIHRyaWVzIHRvIGtlZXAgdGhlIHZhbHVlIG9mIGEgcHJlZGVmaW5lZCBtb25pdG9yaW5nIG1ldHJpYyBjbG9zZSB0byBUYXJnZXRWYWx1ZS5cbiAgICAgKiAtIFN0ZXBTY2FsaW5nUnVsZTogc2NhbGVzIEVDUyBpbnN0YW5jZXMgaW4gc3RlcHMgYmFzZWQgb24gc3BlY2lmaWVkIHRocmVzaG9sZHMgYW5kIG1ldHJpYyB2YWx1ZXMuXG4gICAgICogLSBQcmVkaWN0aXZlU2NhbGluZ1J1bGU6IHVzZXMgbWFjaGluZSBsZWFybmluZyB0byBhbmFseXplIGhpc3RvcmljYWwgbW9uaXRvcmluZyBkYXRhIG9mIHRoZSBzY2FsaW5nIGdyb3VwIGFuZCB0aGVuIHByZWRpY3RzIHRoZSBmdXR1cmUgdmFsdWVzIG9mIG1vbml0b3JlZCBtZXRyaWNzLCB0aGUgcnVsZSB0aGVuIGF1dG9tYXRpY2FsbHkgY3JlYXRlcyBzY2hlZHVsZWQgdGFza3MgdG8gc2V0IHRoZSBib3VuZGFyeSB2YWx1ZXMgZm9yIHRoZSBzY2FsaW5nIGdyb3VwLlxuICAgICAqICBJZiB0aGlzIHBhcmFtZXRlciB2YWx1ZSBpcyBub3Qgc3BlY2lmaWVkLCB0aGUgZGVmYXVsdCB2YWx1ZSBpcyBTaW1wbGVTY2FsaW5nUnVsZS5cbiAgICAgKi9cbiAgICByZWFkb25seSBzY2FsaW5nUnVsZVR5cGU/OiBzdHJpbmcgfCByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBQcm9wZXJ0eSBzdGVwQWRqdXN0bWVudDpcbiAgICAgKi9cbiAgICByZWFkb25seSBzdGVwQWRqdXN0bWVudD86IEFycmF5PFJvc1NjYWxpbmdSdWxlLlN0ZXBBZGp1c3RtZW50UHJvcGVydHkgfCByb3MuSVJlc29sdmFibGU+IHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogUHJvcGVydHkgdGFyZ2V0VmFsdWU6IFRoZSB0YXJnZXQgdmFsdWUgb2YgYSBtZXRyaWMuIFRoaXMgcGFyYW1ldGVyIGlzIHJlcXVpcmVkIGFuZCBhcHBsaWNhYmxlIG9ubHkgdG8gdGFyZ2V0IHRyYWNraW5nIHNjYWxpbmcgcnVsZXMgYW5kIHByZWRpY3RpdmUgc2NhbGluZyBydWxlcy4gVGhlIHZhbHVlIG9mIFRhcmdldFZhbHVlIG11c3QgYmUgZ3JlYXRlciB0aGFuIDAgYW5kIGNhbiBoYXZlIGEgbWF4aW11bSBvZiB0aHJlZSBkZWNpbWFsIHBsYWNlcy5cbiAgICAgKi9cbiAgICByZWFkb25seSB0YXJnZXRWYWx1ZT86IG51bWJlciB8IHJvcy5JUmVzb2x2YWJsZTtcbn1cblxuLyoqXG4gKiBUaGlzIGNsYXNzIGVuY2Fwc3VsYXRlcyBhbmQgZXh0ZW5kcyB0aGUgUk9TIHJlc291cmNlIHR5cGUgYEFMSVlVTjo6RVNTOjpTY2FsaW5nUnVsZWAsIHdoaWNoIGlzIHVzZWQgdG8gY3JlYXRlIGEgc2NhbGluZyBydWxlLlxuICogQE5vdGUgVGhpcyBjbGFzcyBtYXkgaGF2ZSBzb21lIG5ldyBmdW5jdGlvbnMgdG8gZmFjaWxpdGF0ZSBkZXZlbG9wbWVudCwgc28gaXQgaXMgcmVjb21tZW5kZWQgdG8gdXNlIHRoaXMgY2xhc3MgaW5zdGVhZCBvZiBgUm9zU2NhbGluZ1J1bGVgZm9yIGEgbW9yZSBjb252ZW5pZW50IGRldmVsb3BtZW50IGV4cGVyaWVuY2UuXG4gKiBTZWUgaHR0cHM6Ly93d3cuYWxpYmFiYWNsb3VkLmNvbS9oZWxwL3Jvcy9kZXZlbG9wZXItcmVmZXJlbmNlL2FsaXl1bi1lc3Mtc2NhbGluZ3J1bGVcbiAqL1xuZXhwb3J0IGNsYXNzIFNjYWxpbmdSdWxlIGV4dGVuZHMgcm9zLlJlc291cmNlIHtcbiAgICBwcm90ZWN0ZWQgc2NvcGU6IHJvcy5Db25zdHJ1Y3Q7XG4gICAgcHJvdGVjdGVkIGlkOiBzdHJpbmc7XG4gICAgcHJvdGVjdGVkIHByb3BzOiBTY2FsaW5nUnVsZVByb3BzO1xuICAgIHByb3RlY3RlZCBlbmFibGVSZXNvdXJjZVByb3BlcnR5Q29uc3RyYWludDogYm9vbGVhbjtcblxuICAgIC8qKlxuICAgICAqIEF0dHJpYnV0ZSBTY2FsaW5nUnVsZUFyaTogVW5pcXVlIGlkZW50aWZpZXIgb2YgYSBzY2FsaW5nIHJ1bGUuXG4gICAgICovXG4gICAgcHVibGljIHJlYWRvbmx5IGF0dHJTY2FsaW5nUnVsZUFyaTogcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogQXR0cmlidXRlIFNjYWxpbmdSdWxlSWQ6IElEIG9mIGEgc2NhbGluZyBydWxlLCBnZW5lcmF0ZWQgYnkgdGhlIHN5c3RlbSBhbmQgZ2xvYmFsbHkgdW5pcXVlLlxuICAgICAqL1xuICAgIHB1YmxpYyByZWFkb25seSBhdHRyU2NhbGluZ1J1bGVJZDogcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogUGFyYW0gc2NvcGUgLSBzY29wZSBpbiB3aGljaCB0aGlzIHJlc291cmNlIGlzIGRlZmluZWRcbiAgICAgKiBQYXJhbSBpZCAgICAtIHNjb3BlZCBpZCBvZiB0aGUgcmVzb3VyY2VcbiAgICAgKiBQYXJhbSBwcm9wcyAtIHJlc291cmNlIHByb3BlcnRpZXNcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihzY29wZTogcm9zLkNvbnN0cnVjdCwgaWQ6IHN0cmluZywgcHJvcHM6IFNjYWxpbmdSdWxlUHJvcHMsIGVuYWJsZVJlc291cmNlUHJvcGVydHlDb25zdHJhaW50OmJvb2xlYW4gPSB0cnVlKSB7XG4gICAgICAgIHN1cGVyKHNjb3BlLCBpZCk7XG4gICAgICAgIHRoaXMuc2NvcGUgPSBzY29wZTtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLnByb3BzID0gcHJvcHM7XG4gICAgICAgIHRoaXMuZW5hYmxlUmVzb3VyY2VQcm9wZXJ0eUNvbnN0cmFpbnQgPSBlbmFibGVSZXNvdXJjZVByb3BlcnR5Q29uc3RyYWludDtcblxuICAgICAgICBjb25zdCByb3NTY2FsaW5nUnVsZSA9IG5ldyBSb3NTY2FsaW5nUnVsZSh0aGlzLCBpZCwgIHtcbiAgICAgICAgICAgIHRhcmdldFZhbHVlOiBwcm9wcy50YXJnZXRWYWx1ZSxcbiAgICAgICAgICAgIGNvb2xkb3duOiBwcm9wcy5jb29sZG93bixcbiAgICAgICAgICAgIHNjYWxpbmdHcm91cElkOiBwcm9wcy5zY2FsaW5nR3JvdXBJZCxcbiAgICAgICAgICAgIHByZWRpY3RpdmVWYWx1ZUJlaGF2aW9yOiBwcm9wcy5wcmVkaWN0aXZlVmFsdWVCZWhhdmlvcixcbiAgICAgICAgICAgIG1pbkFkanVzdG1lbnRNYWduaXR1ZGU6IHByb3BzLm1pbkFkanVzdG1lbnRNYWduaXR1ZGUsXG4gICAgICAgICAgICBkaXNhYmxlU2NhbGVJbjogcHJvcHMuZGlzYWJsZVNjYWxlSW4sXG4gICAgICAgICAgICBzdGVwQWRqdXN0bWVudDogcHJvcHMuc3RlcEFkanVzdG1lbnQsXG4gICAgICAgICAgICBhZGp1c3RtZW50VHlwZTogcHJvcHMuYWRqdXN0bWVudFR5cGUsXG4gICAgICAgICAgICBtZXRyaWNOYW1lOiBwcm9wcy5tZXRyaWNOYW1lLFxuICAgICAgICAgICAgc2NhbGluZ1J1bGVOYW1lOiBwcm9wcy5zY2FsaW5nUnVsZU5hbWUsXG4gICAgICAgICAgICBhZGp1c3RtZW50VmFsdWU6IHByb3BzLmFkanVzdG1lbnRWYWx1ZSxcbiAgICAgICAgICAgIHNjYWxlT3V0RXZhbHVhdGlvbkNvdW50OiBwcm9wcy5zY2FsZU91dEV2YWx1YXRpb25Db3VudCxcbiAgICAgICAgICAgIGluaXRpYWxNYXhTaXplOiBwcm9wcy5pbml0aWFsTWF4U2l6ZSxcbiAgICAgICAgICAgIHNjYWxpbmdSdWxlVHlwZTogcHJvcHMuc2NhbGluZ1J1bGVUeXBlLFxuICAgICAgICAgICAgZXN0aW1hdGVkSW5zdGFuY2VXYXJtdXA6IHByb3BzLmVzdGltYXRlZEluc3RhbmNlV2FybXVwLFxuICAgICAgICAgICAgcHJlZGljdGl2ZVNjYWxpbmdNb2RlOiBwcm9wcy5wcmVkaWN0aXZlU2NhbGluZ01vZGUsXG4gICAgICAgICAgICBwcmVkaWN0aXZlVGFza0J1ZmZlclRpbWU6IHByb3BzLnByZWRpY3RpdmVUYXNrQnVmZmVyVGltZSxcbiAgICAgICAgICAgIHByZWRpY3RpdmVWYWx1ZUJ1ZmZlcjogcHJvcHMucHJlZGljdGl2ZVZhbHVlQnVmZmVyLFxuICAgICAgICAgICAgc2NhbGVJbkV2YWx1YXRpb25Db3VudDogcHJvcHMuc2NhbGVJbkV2YWx1YXRpb25Db3VudCxcbiAgICAgICAgfSwgZW5hYmxlUmVzb3VyY2VQcm9wZXJ0eUNvbnN0cmFpbnQgJiYgdGhpcy5zdGFjay5lbmFibGVSZXNvdXJjZVByb3BlcnR5Q29uc3RyYWludCk7XG4gICAgICAgIHRoaXMucmVzb3VyY2UgPSByb3NTY2FsaW5nUnVsZTtcbiAgICAgICAgdGhpcy5hdHRyU2NhbGluZ1J1bGVBcmkgPSByb3NTY2FsaW5nUnVsZS5hdHRyU2NhbGluZ1J1bGVBcmk7XG4gICAgICAgIHRoaXMuYXR0clNjYWxpbmdSdWxlSWQgPSByb3NTY2FsaW5nUnVsZS5hdHRyU2NhbGluZ1J1bGVJZDtcbiAgICB9XG59XG4iXX0=