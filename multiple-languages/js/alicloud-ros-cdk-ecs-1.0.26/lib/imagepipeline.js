"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ImagePipeline = exports.ImagePipelineProperty = void 0;
const ros = require("@alicloud/ros-cdk-core");
const ecs_generated_1 = require("./ecs.generated");
Object.defineProperty(exports, "ImagePipelineProperty", { enumerable: true, get: function () { return ecs_generated_1.RosImagePipeline; } });
/**
 * This class encapsulates and extends the ROS resource type `ALIYUN::ECS::ImagePipeline`, which is used to create an image template.
 * @Note This class may have some new functions to facilitate development, so it is recommended to use this class instead of `RosImagePipeline`for a more convenient development experience.
 * See https://www.alibabacloud.com/help/ros/developer-reference/aliyun-ecs-imagepipeline
 */
class ImagePipeline extends ros.Resource {
    /**
     * Param scope - scope in which this resource is defined
     * Param id    - scoped id of the resource
     * Param props - resource properties
     */
    constructor(scope, id, props, enableResourcePropertyConstraint = true) {
        super(scope, id);
        this.scope = scope;
        this.id = id;
        this.props = props;
        this.enableResourcePropertyConstraint = enableResourcePropertyConstraint;
        const rosImagePipeline = new ecs_generated_1.RosImagePipeline(this, id, {
            baseImageType: props.baseImageType,
            description: props.description,
            resourceGroupId: props.resourceGroupId,
            systemDiskSize: props.systemDiskSize,
            vSwitchId: props.vSwitchId,
            addAccount: props.addAccount,
            name: props.name,
            executePipeline: props.executePipeline === undefined || props.executePipeline === null ? true : props.executePipeline,
            deleteInstanceOnFailure: props.deleteInstanceOnFailure,
            imageName: props.imageName,
            toRegionId: props.toRegionId,
            internetMaxBandwidthOut: props.internetMaxBandwidthOut,
            instanceType: props.instanceType,
            tags: props.tags,
            buildContent: props.buildContent,
            baseImage: props.baseImage,
        }, enableResourcePropertyConstraint && this.stack.enableResourcePropertyConstraint);
        this.resource = rosImagePipeline;
        this.attrImagePipelineId = rosImagePipeline.attrImagePipelineId;
    }
}
exports.ImagePipeline = ImagePipeline;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW1hZ2VwaXBlbGluZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImltYWdlcGlwZWxpbmUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsOENBQThDO0FBQzlDLG1EQUFtRDtBQUV0QixzR0FGcEIsZ0NBQWdCLE9BRXlCO0FBd0dsRDs7OztHQUlHO0FBQ0gsTUFBYSxhQUFjLFNBQVEsR0FBRyxDQUFDLFFBQVE7SUFXM0M7Ozs7T0FJRztJQUNILFlBQVksS0FBb0IsRUFBRSxFQUFVLEVBQUUsS0FBeUIsRUFBRSxtQ0FBMkMsSUFBSTtRQUNwSCxLQUFLLENBQUMsS0FBSyxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBQ2pCLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBQ25CLElBQUksQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDO1FBQ2IsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7UUFDbkIsSUFBSSxDQUFDLGdDQUFnQyxHQUFHLGdDQUFnQyxDQUFDO1FBRXpFLE1BQU0sZ0JBQWdCLEdBQUcsSUFBSSxnQ0FBZ0IsQ0FBQyxJQUFJLEVBQUUsRUFBRSxFQUFHO1lBQ3JELGFBQWEsRUFBRSxLQUFLLENBQUMsYUFBYTtZQUNsQyxXQUFXLEVBQUUsS0FBSyxDQUFDLFdBQVc7WUFDOUIsZUFBZSxFQUFFLEtBQUssQ0FBQyxlQUFlO1lBQ3RDLGNBQWMsRUFBRSxLQUFLLENBQUMsY0FBYztZQUNwQyxTQUFTLEVBQUUsS0FBSyxDQUFDLFNBQVM7WUFDMUIsVUFBVSxFQUFFLEtBQUssQ0FBQyxVQUFVO1lBQzVCLElBQUksRUFBRSxLQUFLLENBQUMsSUFBSTtZQUNoQixlQUFlLEVBQUUsS0FBSyxDQUFDLGVBQWUsS0FBSyxTQUFTLElBQUksS0FBSyxDQUFDLGVBQWUsS0FBSyxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLGVBQWU7WUFDckgsdUJBQXVCLEVBQUUsS0FBSyxDQUFDLHVCQUF1QjtZQUN0RCxTQUFTLEVBQUUsS0FBSyxDQUFDLFNBQVM7WUFDMUIsVUFBVSxFQUFFLEtBQUssQ0FBQyxVQUFVO1lBQzVCLHVCQUF1QixFQUFFLEtBQUssQ0FBQyx1QkFBdUI7WUFDdEQsWUFBWSxFQUFFLEtBQUssQ0FBQyxZQUFZO1lBQ2hDLElBQUksRUFBRSxLQUFLLENBQUMsSUFBSTtZQUNoQixZQUFZLEVBQUUsS0FBSyxDQUFDLFlBQVk7WUFDaEMsU0FBUyxFQUFFLEtBQUssQ0FBQyxTQUFTO1NBQzdCLEVBQUUsZ0NBQWdDLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxnQ0FBZ0MsQ0FBQyxDQUFDO1FBQ3BGLElBQUksQ0FBQyxRQUFRLEdBQUcsZ0JBQWdCLENBQUM7UUFDakMsSUFBSSxDQUFDLG1CQUFtQixHQUFHLGdCQUFnQixDQUFDLG1CQUFtQixDQUFDO0lBQ3BFLENBQUM7Q0FDSjtBQTVDRCxzQ0E0Q0MiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyByb3MgZnJvbSAnQGFsaWNsb3VkL3Jvcy1jZGstY29yZSc7XG5pbXBvcnQgeyBSb3NJbWFnZVBpcGVsaW5lIH0gZnJvbSAnLi9lY3MuZ2VuZXJhdGVkJztcbi8vIEdlbmVyYXRlZCBmcm9tIHRoZSBBbGlDbG91ZCBST1MgUmVzb3VyY2UgU3BlY2lmaWNhdGlvblxuZXhwb3J0IHsgUm9zSW1hZ2VQaXBlbGluZSBhcyBJbWFnZVBpcGVsaW5lUHJvcGVydHkgfTtcblxuLyoqXG4gKiBQcm9wZXJ0aWVzIGZvciBkZWZpbmluZyBhIGBJbWFnZVBpcGVsaW5lYC5cbiAqIFNlZSBodHRwczovL3d3dy5hbGliYWJhY2xvdWQuY29tL2hlbHAvcm9zL2RldmVsb3Blci1yZWZlcmVuY2UvYWxpeXVuLWVjcy1pbWFnZXBpcGVsaW5lXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSW1hZ2VQaXBlbGluZVByb3BzIHtcblxuICAgIC8qKlxuICAgICAqIFByb3BlcnR5IGJhc2VJbWFnZTogVGhlIHNvdXJjZSBpbWFnZS5cbiAgICAgKiBJZiB5b3Ugc2V0IEJhc2VJbWFnZVR5cGUgdG8gSU1BR0UsIHNldCB0aGUgQmFzZUltYWdlIHBhcmFtZXRlciB0byB0aGUgSUQgb2YgYSBjdXN0b20gaW1hZ2UuXG4gICAgICogSWYgeW91IHNldCBCYXNlSW1hZ2VUeXBlIHRvIElNQUdFX0ZBTUlMWSwgc2V0IHRoZSBCYXNlSW1hZ2UgcGFyYW1ldGVyIHRvIHRoZSBuYW1lIG9mIGFuIGltYWdlIGZhbWlseS5cbiAgICAgKi9cbiAgICByZWFkb25seSBiYXNlSW1hZ2U6IHN0cmluZyB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIFByb3BlcnR5IGJhc2VJbWFnZVR5cGU6IFRoZSB0eXBlIG9mIHRoZSBzb3VyY2UgaW1hZ2UuIFZhbGlkIHZhbHVlczpcbiAgICAgKiBJTUFHRTogaW1hZ2VcbiAgICAgKiBJTUFHRV9GQU1JTFk6IGltYWdlIGZhbWlseVxuICAgICAqL1xuICAgIHJlYWRvbmx5IGJhc2VJbWFnZVR5cGU6IHN0cmluZyB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIFByb3BlcnR5IGFkZEFjY291bnQ6IFRoZSBJRHMgb2YgQWxpYmFiYSBDbG91ZCBhY2NvdW50cyB0byB3aGljaCB0byBzaGFyZSB0aGUgaW1hZ2UgdGhhdCB3aWxsIGJlIGNyZWF0ZWQgYmFzZWQgb24gdGhlIGltYWdlIHRlbXBsYXRlLiBZb3UgY2FuIHNwZWNpZnkgdXAgdG8gMjAgYWNjb3VudCBJRHMuXG4gICAgICovXG4gICAgcmVhZG9ubHkgYWRkQWNjb3VudD86IEFycmF5PHN0cmluZyB8IHJvcy5JUmVzb2x2YWJsZT4gfCByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBQcm9wZXJ0eSBidWlsZENvbnRlbnQ6IFRoZSBjb250ZW50IG9mIHRoZSBpbWFnZSB0ZW1wbGF0ZS4gVGhlIGNvbnRlbnQgY2Fubm90IGV4Y2VlZCAxNiBLQiBpbiBzaXplIGFuZCBjYW4gY29udGFpbiB1cCB0byAxMjcgY29tbWFuZHMuIEZvciBtb3JlIGluZm9ybWF0aW9uIGFib3V0IHRoZSBjb21tYW5kcyB0aGF0IGFyZSBzdXBwb3J0ZWQsIHNlZSB0aGUgXCJVc2FnZSBub3Rlc1wiIHNlY3Rpb24gb2YgdGhpcyB0b3BpYy5cbiAgICAgKi9cbiAgICByZWFkb25seSBidWlsZENvbnRlbnQ/OiBzdHJpbmcgfCByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBQcm9wZXJ0eSBkZWxldGVJbnN0YW5jZU9uRmFpbHVyZTogU3BlY2lmaWVzIHdoZXRoZXIgdG8gcmVsZWFzZSB0aGUgaW50ZXJtZWRpYXRlIGluc3RhbmNlIHdoZW4gdGhlIGltYWdlIGNhbm5vdCBiZSBjcmVhdGVkLiBWYWxpZCB2YWx1ZXM6XG4gICAgICogdHJ1ZVxuICAgICAqIGZhbHNlXG4gICAgICogRGVmYXVsdCB2YWx1ZTogdHJ1ZS5cbiAgICAgKiBOb3RlIElmIHRoZSBpbnRlcm1lZGlhdGUgaW5zdGFuY2UgY2Fubm90IGJlIHN0YXJ0ZWQsIHRoZSBpbnN0YW5jZSBpcyByZWxlYXNlZCBieSBkZWZhdWx0LlxuICAgICAqL1xuICAgIHJlYWRvbmx5IGRlbGV0ZUluc3RhbmNlT25GYWlsdXJlPzogYm9vbGVhbiB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIFByb3BlcnR5IGRlc2NyaXB0aW9uOiBUaGUgZGVzY3JpcHRpb24gb2YgdGhlIGltYWdlIHRlbXBsYXRlLiBUaGUgZGVzY3JpcHRpb24gbXVzdCBiZSAyIHRvIDI1NiBjaGFyYWN0ZXJzIGluIGxlbmd0aC4gSXQgY2Fubm90IHN0YXJ0IHdpdGggaHR0cDpcXC9cXC8gb3IgaHR0cHM6XFwvXFwvLlxuICAgICAqL1xuICAgIHJlYWRvbmx5IGRlc2NyaXB0aW9uPzogc3RyaW5nIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogUHJvcGVydHkgZXhlY3V0ZVBpcGVsaW5lOiBXaGV0aGVyIGV4ZWN1dGUgcGlwZWxpbmUuIERlZmF1bHQgdmFsdWUgaXMgdHJ1ZVxuICAgICAqL1xuICAgIHJlYWRvbmx5IGV4ZWN1dGVQaXBlbGluZT86IGJvb2xlYW4gfCByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBQcm9wZXJ0eSBpbWFnZU5hbWU6IFRoZSBwcmVmaXggb2YgdGhlIGltYWdlIG5hbWUuIFRoZSBwcmVmaXggbXVzdCBiZSAyIHRvIDY0IGNoYXJhY3RlcnMgaW4gbGVuZ3RoLiBJdCBtdXN0IHN0YXJ0IHdpdGggYSBsZXR0ZXIgYW5kIGNhbm5vdCBzdGFydCB3aXRoIGh0dHA6XFwvXFwvIG9yIGh0dHBzOlxcL1xcLy4gSXQgY2FuIGNvbnRhaW4gbGV0dGVycywgZGlnaXRzLCBjb2xvbnMgKDopLCB1bmRlcnNjb3JlcyAoXyksIHBlcmlvZHMgKC4pLCBhbmQgaHlwaGVucyAoLSkuXG4gICAgICogVGhlIHN5c3RlbSBnZW5lcmF0ZXMgdGhlIGZpbmFsIGNvbXBsZXRlIGltYWdlIG5hbWUgdGhhdCBjb25zaXN0cyBvZiB0aGUgc3BlY2lmaWVkIHByZWZpeCBhbmQgdGhlIElEIG9mIHRoZSBidWlsZCB0YXNrIChFeGVjdXRpb25JZCkgaW4gdGhlIGZvcm1hdCBvZiB7SW1hZ2VOYW1lfV97RXhlY3V0aW9uSWR9LlxuICAgICAqL1xuICAgIHJlYWRvbmx5IGltYWdlTmFtZT86IHN0cmluZyB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIFByb3BlcnR5IGluc3RhbmNlVHlwZTogVGhlIGluc3RhbmNlIHR5cGUuIFlvdSBjYW4gY2FsbCB0aGUgIERlc2NyaWJlSW5zdGFuY2VUeXBlcyAgdG8gcXVlcnkgaW5zdGFuY2UgdHlwZXMuXG4gICAgICogSWYgeW91IGRvIG5vdCBjb25maWd1cmUgdGhpcyBwYXJhbWV0ZXIsIGFuIGluc3RhbmNlIHR5cGUgdGhhdCBwcm92aWRlcyB0aGUgZmV3ZXN0IHZDUFVzIGFuZCBtZW1vcnkgcmVzb3VyY2VzIGlzIGF1dG9tYXRpY2FsbHkgc2VsZWN0ZWQuIFRoaXMgY29uZmlndXJhdGlvbiBpcyBzdWJqZWN0IHRvIHJlc291cmNlIGF2YWlsYWJpbGl0eSBvZiBpbnN0YW5jZSB0eXBlcy4gRm9yIGV4YW1wbGUsIHRoZSBlY3MuZzYubGFyZ2UgaW5zdGFuY2UgdHlwZSBpcyBhdXRvbWF0aWNhbGx5IHNlbGVjdGVkLiBJZiBhdmFpbGFibGUgZWNzLmc2LmxhcmdlIHJlc291cmNlcyBhcmUgaW5zdWZmaWNpZW50LCB0aGUgZWNzLmc2LnhsYXJnZSBpbnN0YW5jZSB0eXBlIGlzIHNlbGVjdGVkLlxuICAgICAqL1xuICAgIHJlYWRvbmx5IGluc3RhbmNlVHlwZT86IHN0cmluZyB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIFByb3BlcnR5IGludGVybmV0TWF4QmFuZHdpZHRoT3V0OiBUaGUgc2l6ZSBvZiB0aGUgb3V0Ym91bmQgcHVibGljIGJhbmR3aWR0aCBmb3IgdGhlIGludGVybWVkaWF0ZSBpbnN0YW5jZS4gVW5pdDogTWJpdFxcL3MuIFZhbGlkIHZhbHVlczogMCB0byAxMDAuXG4gICAgICogRGVmYXVsdCB2YWx1ZTogMC5cbiAgICAgKi9cbiAgICByZWFkb25seSBpbnRlcm5ldE1heEJhbmR3aWR0aE91dD86IG51bWJlciB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIFByb3BlcnR5IG5hbWU6IFRoZSBuYW1lIG9mIHRoZSBpbWFnZSB0ZW1wbGF0ZS4gVGhlIG5hbWUgbXVzdCBiZSAyIHRvIDEyOCBjaGFyYWN0ZXJzIGluIGxlbmd0aC4gSXQgbXVzdCBzdGFydCB3aXRoIGEgbGV0dGVyIGFuZCBjYW5ub3Qgc3RhcnQgd2l0aCBodHRwOlxcL1xcLyBvciBodHRwczpcXC9cXC8uIEl0IGNhbiBjb250YWluIGxldHRlcnMsIGRpZ2l0cywgY29sb25zICg6KSwgdW5kZXJzY29yZXMgKF8pLCBwZXJpb2RzICguKSwgYW5kIGh5cGhlbnMgKC0pLlxuICAgICAqIE5vdGUgSWYgeW91IGRvIG5vdCBzcGVjaWZ5IHRoZSBOYW1lIHBhcmFtZXRlciwgdGhlIHJldHVybiB2YWx1ZSBvZiBJbWFnZVBpcGVsaW5lSWQgaXMgdXNlZC5cbiAgICAgKi9cbiAgICByZWFkb25seSBuYW1lPzogc3RyaW5nIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogUHJvcGVydHkgcmVzb3VyY2VHcm91cElkOiBUaGUgSUQgb2YgdGhlIHJlc291cmNlIGdyb3VwLlxuICAgICAqL1xuICAgIHJlYWRvbmx5IHJlc291cmNlR3JvdXBJZD86IHN0cmluZyB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIFByb3BlcnR5IHN5c3RlbURpc2tTaXplOiBUaGUgc3lzdGVtIGRpc2sgc2l6ZSBvZiB0aGUgaW50ZXJtZWRpYXRlIGluc3RhbmNlLiBVbml0OiBHaUIuIFZhbGlkIHZhbHVlczogMjAgdG8gNTAwLlxuICAgICAqIERlZmF1bHQgdmFsdWU6IDQwLlxuICAgICAqL1xuICAgIHJlYWRvbmx5IHN5c3RlbURpc2tTaXplPzogbnVtYmVyIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogUHJvcGVydHkgdGFnczpcbiAgICAgKi9cbiAgICByZWFkb25seSB0YWdzPzogUm9zSW1hZ2VQaXBlbGluZS5UYWdzUHJvcGVydHlbXTtcblxuICAgIC8qKlxuICAgICAqIFByb3BlcnR5IHRvUmVnaW9uSWQ6IFRoZSBJRHMgb2YgcmVnaW9ucyB0byB3aGljaCB5b3Ugd2FudCB0byBkaXN0cmlidXRlIHRoZSBpbWFnZSB0aGF0IGlzIGNyZWF0ZWQgYmFzZWQgb24gdGhlIGltYWdlIHRlbXBsYXRlLiBZb3UgY2FuIHNwZWNpZnkgdXAgdG8gMjAgcmVnaW9uIElEcy5cbiAgICAgKiBJZiB5b3UgZG8gbm90IHNwZWNpZnkgdGhpcyBwYXJhbWV0ZXIsIHRoZSBpbWFnZSBpcyBjcmVhdGVkIG9ubHkgaW4gdGhlIGN1cnJlbnQgcmVnaW9uLlxuICAgICAqL1xuICAgIHJlYWRvbmx5IHRvUmVnaW9uSWQ/OiBBcnJheTxzdHJpbmcgfCByb3MuSVJlc29sdmFibGU+IHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogUHJvcGVydHkgdlN3aXRjaElkOiBUaGUgSUQgb2YgdGhlIHZTd2l0Y2guXG4gICAgICogSWYgeW91IGRvIG5vdCBzcGVjaWZ5IHRoaXMgcGFyYW1ldGVyLCBhIG5ldyBWUEMgYW5kIHZTd2l0Y2ggYXJlIGNyZWF0ZWQuIE1ha2Ugc3VyZSB0aGF0IHRoZSBWUEMgcXVvdGEgaW4geW91ciBhY2NvdW50IGlzIHN1ZmZpY2llbnQuIEZvciBtb3JlIGluZm9ybWF0aW9uLCBzZWUgTGltaXRzIGFuZCBxdW90YXMuXG4gICAgICovXG4gICAgcmVhZG9ubHkgdlN3aXRjaElkPzogc3RyaW5nIHwgcm9zLklSZXNvbHZhYmxlO1xufVxuXG4vKipcbiAqIFRoaXMgY2xhc3MgZW5jYXBzdWxhdGVzIGFuZCBleHRlbmRzIHRoZSBST1MgcmVzb3VyY2UgdHlwZSBgQUxJWVVOOjpFQ1M6OkltYWdlUGlwZWxpbmVgLCB3aGljaCBpcyB1c2VkIHRvIGNyZWF0ZSBhbiBpbWFnZSB0ZW1wbGF0ZS5cbiAqIEBOb3RlIFRoaXMgY2xhc3MgbWF5IGhhdmUgc29tZSBuZXcgZnVuY3Rpb25zIHRvIGZhY2lsaXRhdGUgZGV2ZWxvcG1lbnQsIHNvIGl0IGlzIHJlY29tbWVuZGVkIHRvIHVzZSB0aGlzIGNsYXNzIGluc3RlYWQgb2YgYFJvc0ltYWdlUGlwZWxpbmVgZm9yIGEgbW9yZSBjb252ZW5pZW50IGRldmVsb3BtZW50IGV4cGVyaWVuY2UuXG4gKiBTZWUgaHR0cHM6Ly93d3cuYWxpYmFiYWNsb3VkLmNvbS9oZWxwL3Jvcy9kZXZlbG9wZXItcmVmZXJlbmNlL2FsaXl1bi1lY3MtaW1hZ2VwaXBlbGluZVxuICovXG5leHBvcnQgY2xhc3MgSW1hZ2VQaXBlbGluZSBleHRlbmRzIHJvcy5SZXNvdXJjZSB7XG4gICAgcHJvdGVjdGVkIHNjb3BlOiByb3MuQ29uc3RydWN0O1xuICAgIHByb3RlY3RlZCBpZDogc3RyaW5nO1xuICAgIHByb3RlY3RlZCBwcm9wczogSW1hZ2VQaXBlbGluZVByb3BzO1xuICAgIHByb3RlY3RlZCBlbmFibGVSZXNvdXJjZVByb3BlcnR5Q29uc3RyYWludDogYm9vbGVhbjtcblxuICAgIC8qKlxuICAgICAqIEF0dHJpYnV0ZSBJbWFnZVBpcGVsaW5lSWQ6IFRoZSBJRCBvZiB0aGUgaW1hZ2UgdGVtcGxhdGUuXG4gICAgICovXG4gICAgcHVibGljIHJlYWRvbmx5IGF0dHJJbWFnZVBpcGVsaW5lSWQ6IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIFBhcmFtIHNjb3BlIC0gc2NvcGUgaW4gd2hpY2ggdGhpcyByZXNvdXJjZSBpcyBkZWZpbmVkXG4gICAgICogUGFyYW0gaWQgICAgLSBzY29wZWQgaWQgb2YgdGhlIHJlc291cmNlXG4gICAgICogUGFyYW0gcHJvcHMgLSByZXNvdXJjZSBwcm9wZXJ0aWVzXG4gICAgICovXG4gICAgY29uc3RydWN0b3Ioc2NvcGU6IHJvcy5Db25zdHJ1Y3QsIGlkOiBzdHJpbmcsIHByb3BzOiBJbWFnZVBpcGVsaW5lUHJvcHMsIGVuYWJsZVJlc291cmNlUHJvcGVydHlDb25zdHJhaW50OmJvb2xlYW4gPSB0cnVlKSB7XG4gICAgICAgIHN1cGVyKHNjb3BlLCBpZCk7XG4gICAgICAgIHRoaXMuc2NvcGUgPSBzY29wZTtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLnByb3BzID0gcHJvcHM7XG4gICAgICAgIHRoaXMuZW5hYmxlUmVzb3VyY2VQcm9wZXJ0eUNvbnN0cmFpbnQgPSBlbmFibGVSZXNvdXJjZVByb3BlcnR5Q29uc3RyYWludDtcblxuICAgICAgICBjb25zdCByb3NJbWFnZVBpcGVsaW5lID0gbmV3IFJvc0ltYWdlUGlwZWxpbmUodGhpcywgaWQsICB7XG4gICAgICAgICAgICBiYXNlSW1hZ2VUeXBlOiBwcm9wcy5iYXNlSW1hZ2VUeXBlLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IHByb3BzLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgcmVzb3VyY2VHcm91cElkOiBwcm9wcy5yZXNvdXJjZUdyb3VwSWQsXG4gICAgICAgICAgICBzeXN0ZW1EaXNrU2l6ZTogcHJvcHMuc3lzdGVtRGlza1NpemUsXG4gICAgICAgICAgICB2U3dpdGNoSWQ6IHByb3BzLnZTd2l0Y2hJZCxcbiAgICAgICAgICAgIGFkZEFjY291bnQ6IHByb3BzLmFkZEFjY291bnQsXG4gICAgICAgICAgICBuYW1lOiBwcm9wcy5uYW1lLFxuICAgICAgICAgICAgZXhlY3V0ZVBpcGVsaW5lOiBwcm9wcy5leGVjdXRlUGlwZWxpbmUgPT09IHVuZGVmaW5lZCB8fCBwcm9wcy5leGVjdXRlUGlwZWxpbmUgPT09IG51bGwgPyB0cnVlIDogcHJvcHMuZXhlY3V0ZVBpcGVsaW5lLFxuICAgICAgICAgICAgZGVsZXRlSW5zdGFuY2VPbkZhaWx1cmU6IHByb3BzLmRlbGV0ZUluc3RhbmNlT25GYWlsdXJlLFxuICAgICAgICAgICAgaW1hZ2VOYW1lOiBwcm9wcy5pbWFnZU5hbWUsXG4gICAgICAgICAgICB0b1JlZ2lvbklkOiBwcm9wcy50b1JlZ2lvbklkLFxuICAgICAgICAgICAgaW50ZXJuZXRNYXhCYW5kd2lkdGhPdXQ6IHByb3BzLmludGVybmV0TWF4QmFuZHdpZHRoT3V0LFxuICAgICAgICAgICAgaW5zdGFuY2VUeXBlOiBwcm9wcy5pbnN0YW5jZVR5cGUsXG4gICAgICAgICAgICB0YWdzOiBwcm9wcy50YWdzLFxuICAgICAgICAgICAgYnVpbGRDb250ZW50OiBwcm9wcy5idWlsZENvbnRlbnQsXG4gICAgICAgICAgICBiYXNlSW1hZ2U6IHByb3BzLmJhc2VJbWFnZSxcbiAgICAgICAgfSwgZW5hYmxlUmVzb3VyY2VQcm9wZXJ0eUNvbnN0cmFpbnQgJiYgdGhpcy5zdGFjay5lbmFibGVSZXNvdXJjZVByb3BlcnR5Q29uc3RyYWludCk7XG4gICAgICAgIHRoaXMucmVzb3VyY2UgPSByb3NJbWFnZVBpcGVsaW5lO1xuICAgICAgICB0aGlzLmF0dHJJbWFnZVBpcGVsaW5lSWQgPSByb3NJbWFnZVBpcGVsaW5lLmF0dHJJbWFnZVBpcGVsaW5lSWQ7XG4gICAgfVxufVxuIl19