"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.MigrateTask = exports.MigrateTaskProperty = void 0;
const ros = require("@alicloud/ros-cdk-core");
const rds_generated_1 = require("./rds.generated");
Object.defineProperty(exports, "MigrateTaskProperty", { enumerable: true, get: function () { return rds_generated_1.RosMigrateTask; } });
/**
 * This class encapsulates and extends the ROS resource type `ALIYUN::RDS::MigrateTask`, which is used to create a migration task to restore backup files from an Object Storage Service (OSS) bucket to an ApsaraDB RDS for SQL Server instance.
 * @Note This class may have some new functions to facilitate development, so it is recommended to use this class instead of `RosMigrateTask`for a more convenient development experience.
 * See https://www.alibabacloud.com/help/ros/developer-reference/aliyun-rds-migratetask
 */
class MigrateTask extends ros.Resource {
    /**
     * Param scope - scope in which this resource is defined
     * Param id    - scoped id of the resource
     * Param props - resource properties
     */
    constructor(scope, id, props, enableResourcePropertyConstraint = true) {
        super(scope, id);
        this.scope = scope;
        this.id = id;
        this.props = props;
        this.enableResourcePropertyConstraint = enableResourcePropertyConstraint;
        const rosMigrateTask = new rds_generated_1.RosMigrateTask(this, id, {
            isOnlineDb: props.isOnlineDb,
            dbInstanceId: props.dbInstanceId,
            ossObjectPositions: props.ossObjectPositions,
            checkDbMode: props.checkDbMode,
            backupMode: props.backupMode,
            dbName: props.dbName,
            ossUrls: props.ossUrls,
        }, enableResourcePropertyConstraint && this.stack.enableResourcePropertyConstraint);
        this.resource = rosMigrateTask;
        this.attrDbName = rosMigrateTask.attrDbName;
        this.attrMigrateTaskId = rosMigrateTask.attrMigrateTaskId;
    }
}
exports.MigrateTask = MigrateTask;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWlncmF0ZXRhc2suanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJtaWdyYXRldGFzay50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSw4Q0FBOEM7QUFDOUMsbURBQWlEO0FBRXRCLG9HQUZsQiw4QkFBYyxPQUV1QjtBQTZEOUM7Ozs7R0FJRztBQUNILE1BQWEsV0FBWSxTQUFRLEdBQUcsQ0FBQyxRQUFRO0lBZ0J6Qzs7OztPQUlHO0lBQ0gsWUFBWSxLQUFvQixFQUFFLEVBQVUsRUFBRSxLQUF1QixFQUFFLG1DQUEyQyxJQUFJO1FBQ2xILEtBQUssQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDakIsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7UUFDbkIsSUFBSSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUM7UUFDYixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUNuQixJQUFJLENBQUMsZ0NBQWdDLEdBQUcsZ0NBQWdDLENBQUM7UUFFekUsTUFBTSxjQUFjLEdBQUcsSUFBSSw4QkFBYyxDQUFDLElBQUksRUFBRSxFQUFFLEVBQUc7WUFDakQsVUFBVSxFQUFFLEtBQUssQ0FBQyxVQUFVO1lBQzVCLFlBQVksRUFBRSxLQUFLLENBQUMsWUFBWTtZQUNoQyxrQkFBa0IsRUFBRSxLQUFLLENBQUMsa0JBQWtCO1lBQzVDLFdBQVcsRUFBRSxLQUFLLENBQUMsV0FBVztZQUM5QixVQUFVLEVBQUUsS0FBSyxDQUFDLFVBQVU7WUFDNUIsTUFBTSxFQUFFLEtBQUssQ0FBQyxNQUFNO1lBQ3BCLE9BQU8sRUFBRSxLQUFLLENBQUMsT0FBTztTQUN6QixFQUFFLGdDQUFnQyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsZ0NBQWdDLENBQUMsQ0FBQztRQUNwRixJQUFJLENBQUMsUUFBUSxHQUFHLGNBQWMsQ0FBQztRQUMvQixJQUFJLENBQUMsVUFBVSxHQUFHLGNBQWMsQ0FBQyxVQUFVLENBQUM7UUFDNUMsSUFBSSxDQUFDLGlCQUFpQixHQUFHLGNBQWMsQ0FBQyxpQkFBaUIsQ0FBQztJQUM5RCxDQUFDO0NBQ0o7QUF6Q0Qsa0NBeUNDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgcm9zIGZyb20gJ0BhbGljbG91ZC9yb3MtY2RrLWNvcmUnO1xuaW1wb3J0IHsgUm9zTWlncmF0ZVRhc2sgfSBmcm9tICcuL3Jkcy5nZW5lcmF0ZWQnO1xuLy8gR2VuZXJhdGVkIGZyb20gdGhlIEFsaUNsb3VkIFJPUyBSZXNvdXJjZSBTcGVjaWZpY2F0aW9uXG5leHBvcnQgeyBSb3NNaWdyYXRlVGFzayBhcyBNaWdyYXRlVGFza1Byb3BlcnR5IH07XG5cbi8qKlxuICogUHJvcGVydGllcyBmb3IgZGVmaW5pbmcgYSBgTWlncmF0ZVRhc2tgLlxuICogU2VlIGh0dHBzOi8vd3d3LmFsaWJhYmFjbG91ZC5jb20vaGVscC9yb3MvZGV2ZWxvcGVyLXJlZmVyZW5jZS9hbGl5dW4tcmRzLW1pZ3JhdGV0YXNrXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTWlncmF0ZVRhc2tQcm9wcyB7XG5cbiAgICAvKipcbiAgICAgKiBQcm9wZXJ0eSBiYWNrdXBNb2RlOiBUaGUgdHlwZSBvZiB0aGUgbWlncmF0aW9uIHRhc2suIFZhbGlkIHZhbHVlczpcbiAgICAgKiBGVUxMOiBzcGVjaWZpZXMgdGhhdCBmdWxsIGJhY2t1cCBmaWxlcyBhcmUgdXNlZCB0byByZXN0b3JlIGRhdGEuXG4gICAgICogVVBERjogc3BlY2lmaWVzIHRoYXQgaW5jcmVtZW50YWwgYmFja3VwIGZpbGVzIG9yIGxvZyBmaWxlcyBhcmUgdXNlZCB0byByZXN0b3JlIGluY3JlbWVudGFsIGRhdGEuXG4gICAgICovXG4gICAgcmVhZG9ubHkgYmFja3VwTW9kZTogc3RyaW5nIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogUHJvcGVydHkgZGJJbnN0YW5jZUlkOiBUaGUgSUQgb2YgdGhlIGluc3RhbmNlLlxuICAgICAqL1xuICAgIHJlYWRvbmx5IGRiSW5zdGFuY2VJZDogc3RyaW5nIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogUHJvcGVydHkgZGJOYW1lOiBUaGUgbmFtZSBvZiB0aGUgZGF0YWJhc2UgdGhhdCB5b3Ugd2FudCB0byByZXN0b3JlLlxuICAgICAqL1xuICAgIHJlYWRvbmx5IGRiTmFtZTogc3RyaW5nIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogUHJvcGVydHkgaXNPbmxpbmVEYjogU3BlY2lmaWVzIHdoZXRoZXIgdG8gYnJpbmcgdGhlIHJlc3RvcmVkIGRhdGFiYXNlIG9ubGluZSBmb3IgdXNlciBhY2Nlc3MuIE5vdGUgVGhlIHZhbHVlIGZvciBTUUwgU2VydmVyIDIwMDggUjIgaXMgZml4ZWQgdG8gVHJ1ZS5cbiAgICAgKi9cbiAgICByZWFkb25seSBpc09ubGluZURiOiBib29sZWFuIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogUHJvcGVydHkgY2hlY2tEYk1vZGU6IFRoZSBjb25zaXN0ZW5jeSBjaGVjayBtZXRob2Qgb2YgdGhlIGRhdGFiYXNlLiBWYWxpZCB2YWx1ZXM6XG4gICAgICogU3luY0V4ZWN1dGVEQkNoZWNrOiBzeW5jaHJvbm91cyBkYXRhYmFzZSBjaGVja1xuICAgICAqIEFzeW5jRXhlY3V0ZURCQ2hlY2s6IGFzeW5jaHJvbm91cyBkYXRhYmFzZSBjaGVja1xuICAgICAqIERlZmF1bHQgdmFsdWU6IEFzeW5jRXhlY3V0ZURCQ2hlY2sgKGNvbXBhdGlibGUgd2l0aCBTUUwgU2VydmVyIDIwMDggUjIpLlxuICAgICAqIE5vdGUgV2hlbiBJc09ubGluZURCIGlzIHNldCB0byBUcnVlLCB0aGlzIHZhbHVlIGlzIHZhbGlkLlxuICAgICAqL1xuICAgIHJlYWRvbmx5IGNoZWNrRGJNb2RlPzogc3RyaW5nIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogUHJvcGVydHkgb3NzT2JqZWN0UG9zaXRpb25zOiBUaGUgaW5mb3JtYXRpb24gb2YgdGhlIGJhY2t1cCBmaWxlIGluIHRoZSBPU1MgYnVja2V0LlxuICAgICAqIFRoZSB2YWx1ZXMgY29uc2lzdCBvZiB0aHJlZSBwYXJ0cyB0aGF0IGFyZSBzZXBhcmF0ZWQgYnkgY29sb25zICg6KTpcbiAgICAgKiBUaGUgZW5kcG9pbnQgb2YgdGhlIE9TUyBidWNrZXQ6IG9zcy1hcC1zb3V0aGVhc3QtMS5hbGl5dW5jcy5jb20uXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIE9TUyBidWNrZXQ6IHJkc21zc3Fsc2luZ2Fwb3JlLlxuICAgICAqIFRoZSBrZXkgb2YgdGhlIGJhY2t1cCBmaWxlIGluIHRoZSBPU1MgYnVja2V0OiBhdXRvdGVzdF8yMDA4UjJfVGVzdE1pZ3JhdGlvbl9GVUxMLmJhay5cbiAgICAgKiBOb3RlXG4gICAgICogVGhpcyBwYXJhbWV0ZXIgaXMgb3B0aW9uYWwgZm9yIGluc3RhbmNlcyB0aGF0IHJ1biBTUUwgU2VydmVyIDIwMDggUjIuXG4gICAgICogVGhpcyBwYXJhbWV0ZXIgaXMgcmVxdWlyZWQgZm9yIGluc3RhbmNlcyB0aGF0IHJ1biBhIGRhdGFiYXNlIGVuZ2luZSBsYXRlciB0aGFuIFNRTFxuICAgICAqIFNlcnZlciAyMDA4IFIyLlxuICAgICAqL1xuICAgIHJlYWRvbmx5IG9zc09iamVjdFBvc2l0aW9ucz86IHN0cmluZyB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIFByb3BlcnR5IG9zc1VybHM6IFRoZSBzaGFyZWQgVVJMIG9mIHRoZSBiYWNrdXAgZmlsZSBpbiB0aGUgT1NTIGJ1Y2tldC4gVGhlIFVSTCBtdXN0IGJlIGVuY29kZWQuXG4gICAgICogSWYgeW91IHNwZWNpZnkgbXVsdGlwbGUgVVJMcywgc2VwYXJhdGUgdGhlbSB3aXRoIHZlcnRpY2FsIGJhcnMgKHwpIGFuZCB0aGVuIGVuY29kZVxuICAgICAqIHRoZW0uXG4gICAgICogTm90ZSBUaGlzIHBhcmFtZXRlciBtdXN0IGJlIGVudGVyZWQgZm9yIGluc3RhbmNlcyB0aGF0IHJ1biBTUUwgU2VydmVyIDIwMDggUjIuXG4gICAgICovXG4gICAgcmVhZG9ubHkgb3NzVXJscz86IHN0cmluZyB8IHJvcy5JUmVzb2x2YWJsZTtcbn1cblxuLyoqXG4gKiBUaGlzIGNsYXNzIGVuY2Fwc3VsYXRlcyBhbmQgZXh0ZW5kcyB0aGUgUk9TIHJlc291cmNlIHR5cGUgYEFMSVlVTjo6UkRTOjpNaWdyYXRlVGFza2AsIHdoaWNoIGlzIHVzZWQgdG8gY3JlYXRlIGEgbWlncmF0aW9uIHRhc2sgdG8gcmVzdG9yZSBiYWNrdXAgZmlsZXMgZnJvbSBhbiBPYmplY3QgU3RvcmFnZSBTZXJ2aWNlIChPU1MpIGJ1Y2tldCB0byBhbiBBcHNhcmFEQiBSRFMgZm9yIFNRTCBTZXJ2ZXIgaW5zdGFuY2UuXG4gKiBATm90ZSBUaGlzIGNsYXNzIG1heSBoYXZlIHNvbWUgbmV3IGZ1bmN0aW9ucyB0byBmYWNpbGl0YXRlIGRldmVsb3BtZW50LCBzbyBpdCBpcyByZWNvbW1lbmRlZCB0byB1c2UgdGhpcyBjbGFzcyBpbnN0ZWFkIG9mIGBSb3NNaWdyYXRlVGFza2Bmb3IgYSBtb3JlIGNvbnZlbmllbnQgZGV2ZWxvcG1lbnQgZXhwZXJpZW5jZS5cbiAqIFNlZSBodHRwczovL3d3dy5hbGliYWJhY2xvdWQuY29tL2hlbHAvcm9zL2RldmVsb3Blci1yZWZlcmVuY2UvYWxpeXVuLXJkcy1taWdyYXRldGFza1xuICovXG5leHBvcnQgY2xhc3MgTWlncmF0ZVRhc2sgZXh0ZW5kcyByb3MuUmVzb3VyY2Uge1xuICAgIHByb3RlY3RlZCBzY29wZTogcm9zLkNvbnN0cnVjdDtcbiAgICBwcm90ZWN0ZWQgaWQ6IHN0cmluZztcbiAgICBwcm90ZWN0ZWQgcHJvcHM6IE1pZ3JhdGVUYXNrUHJvcHM7XG4gICAgcHJvdGVjdGVkIGVuYWJsZVJlc291cmNlUHJvcGVydHlDb25zdHJhaW50OiBib29sZWFuO1xuXG4gICAgLyoqXG4gICAgICogQXR0cmlidXRlIERCTmFtZTogVGhlIG5hbWUgb2YgdGhlIGRhdGFiYXNlIHRoYXQgeW91IHdhbnQgdG8gcmVzdG9yZS5cbiAgICAgKi9cbiAgICBwdWJsaWMgcmVhZG9ubHkgYXR0ckRiTmFtZTogcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogQXR0cmlidXRlIE1pZ3JhdGVUYXNrSWQ6IFRoZSBJRCBvZiB0aGUgbWlncmF0ZSB0YXNrLlxuICAgICAqL1xuICAgIHB1YmxpYyByZWFkb25seSBhdHRyTWlncmF0ZVRhc2tJZDogcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogUGFyYW0gc2NvcGUgLSBzY29wZSBpbiB3aGljaCB0aGlzIHJlc291cmNlIGlzIGRlZmluZWRcbiAgICAgKiBQYXJhbSBpZCAgICAtIHNjb3BlZCBpZCBvZiB0aGUgcmVzb3VyY2VcbiAgICAgKiBQYXJhbSBwcm9wcyAtIHJlc291cmNlIHByb3BlcnRpZXNcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihzY29wZTogcm9zLkNvbnN0cnVjdCwgaWQ6IHN0cmluZywgcHJvcHM6IE1pZ3JhdGVUYXNrUHJvcHMsIGVuYWJsZVJlc291cmNlUHJvcGVydHlDb25zdHJhaW50OmJvb2xlYW4gPSB0cnVlKSB7XG4gICAgICAgIHN1cGVyKHNjb3BlLCBpZCk7XG4gICAgICAgIHRoaXMuc2NvcGUgPSBzY29wZTtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLnByb3BzID0gcHJvcHM7XG4gICAgICAgIHRoaXMuZW5hYmxlUmVzb3VyY2VQcm9wZXJ0eUNvbnN0cmFpbnQgPSBlbmFibGVSZXNvdXJjZVByb3BlcnR5Q29uc3RyYWludDtcblxuICAgICAgICBjb25zdCByb3NNaWdyYXRlVGFzayA9IG5ldyBSb3NNaWdyYXRlVGFzayh0aGlzLCBpZCwgIHtcbiAgICAgICAgICAgIGlzT25saW5lRGI6IHByb3BzLmlzT25saW5lRGIsXG4gICAgICAgICAgICBkYkluc3RhbmNlSWQ6IHByb3BzLmRiSW5zdGFuY2VJZCxcbiAgICAgICAgICAgIG9zc09iamVjdFBvc2l0aW9uczogcHJvcHMub3NzT2JqZWN0UG9zaXRpb25zLFxuICAgICAgICAgICAgY2hlY2tEYk1vZGU6IHByb3BzLmNoZWNrRGJNb2RlLFxuICAgICAgICAgICAgYmFja3VwTW9kZTogcHJvcHMuYmFja3VwTW9kZSxcbiAgICAgICAgICAgIGRiTmFtZTogcHJvcHMuZGJOYW1lLFxuICAgICAgICAgICAgb3NzVXJsczogcHJvcHMub3NzVXJscyxcbiAgICAgICAgfSwgZW5hYmxlUmVzb3VyY2VQcm9wZXJ0eUNvbnN0cmFpbnQgJiYgdGhpcy5zdGFjay5lbmFibGVSZXNvdXJjZVByb3BlcnR5Q29uc3RyYWludCk7XG4gICAgICAgIHRoaXMucmVzb3VyY2UgPSByb3NNaWdyYXRlVGFzaztcbiAgICAgICAgdGhpcy5hdHRyRGJOYW1lID0gcm9zTWlncmF0ZVRhc2suYXR0ckRiTmFtZTtcbiAgICAgICAgdGhpcy5hdHRyTWlncmF0ZVRhc2tJZCA9IHJvc01pZ3JhdGVUYXNrLmF0dHJNaWdyYXRlVGFza0lkO1xuICAgIH1cbn1cbiJdfQ==