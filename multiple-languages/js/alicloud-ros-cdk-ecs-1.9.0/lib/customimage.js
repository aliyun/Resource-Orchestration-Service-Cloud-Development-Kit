"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.CustomImage = exports.CustomImageProperty = void 0;
const ros = require("@alicloud/ros-cdk-core");
const ecs_generated_1 = require("./ecs.generated");
Object.defineProperty(exports, "CustomImageProperty", { enumerable: true, get: function () { return ecs_generated_1.RosCustomImage; } });
/**
 * This class encapsulates and extends the ROS resource type `ALIYUN::ECS::CustomImage`, which is used to create a custom image.
 * @Note This class may have some new functions to facilitate development, so it is recommended to use this class instead of `RosCustomImage`for a more convenient development experience.
 * See https://www.alibabacloud.com/help/ros/developer-reference/aliyun-ecs-customimage
 */
class CustomImage extends ros.Resource {
    /**
     * Param scope - scope in which this resource is defined
     * Param id    - scoped id of the resource
     * Param props - resource properties
     */
    constructor(scope, id, props = {}, enableResourcePropertyConstraint = true) {
        super(scope, id);
        this.scope = scope;
        this.id = id;
        this.props = props;
        this.enableResourcePropertyConstraint = enableResourcePropertyConstraint;
        const rosCustomImage = new ecs_generated_1.RosCustomImage(this, id, {
            detectionStrategy: props.detectionStrategy,
            description: props.description,
            platform: props.platform,
            architecture: props.architecture,
            resourceGroupId: props.resourceGroupId,
            instanceId: props.instanceId,
            bootMode: props.bootMode,
            imageFamily: props.imageFamily,
            diskDeviceMapping: props.diskDeviceMapping,
            imageName: props.imageName,
            sourceRegionId: props.sourceRegionId,
            snapshotId: props.snapshotId,
            imageVersion: props.imageVersion,
            features: props.features,
            tag: props.tag,
        }, enableResourcePropertyConstraint && this.stack.enableResourcePropertyConstraint);
        this.resource = rosCustomImage;
        this.attrImageId = rosCustomImage.attrImageId;
        this.attrSourceRegionId = rosCustomImage.attrSourceRegionId;
    }
}
exports.CustomImage = CustomImage;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY3VzdG9taW1hZ2UuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJjdXN0b21pbWFnZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSw4Q0FBOEM7QUFDOUMsbURBQWlEO0FBRXRCLG9HQUZsQiw4QkFBYyxPQUV1QjtBQStHOUM7Ozs7R0FJRztBQUNILE1BQWEsV0FBWSxTQUFRLEdBQUcsQ0FBQyxRQUFRO0lBZ0J6Qzs7OztPQUlHO0lBQ0gsWUFBWSxLQUFvQixFQUFFLEVBQVUsRUFBRSxRQUEwQixFQUFFLEVBQUUsbUNBQTJDLElBQUk7UUFDdkgsS0FBSyxDQUFDLEtBQUssRUFBRSxFQUFFLENBQUMsQ0FBQztRQUNqQixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUNuQixJQUFJLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQztRQUNiLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBQ25CLElBQUksQ0FBQyxnQ0FBZ0MsR0FBRyxnQ0FBZ0MsQ0FBQztRQUV6RSxNQUFNLGNBQWMsR0FBRyxJQUFJLDhCQUFjLENBQUMsSUFBSSxFQUFFLEVBQUUsRUFBRztZQUNqRCxpQkFBaUIsRUFBRSxLQUFLLENBQUMsaUJBQWlCO1lBQzFDLFdBQVcsRUFBRSxLQUFLLENBQUMsV0FBVztZQUM5QixRQUFRLEVBQUUsS0FBSyxDQUFDLFFBQVE7WUFDeEIsWUFBWSxFQUFFLEtBQUssQ0FBQyxZQUFZO1lBQ2hDLGVBQWUsRUFBRSxLQUFLLENBQUMsZUFBZTtZQUN0QyxVQUFVLEVBQUUsS0FBSyxDQUFDLFVBQVU7WUFDNUIsUUFBUSxFQUFFLEtBQUssQ0FBQyxRQUFRO1lBQ3hCLFdBQVcsRUFBRSxLQUFLLENBQUMsV0FBVztZQUM5QixpQkFBaUIsRUFBRSxLQUFLLENBQUMsaUJBQWlCO1lBQzFDLFNBQVMsRUFBRSxLQUFLLENBQUMsU0FBUztZQUMxQixjQUFjLEVBQUUsS0FBSyxDQUFDLGNBQWM7WUFDcEMsVUFBVSxFQUFFLEtBQUssQ0FBQyxVQUFVO1lBQzVCLFlBQVksRUFBRSxLQUFLLENBQUMsWUFBWTtZQUNoQyxRQUFRLEVBQUUsS0FBSyxDQUFDLFFBQVE7WUFDeEIsR0FBRyxFQUFFLEtBQUssQ0FBQyxHQUFHO1NBQ2pCLEVBQUUsZ0NBQWdDLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxnQ0FBZ0MsQ0FBQyxDQUFDO1FBQ3BGLElBQUksQ0FBQyxRQUFRLEdBQUcsY0FBYyxDQUFDO1FBQy9CLElBQUksQ0FBQyxXQUFXLEdBQUcsY0FBYyxDQUFDLFdBQVcsQ0FBQztRQUM5QyxJQUFJLENBQUMsa0JBQWtCLEdBQUcsY0FBYyxDQUFDLGtCQUFrQixDQUFDO0lBQ2hFLENBQUM7Q0FDSjtBQWpERCxrQ0FpREMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyByb3MgZnJvbSAnQGFsaWNsb3VkL3Jvcy1jZGstY29yZSc7XG5pbXBvcnQgeyBSb3NDdXN0b21JbWFnZSB9IGZyb20gJy4vZWNzLmdlbmVyYXRlZCc7XG4vLyBHZW5lcmF0ZWQgZnJvbSB0aGUgQWxpQ2xvdWQgUk9TIFJlc291cmNlIFNwZWNpZmljYXRpb25cbmV4cG9ydCB7IFJvc0N1c3RvbUltYWdlIGFzIEN1c3RvbUltYWdlUHJvcGVydHkgfTtcblxuLyoqXG4gKiBQcm9wZXJ0aWVzIGZvciBkZWZpbmluZyBhIGBDdXN0b21JbWFnZWAuXG4gKiBTZWUgaHR0cHM6Ly93d3cuYWxpYmFiYWNsb3VkLmNvbS9oZWxwL3Jvcy9kZXZlbG9wZXItcmVmZXJlbmNlL2FsaXl1bi1lY3MtY3VzdG9taW1hZ2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDdXN0b21JbWFnZVByb3BzIHtcblxuICAgIC8qKlxuICAgICAqIFByb3BlcnR5IGFyY2hpdGVjdHVyZTogQWZ0ZXIgc3BlY2lmeWluZyB0aGUgZGF0YSBkaXNrIHNuYXBzaG90IGFzIHRoZSBtaXJyb3JlZCBzeXN0ZW0gZGlzaywgeW91IG5lZWQgdG8gZGV0ZXJtaW5lIHRoZSBzeXN0ZW0gYXJjaGl0ZWN0dXJlIG9mIHRoZSBzeXN0ZW0gZGlzayB0aHJvdWdoIEFyY2hpdGVjdHVyZS4gUmFuZ2VzOlxuICAgICAqIEkzODZcbiAgICAgKiBYODZfNjQgKGRlZmF1bHQpXG4gICAgICovXG4gICAgcmVhZG9ubHkgYXJjaGl0ZWN0dXJlPzogc3RyaW5nIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogUHJvcGVydHkgYm9vdE1vZGU6IE1vZGlmeSB0aGUgc3RhcnR1cCBtb2RlIG9mIHRoZSBpbWFnZS4gUmFuZ2VzOlxuICAgICAqIEJJT1M6IEJJT1MgYm9vdCBtb2RlLlxuICAgICAqIFVFRkk6IFVFRkkgYm9vdCBtb2RlLlxuICAgICAqIFlvdSBuZWVkIHRvIGtub3cgdGhlIHN0YXJ0dXAgbW9kZSBzdXBwb3J0ZWQgYnkgdGhlIHNwZWNpZmllZCBpbWFnZS4gQWZ0ZXIgbW9kaWZ5aW5nIHRoZSBzdGFydHVwIG1vZGUgdGhyb3VnaCB0aGlzIHBhcmFtZXRlciwgaXQgbXVzdCBtYXRjaCB0aGUgc3RhcnR1cCBtb2RlIHN1cHBvcnRlZCBieSB0aGUgaW1hZ2UgaXRzZWxmIHNvIHRoYXQgdGhlIGluc3RhbmNlIGNhbiBzdGFydCBub3JtYWxseS5cbiAgICAgKi9cbiAgICByZWFkb25seSBib290TW9kZT86IHN0cmluZyB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIFByb3BlcnR5IGRlc2NyaXB0aW9uOiBUaGUgZGVzY3JpcHRpb24gb2YgdGhlIGltYWdlLlxuICAgICAqIEl0IGNhbiBiZSBbMCwgMjU2XSBsZXR0ZXJzIGluIGxlbmd0aC5cbiAgICAgKiBJdCBjYW5ub3QgYmVnaW4gd2l0aCBodHRwOlxcL1xcLyBvciBodHRwczpcXC9cXC8uXG4gICAgICogRGVmYXVsdCB2YWx1ZTogbnVsbC5cbiAgICAgKi9cbiAgICByZWFkb25seSBkZXNjcmlwdGlvbj86IHN0cmluZyB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIFByb3BlcnR5IGRldGVjdGlvblN0cmF0ZWd5OiBJbWFnZSBkZXRlY3Rpb24gcG9saWN5LiBJZiB0aGlzIHBhcmFtZXRlciBpcyBub3QgY29uZmlndXJlZCwgZGV0ZWN0aW9uIHdpbGwgbm90IGJlIHRyaWdnZXJlZC4gT25seSBTdGFuZGFyZCBkZXRlY3Rpb24gbW9kZSBpcyBzdXBwb3J0ZWQuQ3VycmVudGx5LCBtb3N0IExpbnV4XFwvV2luZG93cyB2ZXJzaW9ucyBhcmUgc3VwcG9ydGVkLlxuICAgICAqL1xuICAgIHJlYWRvbmx5IGRldGVjdGlvblN0cmF0ZWd5Pzogc3RyaW5nIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogUHJvcGVydHkgZGlza0RldmljZU1hcHBpbmc6XG4gICAgICovXG4gICAgcmVhZG9ubHkgZGlza0RldmljZU1hcHBpbmc/OiBBcnJheTxSb3NDdXN0b21JbWFnZS5EaXNrRGV2aWNlTWFwcGluZ1Byb3BlcnR5IHwgcm9zLklSZXNvbHZhYmxlPiB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIFByb3BlcnR5IGZlYXR1cmVzOiBNaXJyb3IgZmVhdHVyZS1yZWxhdGVkIHByb3BlcnRpZXMuXG4gICAgICovXG4gICAgcmVhZG9ubHkgZmVhdHVyZXM/OiBSb3NDdXN0b21JbWFnZS5GZWF0dXJlc1Byb3BlcnR5IHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogUHJvcGVydHkgaW1hZ2VGYW1pbHk6IFRoZSBuYW1lIG9mIHRoZSBpbWFnZSBmYW1pbHkgb2YgdGhlIGltYWdlLiBUaGUgbmFtZSBtdXN0IGJlIDIgdG8gMTI4IGNoYXJhY3RlcnMgaW4gbGVuZ3RoIGFuZCBjYW4gY29udGFpbiBsZXR0ZXJzLCBkaWdpdHMsIGNvbG9ucyAoOiksIHVuZGVyc2NvcmVzIChfKSwgYW5kIGh5cGhlbnMgKC0pLiBJdCBjYW5ub3QgY29udGFpbiBodHRwOlxcL1xcLyBvciBodHRwczpcXC9cXC8uIEl0IG11c3Qgc3RhcnQgd2l0aCBhIGxldHRlciBhbmQgY2Fubm90IHN0YXJ0IHdpdGggYWNzOiBvciBhbGl5dW4uVGhpcyBwYXJhbWV0ZXIgaXMgZW1wdHkgYnkgZGVmYXVsdC5cbiAgICAgKi9cbiAgICByZWFkb25seSBpbWFnZUZhbWlseT86IHN0cmluZyB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIFByb3BlcnR5IGltYWdlTmFtZTogSW1hZ2UgbmFtZS5cbiAgICAgKiBDYW4gY29udGFpbiBbMiwgMTI4XSBjaGFyYWN0ZXJzIGluIGxlbmd0aC4gTXVzdCBiZWdpbiB3aXRoIGFuIEVuZ2xpc2ggbGV0dGVyIG9yIENoaW5lc2UgY2hhcmFjdGVyLiBDYW4gY29udGFpbiBkaWdpdHMsIGNvbG9ucyAoOiksIHVuZGVyc2NvcmVzIChfKSwgb3IgaHlwaGVucyAoLSkuXG4gICAgICogQ2Fubm90IGJlZ2luIHdpdGggaHR0cDpcXC9cXC8gb3IgaHR0cHM6XFwvXFwvLlxuICAgICAqL1xuICAgIHJlYWRvbmx5IGltYWdlTmFtZT86IHN0cmluZyB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIFByb3BlcnR5IGltYWdlVmVyc2lvbjogSW1hZ2UgdmVyc2lvbi5cbiAgICAgKiBXaGVuIHlvdSBzcGVjaWZ5IGFuIGluc3RhbmNlIElEIChJbnN0YW5jZUlkKSBhbmQgdGhlIGltYWdlIG9mIHRoZSBpbnN0YW5jZSBpcyBhIGNsb3VkIG1hcmtldCBpbWFnZSBvciBhIGN1c3RvbSBpbWFnZSBjcmVhdGVkIGZyb20gYSBjbG91ZCBtYXJrZXQgaW1hZ2UuIFRoaXMgcGFyYW1ldGVyIG11c3QgYmUgdGhlIHNhbWUgYXMgdGhlIEltYWdlVmVyc2lvbiBvZiB0aGUgY3VycmVudCBpbnN0YW5jZSBpbWFnZSBvciBzZXQgdG8gZW1wdHkuXG4gICAgICovXG4gICAgcmVhZG9ubHkgaW1hZ2VWZXJzaW9uPzogc3RyaW5nIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogUHJvcGVydHkgaW5zdGFuY2VJZDogSW5zdGFuY2UgSUQuXG4gICAgICovXG4gICAgcmVhZG9ubHkgaW5zdGFuY2VJZD86IHN0cmluZyB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIFByb3BlcnR5IHBsYXRmb3JtOiBBZnRlciBzcGVjaWZ5aW5nIHRoZSBkYXRhIGRpc2sgc25hcHNob3QgYXMgdGhlIG1pcnJvcmVkIHN5c3RlbSBkaXNrLCB5b3UgbmVlZCB0byBkZXRlcm1pbmUgdGhlIG9wZXJhdGluZyBzeXN0ZW0gcmVsZWFzZSBvZiB0aGUgc3lzdGVtIGRpc2sgdGhyb3VnaCBQbGF0Zm9ybS5cbiAgICAgKi9cbiAgICByZWFkb25seSBwbGF0Zm9ybT86IHN0cmluZyB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIFByb3BlcnR5IHJlc291cmNlR3JvdXBJZDogVGhlIElEIG9mIHRoZSByZXNvdXJjZSBncm91cCB0byB3aGljaCB0byBhc3NpZ24gdGhlIGN1c3RvbSBpbWFnZS5cbiAgICAgKi9cbiAgICByZWFkb25seSByZXNvdXJjZUdyb3VwSWQ/OiBzdHJpbmcgfCByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBQcm9wZXJ0eSBzbmFwc2hvdElkOiBUaGUgc25hcHNob3QgSUQuIEEgY3VzdG9tIGltYWdlIGlzIGNyZWF0ZWQgZnJvbSB0aGUgc3BlY2lmaWVkIHNuYXBzaG90LlxuICAgICAqL1xuICAgIHJlYWRvbmx5IHNuYXBzaG90SWQ/OiBzdHJpbmcgfCByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBQcm9wZXJ0eSBzb3VyY2VSZWdpb25JZDogSUQgb2YgdGhlIHJlZ2lvbiB0byB3aGVyZSB0aGUgaW5zdGFuY2VcXC9zbmFwc2hvdCBiZWxvbmdzLiBEZWZhdWx0IGlzIGN1cnJlbnQgcmVnaW9uIElELlxuICAgICAqL1xuICAgIHJlYWRvbmx5IHNvdXJjZVJlZ2lvbklkPzogc3RyaW5nIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogUHJvcGVydHkgdGFnOlxuICAgICAqL1xuICAgIHJlYWRvbmx5IHRhZz86IEFycmF5PHJvcy5Sb3NUYWcgfCByb3MuSVJlc29sdmFibGU+IHwgcm9zLklSZXNvbHZhYmxlO1xufVxuXG4vKipcbiAqIFJlcHJlc2VudHMgYSBgQ3VzdG9tSW1hZ2VgLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIElDdXN0b21JbWFnZSBleHRlbmRzIHJvcy5JUmVzb3VyY2Uge1xuICAgIHJlYWRvbmx5IHByb3BzOiBDdXN0b21JbWFnZVByb3BzO1xuXG4gICAgLyoqXG4gICAgICogQXR0cmlidXRlIEltYWdlSWQ6IEltYWdlIElEXG4gICAgICovXG4gICAgcmVhZG9ubHkgYXR0ckltYWdlSWQ6IHJvcy5JUmVzb2x2YWJsZSB8IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIEF0dHJpYnV0ZSBTb3VyY2VSZWdpb25JZDogSUQgb2YgdGhlIHJlZ2lvbiB0byB3aGVyZSB0aGUgaW5zdGFuY2Uvc25hcHNob3QgYmVsb25ncy5cbiAgICAgKi9cbiAgICByZWFkb25seSBhdHRyU291cmNlUmVnaW9uSWQ6IHJvcy5JUmVzb2x2YWJsZSB8IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBjbGFzcyBlbmNhcHN1bGF0ZXMgYW5kIGV4dGVuZHMgdGhlIFJPUyByZXNvdXJjZSB0eXBlIGBBTElZVU46OkVDUzo6Q3VzdG9tSW1hZ2VgLCB3aGljaCBpcyB1c2VkIHRvIGNyZWF0ZSBhIGN1c3RvbSBpbWFnZS5cbiAqIEBOb3RlIFRoaXMgY2xhc3MgbWF5IGhhdmUgc29tZSBuZXcgZnVuY3Rpb25zIHRvIGZhY2lsaXRhdGUgZGV2ZWxvcG1lbnQsIHNvIGl0IGlzIHJlY29tbWVuZGVkIHRvIHVzZSB0aGlzIGNsYXNzIGluc3RlYWQgb2YgYFJvc0N1c3RvbUltYWdlYGZvciBhIG1vcmUgY29udmVuaWVudCBkZXZlbG9wbWVudCBleHBlcmllbmNlLlxuICogU2VlIGh0dHBzOi8vd3d3LmFsaWJhYmFjbG91ZC5jb20vaGVscC9yb3MvZGV2ZWxvcGVyLXJlZmVyZW5jZS9hbGl5dW4tZWNzLWN1c3RvbWltYWdlXG4gKi9cbmV4cG9ydCBjbGFzcyBDdXN0b21JbWFnZSBleHRlbmRzIHJvcy5SZXNvdXJjZSBpbXBsZW1lbnRzIElDdXN0b21JbWFnZSB7XG4gICAgcHJvdGVjdGVkIHNjb3BlOiByb3MuQ29uc3RydWN0O1xuICAgIHByb3RlY3RlZCBpZDogc3RyaW5nO1xuICAgIHB1YmxpYyByZWFkb25seSBwcm9wczogQ3VzdG9tSW1hZ2VQcm9wcztcbiAgICBwcm90ZWN0ZWQgZW5hYmxlUmVzb3VyY2VQcm9wZXJ0eUNvbnN0cmFpbnQ6IGJvb2xlYW47XG5cbiAgICAvKipcbiAgICAgKiBBdHRyaWJ1dGUgSW1hZ2VJZDogSW1hZ2UgSURcbiAgICAgKi9cbiAgICBwdWJsaWMgcmVhZG9ubHkgYXR0ckltYWdlSWQ6IHJvcy5JUmVzb2x2YWJsZSB8IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIEF0dHJpYnV0ZSBTb3VyY2VSZWdpb25JZDogSUQgb2YgdGhlIHJlZ2lvbiB0byB3aGVyZSB0aGUgaW5zdGFuY2Uvc25hcHNob3QgYmVsb25ncy5cbiAgICAgKi9cbiAgICBwdWJsaWMgcmVhZG9ubHkgYXR0clNvdXJjZVJlZ2lvbklkOiByb3MuSVJlc29sdmFibGUgfCBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBQYXJhbSBzY29wZSAtIHNjb3BlIGluIHdoaWNoIHRoaXMgcmVzb3VyY2UgaXMgZGVmaW5lZFxuICAgICAqIFBhcmFtIGlkICAgIC0gc2NvcGVkIGlkIG9mIHRoZSByZXNvdXJjZVxuICAgICAqIFBhcmFtIHByb3BzIC0gcmVzb3VyY2UgcHJvcGVydGllc1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHNjb3BlOiByb3MuQ29uc3RydWN0LCBpZDogc3RyaW5nLCBwcm9wczogQ3VzdG9tSW1hZ2VQcm9wcyA9IHt9LCBlbmFibGVSZXNvdXJjZVByb3BlcnR5Q29uc3RyYWludDpib29sZWFuID0gdHJ1ZSkge1xuICAgICAgICBzdXBlcihzY29wZSwgaWQpO1xuICAgICAgICB0aGlzLnNjb3BlID0gc2NvcGU7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy5wcm9wcyA9IHByb3BzO1xuICAgICAgICB0aGlzLmVuYWJsZVJlc291cmNlUHJvcGVydHlDb25zdHJhaW50ID0gZW5hYmxlUmVzb3VyY2VQcm9wZXJ0eUNvbnN0cmFpbnQ7XG5cbiAgICAgICAgY29uc3Qgcm9zQ3VzdG9tSW1hZ2UgPSBuZXcgUm9zQ3VzdG9tSW1hZ2UodGhpcywgaWQsICB7XG4gICAgICAgICAgICBkZXRlY3Rpb25TdHJhdGVneTogcHJvcHMuZGV0ZWN0aW9uU3RyYXRlZ3ksXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogcHJvcHMuZGVzY3JpcHRpb24sXG4gICAgICAgICAgICBwbGF0Zm9ybTogcHJvcHMucGxhdGZvcm0sXG4gICAgICAgICAgICBhcmNoaXRlY3R1cmU6IHByb3BzLmFyY2hpdGVjdHVyZSxcbiAgICAgICAgICAgIHJlc291cmNlR3JvdXBJZDogcHJvcHMucmVzb3VyY2VHcm91cElkLFxuICAgICAgICAgICAgaW5zdGFuY2VJZDogcHJvcHMuaW5zdGFuY2VJZCxcbiAgICAgICAgICAgIGJvb3RNb2RlOiBwcm9wcy5ib290TW9kZSxcbiAgICAgICAgICAgIGltYWdlRmFtaWx5OiBwcm9wcy5pbWFnZUZhbWlseSxcbiAgICAgICAgICAgIGRpc2tEZXZpY2VNYXBwaW5nOiBwcm9wcy5kaXNrRGV2aWNlTWFwcGluZyxcbiAgICAgICAgICAgIGltYWdlTmFtZTogcHJvcHMuaW1hZ2VOYW1lLFxuICAgICAgICAgICAgc291cmNlUmVnaW9uSWQ6IHByb3BzLnNvdXJjZVJlZ2lvbklkLFxuICAgICAgICAgICAgc25hcHNob3RJZDogcHJvcHMuc25hcHNob3RJZCxcbiAgICAgICAgICAgIGltYWdlVmVyc2lvbjogcHJvcHMuaW1hZ2VWZXJzaW9uLFxuICAgICAgICAgICAgZmVhdHVyZXM6IHByb3BzLmZlYXR1cmVzLFxuICAgICAgICAgICAgdGFnOiBwcm9wcy50YWcsXG4gICAgICAgIH0sIGVuYWJsZVJlc291cmNlUHJvcGVydHlDb25zdHJhaW50ICYmIHRoaXMuc3RhY2suZW5hYmxlUmVzb3VyY2VQcm9wZXJ0eUNvbnN0cmFpbnQpO1xuICAgICAgICB0aGlzLnJlc291cmNlID0gcm9zQ3VzdG9tSW1hZ2U7XG4gICAgICAgIHRoaXMuYXR0ckltYWdlSWQgPSByb3NDdXN0b21JbWFnZS5hdHRySW1hZ2VJZDtcbiAgICAgICAgdGhpcy5hdHRyU291cmNlUmVnaW9uSWQgPSByb3NDdXN0b21JbWFnZS5hdHRyU291cmNlUmVnaW9uSWQ7XG4gICAgfVxufVxuIl19