"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Invocation = exports.InvocationProperty = void 0;
const ros = require("@alicloud/ros-cdk-core");
const ecs_generated_1 = require("./ecs.generated");
Object.defineProperty(exports, "InvocationProperty", { enumerable: true, get: function () { return ecs_generated_1.RosInvocation; } });
/**
 * This class encapsulates and extends the ROS resource type `ALIYUN::ECS::Invocation`, which is used to run a Cloud Assistant command on Elastic Compute Service (ECS) instances.
 * @Note This class may have some new functions to facilitate development, so it is recommended to use this class instead of `RosInvocation`for a more convenient development experience.
 * See https://www.alibabacloud.com/help/ros/developer-reference/aliyun-ecs-invocation
 */
class Invocation extends ros.Resource {
    /**
     * Param scope - scope in which this resource is defined
     * Param id    - scoped id of the resource
     * Param props - resource properties
     */
    constructor(scope, id, props, enableResourcePropertyConstraint = true) {
        super(scope, id);
        this.scope = scope;
        this.id = id;
        this.props = props;
        this.enableResourcePropertyConstraint = enableResourcePropertyConstraint;
        const rosInvocation = new ecs_generated_1.RosInvocation(this, id, {
            parameters: props.parameters,
            resourceGroupId: props.resourceGroupId,
            timeout: props.timeout,
            windowsPasswordName: props.windowsPasswordName,
            repeatMode: props.repeatMode,
            username: props.username,
            containerName: props.containerName,
            containerId: props.containerId,
            launcher: props.launcher,
            frequency: props.frequency,
            commandName: props.commandName,
            commandId: props.commandId,
            sync: props.sync === undefined || props.sync === null ? false : props.sync,
            instanceIds: props.instanceIds,
            tags: props.tags,
        }, enableResourcePropertyConstraint && this.stack.enableResourcePropertyConstraint);
        this.resource = rosInvocation;
        this.attrInvokeId = rosInvocation.attrInvokeId;
        this.attrInvokeInstances = rosInvocation.attrInvokeInstances;
        this.attrInvokeResults = rosInvocation.attrInvokeResults;
    }
}
exports.Invocation = Invocation;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW52b2NhdGlvbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImludm9jYXRpb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsOENBQThDO0FBQzlDLG1EQUFnRDtBQUV0QixtR0FGakIsNkJBQWEsT0FFc0I7QUF1STVDOzs7O0dBSUc7QUFDSCxNQUFhLFVBQVcsU0FBUSxHQUFHLENBQUMsUUFBUTtJQXFCeEM7Ozs7T0FJRztJQUNILFlBQVksS0FBb0IsRUFBRSxFQUFVLEVBQUUsS0FBc0IsRUFBRSxtQ0FBMkMsSUFBSTtRQUNqSCxLQUFLLENBQUMsS0FBSyxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBQ2pCLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBQ25CLElBQUksQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDO1FBQ2IsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7UUFDbkIsSUFBSSxDQUFDLGdDQUFnQyxHQUFHLGdDQUFnQyxDQUFDO1FBRXpFLE1BQU0sYUFBYSxHQUFHLElBQUksNkJBQWEsQ0FBQyxJQUFJLEVBQUUsRUFBRSxFQUFHO1lBQy9DLFVBQVUsRUFBRSxLQUFLLENBQUMsVUFBVTtZQUM1QixlQUFlLEVBQUUsS0FBSyxDQUFDLGVBQWU7WUFDdEMsT0FBTyxFQUFFLEtBQUssQ0FBQyxPQUFPO1lBQ3RCLG1CQUFtQixFQUFFLEtBQUssQ0FBQyxtQkFBbUI7WUFDOUMsVUFBVSxFQUFFLEtBQUssQ0FBQyxVQUFVO1lBQzVCLFFBQVEsRUFBRSxLQUFLLENBQUMsUUFBUTtZQUN4QixhQUFhLEVBQUUsS0FBSyxDQUFDLGFBQWE7WUFDbEMsV0FBVyxFQUFFLEtBQUssQ0FBQyxXQUFXO1lBQzlCLFFBQVEsRUFBRSxLQUFLLENBQUMsUUFBUTtZQUN4QixTQUFTLEVBQUUsS0FBSyxDQUFDLFNBQVM7WUFDMUIsV0FBVyxFQUFFLEtBQUssQ0FBQyxXQUFXO1lBQzlCLFNBQVMsRUFBRSxLQUFLLENBQUMsU0FBUztZQUMxQixJQUFJLEVBQUUsS0FBSyxDQUFDLElBQUksS0FBSyxTQUFTLElBQUksS0FBSyxDQUFDLElBQUksS0FBSyxJQUFJLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLElBQUk7WUFDMUUsV0FBVyxFQUFFLEtBQUssQ0FBQyxXQUFXO1lBQzlCLElBQUksRUFBRSxLQUFLLENBQUMsSUFBSTtTQUNuQixFQUFFLGdDQUFnQyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsZ0NBQWdDLENBQUMsQ0FBQztRQUNwRixJQUFJLENBQUMsUUFBUSxHQUFHLGFBQWEsQ0FBQztRQUM5QixJQUFJLENBQUMsWUFBWSxHQUFHLGFBQWEsQ0FBQyxZQUFZLENBQUM7UUFDL0MsSUFBSSxDQUFDLG1CQUFtQixHQUFHLGFBQWEsQ0FBQyxtQkFBbUIsQ0FBQztRQUM3RCxJQUFJLENBQUMsaUJBQWlCLEdBQUcsYUFBYSxDQUFDLGlCQUFpQixDQUFDO0lBQzdELENBQUM7Q0FDSjtBQXZERCxnQ0F1REMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyByb3MgZnJvbSAnQGFsaWNsb3VkL3Jvcy1jZGstY29yZSc7XG5pbXBvcnQgeyBSb3NJbnZvY2F0aW9uIH0gZnJvbSAnLi9lY3MuZ2VuZXJhdGVkJztcbi8vIEdlbmVyYXRlZCBmcm9tIHRoZSBBbGlDbG91ZCBST1MgUmVzb3VyY2UgU3BlY2lmaWNhdGlvblxuZXhwb3J0IHsgUm9zSW52b2NhdGlvbiBhcyBJbnZvY2F0aW9uUHJvcGVydHkgfTtcblxuLyoqXG4gKiBQcm9wZXJ0aWVzIGZvciBkZWZpbmluZyBhIGBJbnZvY2F0aW9uYC5cbiAqIFNlZSBodHRwczovL3d3dy5hbGliYWJhY2xvdWQuY29tL2hlbHAvcm9zL2RldmVsb3Blci1yZWZlcmVuY2UvYWxpeXVuLWVjcy1pbnZvY2F0aW9uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSW52b2NhdGlvblByb3BzIHtcblxuICAgIC8qKlxuICAgICAqIFByb3BlcnR5IGluc3RhbmNlSWRzOiBUaGUgaW5zdGFuY2UgaWQgbGlzdC4gSW5zdGFuY2VzIHN0YXR1cyBtdXN0IGJlIHJ1bm5pbmcuXG4gICAgICovXG4gICAgcmVhZG9ubHkgaW5zdGFuY2VJZHM6IEFycmF5PGFueSB8IHJvcy5JUmVzb2x2YWJsZT4gfCByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBQcm9wZXJ0eSBjb21tYW5kSWQ6IFRoZSBpZCBvZiBjb21tYW5kLlxuICAgICAqL1xuICAgIHJlYWRvbmx5IGNvbW1hbmRJZD86IHN0cmluZyB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIFByb3BlcnR5IGNvbW1hbmROYW1lOiBUaGUgbmFtZSBvZiBjb21tYW5kLiBPbmx5IHN5c3RlbSBjb21tYW5kcyB3aG9zZSBwcm92aWRlIGlzIEFsaWJhYmFDbG91ZCBhcmUgc3VwcG9ydGVkXG4gICAgICovXG4gICAgcmVhZG9ubHkgY29tbWFuZE5hbWU/OiBzdHJpbmcgfCByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBQcm9wZXJ0eSBjb250YWluZXJJZDogVGhlIElEIG9mIHRoZSBjb250YWluZXIuIE9ubHkgNjQtYml0IGhleGFkZWNpbWFsIHN0cmluZ3MgYXJlIHN1cHBvcnRlZC4gWW91IGNhbiB1c2UgY29udGFpbmVyIElEcyB0aGF0IGFyZSBwcmVmaXhlZCB3aXRoIGRvY2tlcjpcXC9cXC8sIGNvbnRhaW5lcmQ6XFwvXFwvLCBvciBjcmktbzpcXC9cXC8gdG8gc3BlY2lmeSBjb250YWluZXIgcnVudGltZXMuXG4gICAgICogVGFrZSBub3RlIG9mIHRoZSBmb2xsb3dpbmcgaXRlbXM6XG4gICAgICogLSBJZiB5b3Ugc3BlY2lmeSB0aGlzIHBhcmFtZXRlciwgQ2xvdWQgQXNzaXN0YW50IHJ1bnMgc2NyaXB0cyBpbiB0aGUgc3BlY2lmaWVkIGNvbnRhaW5lciBvZiB0aGUgaW5zdGFuY2UuXG4gICAgICogLSBJZiB5b3Ugc3BlY2lmeSB0aGlzIHBhcmFtZXRlciwgbWFrZSBzdXJlIHRoYXQgdGhlIHZlcnNpb24gb2YgQ2xvdWQgQXNzaXN0YW50IEFnZW50IGluc3RhbGxlZCBvbiBMaW51eCBpbnN0YW5jZXMgaXMgMi4yLjMuMzQ0IG9yIGxhdGVyLi0gSWYgeW91IHNwZWNpZnkgdGhpcyBwYXJhbWV0ZXIsIFVzZXJuYW1lIHRoYXQgaXMgc3BlY2lmaWVkIGluIGEgcmVxdWVzdCB0byBjYWxsIHRoaXMgb3BlcmF0aW9uIGFuZCBXb3JraW5nRGlyIHRoYXQgaXMgc3BlY2lmaWVkIGluIGEgcmVxdWVzdCB0byBjYWxsIHRoZSBDcmVhdGVDb21tYW5kIG9wZXJhdGlvbiBkbyBub3QgdGFrZSBlZmZlY3QuIFlvdSBjYW4gcnVuIHRoZSBjb21tYW5kIG9ubHkgaW4gdGhlIGRlZmF1bHQgd29ya2luZyBkaXJlY3Rvcnkgb2YgdGhlIGNvbnRhaW5lciBieSB1c2luZyB0aGUgZGVmYXVsdCB1c2VyIG9mIHRoZSBjb250YWluZXIuIFxuICAgICAqIC0gSWYgeW91IHNwZWNpZnkgdGhpcyBwYXJhbWV0ZXIsIG9ubHkgc2hlbGwgc2NyaXB0cyBjYW4gYmUgcnVuIGluIExpbnV4IGNvbnRhaW5lcnMuIFlvdSBjYW5ub3QgYWRkIGEgY29tbWFuZCBpbiB0aGUgZm9ybWF0IHNpbWlsYXIgdG8gIyFcXC91c3JcXC9iaW5cXC9weXRob24gYXQgdGhlIGJlZ2lubmluZyBvZiBhIHNjcmlwdCB0byBzcGVjaWZ5IGEgc2NyaXB0IGludGVycHJldGVyLlxuICAgICAqL1xuICAgIHJlYWRvbmx5IGNvbnRhaW5lcklkPzogc3RyaW5nIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogUHJvcGVydHkgY29udGFpbmVyTmFtZTogVGhlIG5hbWUgb2YgdGhlIGNvbnRhaW5lci5cbiAgICAgKiBUYWtlIG5vdGUgb2YgdGhlIGZvbGxvd2luZyBpdGVtczpcbiAgICAgKiAtIElmIHlvdSBzcGVjaWZ5IHRoaXMgcGFyYW1ldGVyLCBDbG91ZCBBc3Npc3RhbnQgcnVucyBzY3JpcHRzIGluIHRoZSBzcGVjaWZpZWQgY29udGFpbmVyIG9mIHRoZSBpbnN0YW5jZS5cbiAgICAgKiAtIElmIHlvdSBzcGVjaWZ5IHRoaXMgcGFyYW1ldGVyLCBtYWtlIHN1cmUgdGhhdCB0aGUgdmVyc2lvbiBvZiBDbG91ZCBBc3Npc3RhbnQgQWdlbnQgaW5zdGFsbGVkIG9uIExpbnV4IGluc3RhbmNlcyBpcyAyLjIuMy4zNDQgb3IgbGF0ZXIuXG4gICAgICogLSBJZiB5b3Ugc3BlY2lmeSB0aGlzIHBhcmFtZXRlciwgVXNlcm5hbWUgdGhhdCBpcyBzcGVjaWZpZWQgaW4gYSByZXF1ZXN0IHRvIGNhbGwgdGhpcyBvcGVyYXRpb24gYW5kIFdvcmtpbmdEaXIgdGhhdCBpcyBzcGVjaWZpZWQgaW4gYSByZXF1ZXN0IHRvIGNhbGwgdGhlIENyZWF0ZUNvbW1hbmQgb3BlcmF0aW9uIGRvIG5vdCB0YWtlIGVmZmVjdC4gWW91IGNhbiBydW4gdGhlIGNvbW1hbmQgb25seSBpbiB0aGUgZGVmYXVsdCB3b3JraW5nIGRpcmVjdG9yeSBvZiB0aGUgY29udGFpbmVyIGJ5IHVzaW5nIHRoZSBkZWZhdWx0IHVzZXIgb2YgdGhlIGNvbnRhaW5lci4gXG4gICAgICogLSBJZiB5b3Ugc3BlY2lmeSB0aGlzIHBhcmFtZXRlciwgb25seSBzaGVsbCBzY3JpcHRzIGNhbiBiZSBydW4gaW4gTGludXggY29udGFpbmVycy4gWW91IGNhbm5vdCBhZGQgYSBjb21tYW5kIGluIHRoZSBmb3JtYXQgc2ltaWxhciB0byAjIVxcL3VzclxcL2JpblxcL3B5dGhvbiBhdCB0aGUgYmVnaW5uaW5nIG9mIGEgc2NyaXB0IHRvIHNwZWNpZnkgYSBzY3JpcHQgaW50ZXJwcmV0ZXIuXG4gICAgICovXG4gICAgcmVhZG9ubHkgY29udGFpbmVyTmFtZT86IHN0cmluZyB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIFByb3BlcnR5IGZyZXF1ZW5jeTogVGhlIGZyZXF1ZW5jeSBvZiB0aW1pbmcgZXhlY3V0aW9uICh0aGUgc2hvcnRlc3QgZnJlcXVlbmN5IGlzIHBlcmZvcm1lZCBldmVyeSAxIG1pbnV0ZSkuIEl0IGlzcyBtYW5kYXRvcnkgd2hlbiBUaW1pbmcgaXMgVHJ1ZS5UaGUgdmFsdWUgcnVsZSBmb2xsb3dzIHRoZSBydWxlcyBvZiB0aGUgY3JvbiBleHByZXNzaW9uLlxuICAgICAqL1xuICAgIHJlYWRvbmx5IGZyZXF1ZW5jeT86IHN0cmluZyB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIFByb3BlcnR5IGxhdW5jaGVyOiBBIGJvb3Rsb2FkZXIgZm9yIHNjcmlwdCBleGVjdXRpb24uIFRoZSBsZW5ndGggY2Fubm90IGV4Y2VlZCAxIEtCLlxuICAgICAqL1xuICAgIHJlYWRvbmx5IGxhdW5jaGVyPzogc3RyaW5nIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogUHJvcGVydHkgcGFyYW1ldGVyczogVGhlIGtleS12YWx1ZSBwYWlycyBvZiBjdXN0b20gcGFyYW1ldGVycyBwYXNzZWQgaW4gd2hlbiB0aGUgc2NyaXB0IGNvbnRhaW5zIGN1c3RvbSBwYXJhbWV0ZXJzLlxuICAgICAqIE51bWJlciBvZiBjdXN0b20gcGFyYW1ldGVyczogMCB0byAxMC5cbiAgICAgKiBUaGUga2V5IGNhbm5vdCBiZSBhbiBlbXB0eSBzdHJpbmcuIEl0IGNhbiBiZSB1cCB0byA2NCBjaGFyYWN0ZXJzIGluIGxlbmd0aC5cbiAgICAgKiBUaGUgdmFsdWUgY2FuIGJlIGFuIGVtcHR5IHN0cmluZy5cbiAgICAgKiBBZnRlciB0aGUgY3VzdG9tIHBhcmFtZXRlcnMgYW5kIHRoZSBvcmlnaW5hbCBzY3JpcHQgY29udGVudCBhcmUgQmFzZTY0IGVuY29kZWQsIHRoZSB0b3RhbCBzaXplIGNhbm5vdCBleGNlZWQgMTYgS0IuXG4gICAgICogVGhlIHNldCBvZiBjdXN0b20gcGFyYW1ldGVyIG5hbWVzIG11c3QgYmUgYSBzdWJzZXQgb2YgdGhlIHBhcmFtZXRlciBzZXQgdGhhdCBpcyBkZWZpbmVkIHdoZW4geW91IGNyZWF0ZWQgdGhlIHNjcmlwdC4gWW91IGNhbiB1c2UgYW4gZW1wdHkgc3RyaW5nIHRvIHJlcHJlc2VudCB0aGUgcGFyYW1ldGVycyB0aGF0IGFyZSBub3QgcGFzc2VkIGluLlxuICAgICAqIERlZmF1bHQgdmFsdWU6IG51bGwsIGluZGljYXRpbmcgdGhhdCB0aGlzIHBhcmFtZXRlciBpcyBjYW5jZWxlZCBhbmQgY3VzdG9tZXIgcGFyYW1ldGVycyBhcmUgZGlzYWJsZWQuXG4gICAgICovXG4gICAgcmVhZG9ubHkgcGFyYW1ldGVycz86IHsgW2tleTogc3RyaW5nXTogKGFueSB8IHJvcy5JUmVzb2x2YWJsZSkgfSB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIFByb3BlcnR5IHJlcGVhdE1vZGU6IFNwZWNpZmllcyBob3cgdG8gcnVuIHRoZSBjb21tYW5kLiBWYWxpZCB2YWx1ZXM6XG4gICAgICogLSAqKk9uY2UqKjogaW1tZWRpYXRlbHkgcnVucyB0aGUgY29tbWFuZC5cbiAgICAgKiAtICoqUGVyaW9kKio6IHJ1bnMgdGhlIGNvbW1hbmQgb24gYSBzY2hlZHVsZS4gSWYgeW91IHNldCB0aGlzIHBhcmFtZXRlciB0byBQZXJpb2QsIHlvdSBtdXN0IHNwZWNpZnkgKipGcmVxdWVuY3kqKi5cbiAgICAgKiAtICoqTmV4dFJlYm9vdE9ubHkqKjogcnVucyB0aGUgY29tbWFuZCB0aGUgbmV4dCB0aW1lIHRoZSBpbnN0YW5jZSBpcyBzdGFydGVkLlxuICAgICAqIC0gKipFdmVyeVJlYm9vdCo6IHJ1bnMgdGhlIGNvbW1hbmQgZXZlcnkgdGltZSB0aGUgaW5zdGFuY2UgaXMgc3RhcnRlZC5cbiAgICAgKiBEZWZhdWx0IHZhbHVlOlxuICAgICAqIC0gSWYgeW91IGRvIG5vdCBzcGVjaWZ5IEZyZXF1ZW5jeSwgdGhlIGRlZmF1bHQgdmFsdWUgaXMgT25jZS5cbiAgICAgKiAtIElmIHlvdSBzcGVjaWZ5ICoqRnJlcXVlbmN5KiosICoqUGVyaW9kKiogaXMgdXNlZCBhcyB0aGUgdmFsdWUgb2YgUmVwZWF0TW9kZSByZWdhcmRsZXNzIG9mIHdoZXRoZXIgUmVwZWF0TW9kZSBpcyBzZXQgdG8gUGVyaW9kLlxuICAgICAqL1xuICAgIHJlYWRvbmx5IHJlcGVhdE1vZGU/OiBzdHJpbmcgfCByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBQcm9wZXJ0eSByZXNvdXJjZUdyb3VwSWQ6IFRoZSBJRCBvZiB0aGUgcmVzb3VyY2UgZ3JvdXAgdG8gd2hpY2ggdG8gYXNzaWduIHRoZSBjb21tYW5kIGV4ZWN1dGlvbnMuIFRoZSBpbnN0YW5jZXMgc3BlY2lmaWVkIGJ5IEluc3RhbmNlSWRzIG11c3QgYmVsb25nIHRvIHRoZSBzcGVjaWZpZWQgcmVzb3VyY2UgZ3JvdXAuXG4gICAgICovXG4gICAgcmVhZG9ubHkgcmVzb3VyY2VHcm91cElkPzogc3RyaW5nIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogUHJvcGVydHkgc3luYzogV2hldGhlciB0byBpbnZva2Ugc3luY2hyb25vdXNseS5cbiAgICAgKi9cbiAgICByZWFkb25seSBzeW5jPzogYm9vbGVhbiB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIFByb3BlcnR5IHRhZ3M6IFRhZ3MgdG8gYXR0YWNoIHRvIGludm9jYXRpb24uIE1heCBzdXBwb3J0IDIwIHRhZ3MgdG8gYWRkIGR1cmluZyBjcmVhdGUgaW52b2NhdGlvbi4gRWFjaCB0YWcgd2l0aCB0d28gcHJvcGVydGllcyBLZXkgYW5kIFZhbHVlLCBhbmQgS2V5IGlzIHJlcXVpcmVkLlxuICAgICAqL1xuICAgIHJlYWRvbmx5IHRhZ3M/OiBSb3NJbnZvY2F0aW9uLlRhZ3NQcm9wZXJ0eVtdO1xuXG4gICAgLyoqXG4gICAgICogUHJvcGVydHkgdGltZW91dDogVGhlIHRpbWVvdXQgcGVyaW9kIGZvciB0aGUgY29tbWFuZCBleGVjdXRpb24uIFVuaXQ6IHNlY29uZHMuXG4gICAgICogLSBUaGUgdGltZW91dCBwZXJpb2QgY2Fubm90IGJlIGxlc3MgdGhhbiAxMCBzZWNvbmRzLlxuICAgICAqIC0gQSB0aW1lb3V0IGVycm9yIG9jY3VycyBpZiB0aGUgY29tbWFuZCBjYW5ub3QgYmUgcnVuIGJlY2F1c2UgdGhlIHByb2Nlc3Mgc2xvd3MgZG93biBvciBiZWNhdXNlIGEgc3BlY2lmaWMgbW9kdWxlIG9yIENsb3VkIEFzc2lzdGFudCBBZ2VudCBkb2VzIG5vdCBleGlzdC4gV2hlbiB0aGUgc3BlY2lmaWVkIHRpbWVvdXQgcGVyaW9kIGVuZHMsIHRoZSBjb21tYW5kIHByb2Nlc3MgaXMgZm9yY2VmdWxseSB0ZXJtaW5hdGVkLlxuICAgICAqIC0gSWYgeW91IGRvIG5vdCBzcGVjaWZ5IHRoaXMgcGFyYW1ldGVyLCB0aGUgdGltZW91dCBwZXJpb2QgdGhhdCBpcyBzcGVjaWZpZWQgd2hlbiB0aGUgY29tbWFuZCBpcyBjcmVhdGVkIGlzIHVzZWQuXG4gICAgICogLSBUaGlzIHRpbWVvdXQgcGVyaW9kIGlzIGFwcGxpY2FibGUgb25seSB0byB0aGlzIGV4ZWN1dGlvbi4gVGhlIHRpbWVvdXQgcGVyaW9kIG9mIHRoZSBjb21tYW5kIGlzIG5vdCBtb2RpZmllZC5cbiAgICAgKi9cbiAgICByZWFkb25seSB0aW1lb3V0PzogbnVtYmVyIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogUHJvcGVydHkgdXNlcm5hbWU6IFRoZSB1c2VybmFtZSB0byB1c2UgdG8gcnVuIHRoZSBjb21tYW5kIG9uIGluc3RhbmNlcy4gVGhlIHVzZXJuYW1lIGNhbiBiZSB1cCB0byAyNTUgY2hhcmFjdGVycyBpbiBsZW5ndGguXG4gICAgICogLSBGb3IgTGludXggaW5zdGFuY2VzLCB0aGUgcm9vdCB1c2VybmFtZSBpcyB1c2VkIGJ5IGRlZmF1bHQuXG4gICAgICogLSBGb3IgV2luZG93cyBpbnN0YW5jZXMsIHRoZSBTeXN0ZW0gdXNlcm5hbWUgaXMgdXNlZCBieSBkZWZhdWx0LlxuICAgICAqIFlvdSBjYW4gYWxzbyBzcGVjaWZ5IG90aGVyIHVzZXJuYW1lcyB0aGF0IGFscmVhZHkgZXhpc3QgaW4gdGhlIGluc3RhbmNlcyB0byBydW4gdGhlIGNvbW1hbmQuIEZvciBzZWN1cml0eSBwdXJwb3Nlcywgd2UgcmVjb21tZW5kIHRoYXQgeW91IHJ1biBDbG91ZCBBc3Npc3RhbnQgY29tbWFuZHMgYXMgYSByZWd1bGFyIHVzZXIuXG4gICAgICovXG4gICAgcmVhZG9ubHkgdXNlcm5hbWU/OiBzdHJpbmcgfCByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBQcm9wZXJ0eSB3aW5kb3dzUGFzc3dvcmROYW1lOiBUaGUgbmFtZSBvZiB0aGUgcGFzc3dvcmQgdG8gdXNlIHRvIHJ1biB0aGUgY29tbWFuZCBvbiBXaW5kb3dzIGluc3RhbmNlcy4gVGhlIG5hbWUgY2FuIGJlIHVwIHRvIDI1NSBjaGFyYWN0ZXJzIGluIGxlbmd0aC5cbiAgICAgKiBJZiB5b3UgZG8gbm90IHdhbnQgdG8gdXNlIHRoZSBkZWZhdWx0IFN5c3RlbSB1c2VyIHRvIHJ1biB0aGUgY29tbWFuZCBvbiBXaW5kb3dzIGluc3RhbmNlcywgc3BlY2lmeSBib3RoICoqV2luZG93c1Bhc3N3b3JkTmFtZSoqIGFuZCAqKlVzZXJuYW1lKiouIFRvIG1pdGlnYXRlIHRoZSByaXNrIG9mIHBhc3N3b3JkIGxlYWtzLCB0aGUgcGFzc3dvcmQgaXMgc3RvcmVkIGluIHBsYWludGV4dCBpbiBPcGVyYXRpb24gT3JjaGVzdHJhdGlvbiBTZXJ2aWNlIChPT1MpIFBhcmFtZXRlciBTdG9yZSwgYW5kIG9ubHkgdGhlIG5hbWUgb2YgdGhlIHBhc3N3b3JkIGlzIHBhc3NlZCBpbiBieSB1c2luZyBXaW5kb3dzUGFzc3dvcmROYW1lLlxuICAgICAqL1xuICAgIHJlYWRvbmx5IHdpbmRvd3NQYXNzd29yZE5hbWU/OiBzdHJpbmcgfCByb3MuSVJlc29sdmFibGU7XG59XG5cbi8qKlxuICogUmVwcmVzZW50cyBhIGBJbnZvY2F0aW9uYC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJSW52b2NhdGlvbiBleHRlbmRzIHJvcy5JUmVzb3VyY2Uge1xuICAgIHJlYWRvbmx5IHByb3BzOiBJbnZvY2F0aW9uUHJvcHM7XG5cbiAgICAvKipcbiAgICAgKiBBdHRyaWJ1dGUgSW52b2tlSWQ6IFRoZSBpZCBvZiBjb21tYW5kIGV4ZWN1dGlvbi5cbiAgICAgKi9cbiAgICByZWFkb25seSBhdHRySW52b2tlSWQ6IHJvcy5JUmVzb2x2YWJsZSB8IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIEF0dHJpYnV0ZSBJbnZva2VJbnN0YW5jZXM6IFRoZSBJbnZva2VJbnN0YW5jZXMgb2YgY29tbWFuZC5cbiAgICAgKi9cbiAgICByZWFkb25seSBhdHRySW52b2tlSW5zdGFuY2VzOiByb3MuSVJlc29sdmFibGUgfCBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBBdHRyaWJ1dGUgSW52b2tlUmVzdWx0czogVGhlIHJlc3VsdHMgb2YgaW52b2tlIGNvbW1hbmQuXG4gICAgICovXG4gICAgcmVhZG9ubHkgYXR0ckludm9rZVJlc3VsdHM6IHJvcy5JUmVzb2x2YWJsZSB8IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBjbGFzcyBlbmNhcHN1bGF0ZXMgYW5kIGV4dGVuZHMgdGhlIFJPUyByZXNvdXJjZSB0eXBlIGBBTElZVU46OkVDUzo6SW52b2NhdGlvbmAsIHdoaWNoIGlzIHVzZWQgdG8gcnVuIGEgQ2xvdWQgQXNzaXN0YW50IGNvbW1hbmQgb24gRWxhc3RpYyBDb21wdXRlIFNlcnZpY2UgKEVDUykgaW5zdGFuY2VzLlxuICogQE5vdGUgVGhpcyBjbGFzcyBtYXkgaGF2ZSBzb21lIG5ldyBmdW5jdGlvbnMgdG8gZmFjaWxpdGF0ZSBkZXZlbG9wbWVudCwgc28gaXQgaXMgcmVjb21tZW5kZWQgdG8gdXNlIHRoaXMgY2xhc3MgaW5zdGVhZCBvZiBgUm9zSW52b2NhdGlvbmBmb3IgYSBtb3JlIGNvbnZlbmllbnQgZGV2ZWxvcG1lbnQgZXhwZXJpZW5jZS5cbiAqIFNlZSBodHRwczovL3d3dy5hbGliYWJhY2xvdWQuY29tL2hlbHAvcm9zL2RldmVsb3Blci1yZWZlcmVuY2UvYWxpeXVuLWVjcy1pbnZvY2F0aW9uXG4gKi9cbmV4cG9ydCBjbGFzcyBJbnZvY2F0aW9uIGV4dGVuZHMgcm9zLlJlc291cmNlIGltcGxlbWVudHMgSUludm9jYXRpb24ge1xuICAgIHByb3RlY3RlZCBzY29wZTogcm9zLkNvbnN0cnVjdDtcbiAgICBwcm90ZWN0ZWQgaWQ6IHN0cmluZztcbiAgICBwdWJsaWMgcmVhZG9ubHkgcHJvcHM6IEludm9jYXRpb25Qcm9wcztcbiAgICBwcm90ZWN0ZWQgZW5hYmxlUmVzb3VyY2VQcm9wZXJ0eUNvbnN0cmFpbnQ6IGJvb2xlYW47XG5cbiAgICAvKipcbiAgICAgKiBBdHRyaWJ1dGUgSW52b2tlSWQ6IFRoZSBpZCBvZiBjb21tYW5kIGV4ZWN1dGlvbi5cbiAgICAgKi9cbiAgICBwdWJsaWMgcmVhZG9ubHkgYXR0ckludm9rZUlkOiByb3MuSVJlc29sdmFibGUgfCBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBBdHRyaWJ1dGUgSW52b2tlSW5zdGFuY2VzOiBUaGUgSW52b2tlSW5zdGFuY2VzIG9mIGNvbW1hbmQuXG4gICAgICovXG4gICAgcHVibGljIHJlYWRvbmx5IGF0dHJJbnZva2VJbnN0YW5jZXM6IHJvcy5JUmVzb2x2YWJsZSB8IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIEF0dHJpYnV0ZSBJbnZva2VSZXN1bHRzOiBUaGUgcmVzdWx0cyBvZiBpbnZva2UgY29tbWFuZC5cbiAgICAgKi9cbiAgICBwdWJsaWMgcmVhZG9ubHkgYXR0ckludm9rZVJlc3VsdHM6IHJvcy5JUmVzb2x2YWJsZSB8IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFBhcmFtIHNjb3BlIC0gc2NvcGUgaW4gd2hpY2ggdGhpcyByZXNvdXJjZSBpcyBkZWZpbmVkXG4gICAgICogUGFyYW0gaWQgICAgLSBzY29wZWQgaWQgb2YgdGhlIHJlc291cmNlXG4gICAgICogUGFyYW0gcHJvcHMgLSByZXNvdXJjZSBwcm9wZXJ0aWVzXG4gICAgICovXG4gICAgY29uc3RydWN0b3Ioc2NvcGU6IHJvcy5Db25zdHJ1Y3QsIGlkOiBzdHJpbmcsIHByb3BzOiBJbnZvY2F0aW9uUHJvcHMsIGVuYWJsZVJlc291cmNlUHJvcGVydHlDb25zdHJhaW50OmJvb2xlYW4gPSB0cnVlKSB7XG4gICAgICAgIHN1cGVyKHNjb3BlLCBpZCk7XG4gICAgICAgIHRoaXMuc2NvcGUgPSBzY29wZTtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLnByb3BzID0gcHJvcHM7XG4gICAgICAgIHRoaXMuZW5hYmxlUmVzb3VyY2VQcm9wZXJ0eUNvbnN0cmFpbnQgPSBlbmFibGVSZXNvdXJjZVByb3BlcnR5Q29uc3RyYWludDtcblxuICAgICAgICBjb25zdCByb3NJbnZvY2F0aW9uID0gbmV3IFJvc0ludm9jYXRpb24odGhpcywgaWQsICB7XG4gICAgICAgICAgICBwYXJhbWV0ZXJzOiBwcm9wcy5wYXJhbWV0ZXJzLFxuICAgICAgICAgICAgcmVzb3VyY2VHcm91cElkOiBwcm9wcy5yZXNvdXJjZUdyb3VwSWQsXG4gICAgICAgICAgICB0aW1lb3V0OiBwcm9wcy50aW1lb3V0LFxuICAgICAgICAgICAgd2luZG93c1Bhc3N3b3JkTmFtZTogcHJvcHMud2luZG93c1Bhc3N3b3JkTmFtZSxcbiAgICAgICAgICAgIHJlcGVhdE1vZGU6IHByb3BzLnJlcGVhdE1vZGUsXG4gICAgICAgICAgICB1c2VybmFtZTogcHJvcHMudXNlcm5hbWUsXG4gICAgICAgICAgICBjb250YWluZXJOYW1lOiBwcm9wcy5jb250YWluZXJOYW1lLFxuICAgICAgICAgICAgY29udGFpbmVySWQ6IHByb3BzLmNvbnRhaW5lcklkLFxuICAgICAgICAgICAgbGF1bmNoZXI6IHByb3BzLmxhdW5jaGVyLFxuICAgICAgICAgICAgZnJlcXVlbmN5OiBwcm9wcy5mcmVxdWVuY3ksXG4gICAgICAgICAgICBjb21tYW5kTmFtZTogcHJvcHMuY29tbWFuZE5hbWUsXG4gICAgICAgICAgICBjb21tYW5kSWQ6IHByb3BzLmNvbW1hbmRJZCxcbiAgICAgICAgICAgIHN5bmM6IHByb3BzLnN5bmMgPT09IHVuZGVmaW5lZCB8fCBwcm9wcy5zeW5jID09PSBudWxsID8gZmFsc2UgOiBwcm9wcy5zeW5jLFxuICAgICAgICAgICAgaW5zdGFuY2VJZHM6IHByb3BzLmluc3RhbmNlSWRzLFxuICAgICAgICAgICAgdGFnczogcHJvcHMudGFncyxcbiAgICAgICAgfSwgZW5hYmxlUmVzb3VyY2VQcm9wZXJ0eUNvbnN0cmFpbnQgJiYgdGhpcy5zdGFjay5lbmFibGVSZXNvdXJjZVByb3BlcnR5Q29uc3RyYWludCk7XG4gICAgICAgIHRoaXMucmVzb3VyY2UgPSByb3NJbnZvY2F0aW9uO1xuICAgICAgICB0aGlzLmF0dHJJbnZva2VJZCA9IHJvc0ludm9jYXRpb24uYXR0ckludm9rZUlkO1xuICAgICAgICB0aGlzLmF0dHJJbnZva2VJbnN0YW5jZXMgPSByb3NJbnZvY2F0aW9uLmF0dHJJbnZva2VJbnN0YW5jZXM7XG4gICAgICAgIHRoaXMuYXR0ckludm9rZVJlc3VsdHMgPSByb3NJbnZvY2F0aW9uLmF0dHJJbnZva2VSZXN1bHRzO1xuICAgIH1cbn1cbiJdfQ==