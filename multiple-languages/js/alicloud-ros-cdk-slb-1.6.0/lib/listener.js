"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Listener = exports.ListenerProperty = void 0;
const ros = require("@alicloud/ros-cdk-core");
const slb_generated_1 = require("./slb.generated");
Object.defineProperty(exports, "ListenerProperty", { enumerable: true, get: function () { return slb_generated_1.RosListener; } });
/**
 * This class encapsulates and extends the ROS resource type `ALIYUN::SLB::Listener`, which is used to create a Server Load Balancer (SLB) listener.
 * @Note This class may have some new functions to facilitate development, so it is recommended to use this class instead of `RosListener`for a more convenient development experience.
 * See https://www.alibabacloud.com/help/ros/developer-reference/aliyun-slb-listener
 */
class Listener extends ros.Resource {
    /**
     * Param scope - scope in which this resource is defined
     * Param id    - scoped id of the resource
     * Param props - resource properties
     */
    constructor(scope, id, props, enableResourcePropertyConstraint = true) {
        super(scope, id);
        this.scope = scope;
        this.id = id;
        this.props = props;
        this.enableResourcePropertyConstraint = enableResourcePropertyConstraint;
        const rosListener = new slb_generated_1.RosListener(this, id, {
            vServerGroupId: props.vServerGroupId,
            description: props.description,
            proxyProtocolV2Enabled: props.proxyProtocolV2Enabled,
            scheduler: props.scheduler === undefined || props.scheduler === null ? 'wrr' : props.scheduler,
            healthCheck: props.healthCheck,
            idleTimeout: props.idleTimeout,
            loadBalancerId: props.loadBalancerId,
            backendServerPort: props.backendServerPort,
            connectionDrainTimeout: props.connectionDrainTimeout,
            bandwidth: props.bandwidth,
            gzip: props.gzip,
            serverCertificateId: props.serverCertificateId,
            httpConfig: props.httpConfig,
            protocol: props.protocol,
            tags: props.tags,
            requestTimeout: props.requestTimeout,
            listenerPort: props.listenerPort,
            tlsCipherPolicy: props.tlsCipherPolicy,
            caCertificateId: props.caCertificateId,
            aclId: props.aclId,
            connectionDrain: props.connectionDrain,
            persistence: props.persistence,
            portRange: props.portRange,
            aclStatus: props.aclStatus === undefined || props.aclStatus === null ? 'off' : props.aclStatus,
            masterSlaveServerGroupId: props.masterSlaveServerGroupId,
            startListener: props.startListener === undefined || props.startListener === null ? true : props.startListener,
            aclType: props.aclType,
            fullNatEnabled: props.fullNatEnabled,
            enableHttp2: props.enableHttp2,
            aclIds: props.aclIds,
        }, enableResourcePropertyConstraint && this.stack.enableResourcePropertyConstraint);
        this.resource = rosListener;
        this.attrListenerPortsAndProtocol = rosListener.attrListenerPortsAndProtocol;
        this.attrLoadBalancerId = rosListener.attrLoadBalancerId;
    }
}
exports.Listener = Listener;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGlzdGVuZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJsaXN0ZW5lci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSw4Q0FBOEM7QUFDOUMsbURBQThDO0FBRXRCLGlHQUZmLDJCQUFXLE9BRW9CO0FBMk14Qzs7OztHQUlHO0FBQ0gsTUFBYSxRQUFTLFNBQVEsR0FBRyxDQUFDLFFBQVE7SUFnQnRDOzs7O09BSUc7SUFDSCxZQUFZLEtBQW9CLEVBQUUsRUFBVSxFQUFFLEtBQW9CLEVBQUUsbUNBQTJDLElBQUk7UUFDL0csS0FBSyxDQUFDLEtBQUssRUFBRSxFQUFFLENBQUMsQ0FBQztRQUNqQixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUNuQixJQUFJLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQztRQUNiLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBQ25CLElBQUksQ0FBQyxnQ0FBZ0MsR0FBRyxnQ0FBZ0MsQ0FBQztRQUV6RSxNQUFNLFdBQVcsR0FBRyxJQUFJLDJCQUFXLENBQUMsSUFBSSxFQUFFLEVBQUUsRUFBRztZQUMzQyxjQUFjLEVBQUUsS0FBSyxDQUFDLGNBQWM7WUFDcEMsV0FBVyxFQUFFLEtBQUssQ0FBQyxXQUFXO1lBQzlCLHNCQUFzQixFQUFFLEtBQUssQ0FBQyxzQkFBc0I7WUFDcEQsU0FBUyxFQUFFLEtBQUssQ0FBQyxTQUFTLEtBQUssU0FBUyxJQUFJLEtBQUssQ0FBQyxTQUFTLEtBQUssSUFBSSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxTQUFTO1lBQzlGLFdBQVcsRUFBRSxLQUFLLENBQUMsV0FBVztZQUM5QixXQUFXLEVBQUUsS0FBSyxDQUFDLFdBQVc7WUFDOUIsY0FBYyxFQUFFLEtBQUssQ0FBQyxjQUFjO1lBQ3BDLGlCQUFpQixFQUFFLEtBQUssQ0FBQyxpQkFBaUI7WUFDMUMsc0JBQXNCLEVBQUUsS0FBSyxDQUFDLHNCQUFzQjtZQUNwRCxTQUFTLEVBQUUsS0FBSyxDQUFDLFNBQVM7WUFDMUIsSUFBSSxFQUFFLEtBQUssQ0FBQyxJQUFJO1lBQ2hCLG1CQUFtQixFQUFFLEtBQUssQ0FBQyxtQkFBbUI7WUFDOUMsVUFBVSxFQUFFLEtBQUssQ0FBQyxVQUFVO1lBQzVCLFFBQVEsRUFBRSxLQUFLLENBQUMsUUFBUTtZQUN4QixJQUFJLEVBQUUsS0FBSyxDQUFDLElBQUk7WUFDaEIsY0FBYyxFQUFFLEtBQUssQ0FBQyxjQUFjO1lBQ3BDLFlBQVksRUFBRSxLQUFLLENBQUMsWUFBWTtZQUNoQyxlQUFlLEVBQUUsS0FBSyxDQUFDLGVBQWU7WUFDdEMsZUFBZSxFQUFFLEtBQUssQ0FBQyxlQUFlO1lBQ3RDLEtBQUssRUFBRSxLQUFLLENBQUMsS0FBSztZQUNsQixlQUFlLEVBQUUsS0FBSyxDQUFDLGVBQWU7WUFDdEMsV0FBVyxFQUFFLEtBQUssQ0FBQyxXQUFXO1lBQzlCLFNBQVMsRUFBRSxLQUFLLENBQUMsU0FBUztZQUMxQixTQUFTLEVBQUUsS0FBSyxDQUFDLFNBQVMsS0FBSyxTQUFTLElBQUksS0FBSyxDQUFDLFNBQVMsS0FBSyxJQUFJLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLFNBQVM7WUFDOUYsd0JBQXdCLEVBQUUsS0FBSyxDQUFDLHdCQUF3QjtZQUN4RCxhQUFhLEVBQUUsS0FBSyxDQUFDLGFBQWEsS0FBSyxTQUFTLElBQUksS0FBSyxDQUFDLGFBQWEsS0FBSyxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLGFBQWE7WUFDN0csT0FBTyxFQUFFLEtBQUssQ0FBQyxPQUFPO1lBQ3RCLGNBQWMsRUFBRSxLQUFLLENBQUMsY0FBYztZQUNwQyxXQUFXLEVBQUUsS0FBSyxDQUFDLFdBQVc7WUFDOUIsTUFBTSxFQUFFLEtBQUssQ0FBQyxNQUFNO1NBQ3ZCLEVBQUUsZ0NBQWdDLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxnQ0FBZ0MsQ0FBQyxDQUFDO1FBQ3BGLElBQUksQ0FBQyxRQUFRLEdBQUcsV0FBVyxDQUFDO1FBQzVCLElBQUksQ0FBQyw0QkFBNEIsR0FBRyxXQUFXLENBQUMsNEJBQTRCLENBQUM7UUFDN0UsSUFBSSxDQUFDLGtCQUFrQixHQUFHLFdBQVcsQ0FBQyxrQkFBa0IsQ0FBQztJQUM3RCxDQUFDO0NBQ0o7QUFoRUQsNEJBZ0VDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgcm9zIGZyb20gJ0BhbGljbG91ZC9yb3MtY2RrLWNvcmUnO1xuaW1wb3J0IHsgUm9zTGlzdGVuZXIgfSBmcm9tICcuL3NsYi5nZW5lcmF0ZWQnO1xuLy8gR2VuZXJhdGVkIGZyb20gdGhlIEFsaUNsb3VkIFJPUyBSZXNvdXJjZSBTcGVjaWZpY2F0aW9uXG5leHBvcnQgeyBSb3NMaXN0ZW5lciBhcyBMaXN0ZW5lclByb3BlcnR5IH07XG5cbi8qKlxuICogUHJvcGVydGllcyBmb3IgZGVmaW5pbmcgYSBgTGlzdGVuZXJgLlxuICogU2VlIGh0dHBzOi8vd3d3LmFsaWJhYmFjbG91ZC5jb20vaGVscC9yb3MvZGV2ZWxvcGVyLXJlZmVyZW5jZS9hbGl5dW4tc2xiLWxpc3RlbmVyXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTGlzdGVuZXJQcm9wcyB7XG5cbiAgICAvKipcbiAgICAgKiBQcm9wZXJ0eSBiYW5kd2lkdGg6IFRoZSBiYW5kd2lkdGggb2YgbmV0d29yaywgdW5pdCBpbiBNYnBzKE1pbGxpb24gYml0cyBwZXIgc2Vjb25kKS4gSWYgdGhlIHNwZWNpZmllZCBsb2FkIGJhbGFuY2VyIHdpdGggXCJMT0FEX0JBTEFOQ0VfSURcIiBpcyBjaGFyZ2VkIGJ5IFwicGF5YnliYW5kd2lkdGhcIiBhbmQgaXMgY3JlYXRlZCBpbiBjbGFzc2ljIG5ldHdvcmssIGVhY2ggTGlzdGVuZXIncyBiYW5kd2lkdGggbXVzdCBiZSBncmVhdGVyIHRoYW4gMCBhbmQgdGhlIHN1bSBvZiBhbGwgb2YgaXRzIExpc3RlbmVycycgYmFuZHdpZHRoIGNhbid0IGJlIGdyZWF0ZXIgdGhhbiB0aGUgYmFuZHdpZHRoIG9mIHRoZSBsb2FkIGJhbGFuY2VyLlxuICAgICAqL1xuICAgIHJlYWRvbmx5IGJhbmR3aWR0aDogbnVtYmVyIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogUHJvcGVydHkgbGlzdGVuZXJQb3J0OiBQb3J0IGZvciBmcm9udCBsaXN0ZW5lci4gUmFuZ2UgZnJvbSAwIHRvIDY1NTM1LlxuICAgICAqL1xuICAgIHJlYWRvbmx5IGxpc3RlbmVyUG9ydDogbnVtYmVyIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogUHJvcGVydHkgbG9hZEJhbGFuY2VySWQ6IFRoZSBpZCBvZiBsb2FkIGJhbGFuY2VyIHRvIGNyZWF0ZSBsaXN0ZW5lci5cbiAgICAgKi9cbiAgICByZWFkb25seSBsb2FkQmFsYW5jZXJJZDogc3RyaW5nIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogUHJvcGVydHkgcHJvdG9jb2w6IFRoZSBsb2FkIGJhbGFuY2VyIHRyYW5zcG9ydCBwcm90b2NvbCB0byB1c2UgZm9yIHJvdXRpbmc6IGh0dHAsIGh0dHBzLCB0Y3AsIG9yIHVkcC5cbiAgICAgKi9cbiAgICByZWFkb25seSBwcm90b2NvbDogc3RyaW5nIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogUHJvcGVydHkgYWNsSWQ6IFRoZSBJRCBvZiB0aGUgYWNjZXNzIGNvbnRyb2wgYXNzb2NpYXRlZCB3aXRoIHRoZSBsaXN0ZW5lciB0byBiZSBjcmVhdGVkLlxuICAgICAqIElmIHRoZSB2YWx1ZSBvZiB0aGUgQWNsU3RhdHVzIHBhcmFtZXRlciBpcyBvbiwgdGhpcyBwYXJhbWV0ZXIgaXMgcmVxdWlyZWQuXG4gICAgICovXG4gICAgcmVhZG9ubHkgYWNsSWQ/OiBzdHJpbmcgfCByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBQcm9wZXJ0eSBhY2xJZHM6IFRoZSBJRCBsaXN0IG9mIHRoZSBhY2Nlc3MgY29udHJvbHMgYXNzb2NpYXRlZCB3aXRoIHRoZSBsaXN0ZW5lciB0byBiZSBjcmVhdGVkLlxuICAgICAqIElmIHRoZSB2YWx1ZSBvZiB0aGUgQWNsU3RhdHVzIHBhcmFtZXRlciBpcyBvbiwgdGhpcyBwYXJhbWV0ZXIgaXMgcmVxdWlyZWQuQWNsSWRzIGhhdmUgaGlnaGVyIHByaW9yaXR5IHRoYW4gQWNsSWQuXG4gICAgICovXG4gICAgcmVhZG9ubHkgYWNsSWRzPzogQXJyYXk8c3RyaW5nIHwgcm9zLklSZXNvbHZhYmxlPiB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIFByb3BlcnR5IGFjbFN0YXR1czogSW5kaWNhdGVzIHdoZXRoZXIgdG8gZW5hYmxlIGFjY2VzcyBjb250cm9sLlxuICAgICAqIFZhbGlkIHZhbHVlczogb24gfCBvZmYuIERlZmF1bHQgdmFsdWU6IG9mZlxuICAgICAqL1xuICAgIHJlYWRvbmx5IGFjbFN0YXR1cz86IHN0cmluZyB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIFByb3BlcnR5IGFjbFR5cGU6IFRoZSBhY2Nlc3MgY29udHJvbCB0eXBlOlxuICAgICAqICogd2hpdGU6IEluZGljYXRlcyBhIHdoaXRlbGlzdC4gT25seSByZXF1ZXN0cyBmcm9tIElQIGFkZHJlc3NlcyBvciBDSURSIGJsb2NrcyBpbiB0aGUgc2VsZWN0ZWQgYWNjZXNzIGNvbnRyb2wgbGlzdHMgYXJlIGZvcndhcmRlZC4gVGhpcyBhcHBsaWVzIHRvIHNjZW5hcmlvcyBpbiB3aGljaCBhbiBhcHBsaWNhdGlvbiBvbmx5IGFsbG93cyBhY2Nlc3MgZnJvbSBzcGVjaWZpYyBJUCBhZGRyZXNzZXMuXG4gICAgICogRW5hYmxpbmcgYSB3aGl0ZWxpc3QgcG9zZXMgc29tZSByaXNrcyB0byB5b3VyIHNlcnZpY2VzLlxuICAgICAqIEFmdGVyIGEgd2hpdGVsaXN0IGlzIGVuYWJsZWQsIG9ubHkgdGhlIElQIGFkZHJlc3NlcyBpbiB0aGUgbGlzdCBjYW4gYWNjZXNzIHRoZSBsaXN0ZW5lci5cbiAgICAgKiBJZiB5b3UgZW5hYmxlIGEgd2hpdGVsaXN0IHdpdGhvdXQgYWRkaW5nIGFueSBJUCBhZGRyZXNzZXMgaW4gdGhlIGxpc3QsIG5vIHJlcXVlc3RzIGFyZSBmb3J3YXJkZWQuXG4gICAgICogKiBibGFjazogSW5kaWNhdGVzIGEgYmxhY2tsaXN0LiBSZXF1ZXN0cyBmcm9tIElQIGFkZHJlc3NlcyBvciBDSURSIGJsb2NrcyBpbiB0aGUgc2VsZWN0ZWQgYWNjZXNzIGNvbnRyb2wgbGlzdHMgYXJlIG5vdCBmb3J3YXJkZWQgKHRoYXQgaXMsIHRoZXkgYXJlIGJsb2NrZWQpLiBUaGlzIGFwcGxpZXMgdG8gc2NlbmFyaW9zIGluIHdoaWNoIGFuIGFwcGxpY2F0aW9uIG9ubHkgZGVuaWVzIGFjY2VzcyBmcm9tIHNwZWNpZmljIElQIGFkZHJlc3Nlcy5cbiAgICAgKiBJZiB5b3UgZW5hYmxlIGEgYmxhY2tsaXN0IHdpdGhvdXQgYWRkaW5nIGFueSBJUCBhZGRyZXNzZXMgaW4gdGhlIGxpc3QsIGFsbCByZXF1ZXN0cyBhcmUgZm9yd2FyZGVkLlxuICAgICAqIFxuICAgICAqIElmIHRoZSB2YWx1ZSBvZiB0aGUgQWNsU3RhdHVzIHBhcmFtZXRlciBpcyBvbiwgdGhpcyBwYXJhbWV0ZXIgaXMgcmVxdWlyZWQuXG4gICAgICovXG4gICAgcmVhZG9ubHkgYWNsVHlwZT86IHN0cmluZyB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIFByb3BlcnR5IGJhY2tlbmRTZXJ2ZXJQb3J0OiBCYWNrZW5kIHNlcnZlciBjYW4gbGlzdGVuIG9uIHBvcnRzIGZyb20gMCB0byA2NTUzNS5cbiAgICAgKi9cbiAgICByZWFkb25seSBiYWNrZW5kU2VydmVyUG9ydD86IG51bWJlciB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIFByb3BlcnR5IGNhQ2VydGlmaWNhdGVJZDogQ0Egc2VydmVyIGNlcnRpZmljYXRlIGlkLCBmb3IgaHR0cHMgbGlzdGVuZXIgb25seS5cbiAgICAgKi9cbiAgICByZWFkb25seSBjYUNlcnRpZmljYXRlSWQ/OiBzdHJpbmcgfCByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBQcm9wZXJ0eSBjb25uZWN0aW9uRHJhaW46IFdoZXRoZXIgdG8gZW5hYmxlIGdyYWNlZnVsIGNvbm5lY3Rpb24gaW50ZXJydXB0aW9uLiBWYWx1ZTpvbjogdHVybiBvblxuICAgICAqIG9mZjogTm90IHR1cm5lZCBvblxuICAgICAqIE5vdGU6IE9ubHkgZWZmZWN0aXZlIFRDUCBsaXN0ZW5lci5cbiAgICAgKi9cbiAgICByZWFkb25seSBjb25uZWN0aW9uRHJhaW4/OiBzdHJpbmcgfCByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBQcm9wZXJ0eSBjb25uZWN0aW9uRHJhaW5UaW1lb3V0OiBTZXQgdGhlIGNvbm5lY3Rpb24gZ3JhY2VmdWwgaW50ZXJydXB0aW9uIHRpbWVvdXQuIFVuaXQ6IHNlY29uZHMuIFZhbHVlIHJhbmdlOiAxMC05MDAuXG4gICAgICogTm90ZTogT25seSBlZmZlY3RpdmUgZm9yIFRDUCBsaXN0ZW5lci4gV2hlbiBDb25uZWN0aW9uRHJhaW4gaXMgb24sIHRoaXMgb3B0aW9uIGlzIHJlcXVpcmVkLlxuICAgICAqL1xuICAgIHJlYWRvbmx5IGNvbm5lY3Rpb25EcmFpblRpbWVvdXQ/OiBudW1iZXIgfCByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBQcm9wZXJ0eSBkZXNjcmlwdGlvbjogVGhlIGRlc2NyaXB0aW9uIG9mIHRoZSBsaXN0ZW5lci5JdCBtdXN0IGJlIDEgdG8gODAgY2hhcmFjdGVycyBpbiBsZW5ndGggYW5kIGNhbiBjb250YWluIGxldHRlcnMsIGRpZ2l0cywgaHlwaGVucyAoLSksIGZvcndhcmQgc2xhc2hlcyAoXFwvKSwgcGVyaW9kcyAoLiksIGFuZCB1bmRlcnNjb3JlcyAoXykuIENoaW5lc2UgY2hhcmFjdGVycyBhcmUgc3VwcG9ydGVkLlxuICAgICAqL1xuICAgIHJlYWRvbmx5IGRlc2NyaXB0aW9uPzogc3RyaW5nIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogUHJvcGVydHkgZW5hYmxlSHR0cDI6IFNwZWNpZmllcyB3aGV0aGVyIHRvIHVzZSBIVFRQXFwvMi4gSXQgdGFrZXMgZWZmZWN0IHdoZW4gUHJvdG9jb2w9aHR0cHMuIFZhbGlkIHZhbHVlczpcbiAgICAgKiBvbjogeWVzXG4gICAgICogb2ZmOiBub1xuICAgICAqL1xuICAgIHJlYWRvbmx5IGVuYWJsZUh0dHAyPzogc3RyaW5nIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogUHJvcGVydHkgZnVsbE5hdEVuYWJsZWQ6IFdoZW4gRnVsbCBOQVQgbW9kZSBpcyBlbmFibGVkLCBpdCBjYW4gc3VwcG9ydCB0aGUgYmFja2VuZCBzZXJ2ZXJzIGFzIGNsaWVudHMgZm9yIGFjY2Vzcy4gRGVmYXVsdCB2YWx1ZSBpcyBmYWxzZS5cbiAgICAgKiBOb3RlOiBPbmx5IGVmZmVjdGl2ZSBmb3IgVENQIG9yIFVEUCBsaXN0ZW5lci5cbiAgICAgKi9cbiAgICByZWFkb25seSBmdWxsTmF0RW5hYmxlZD86IGJvb2xlYW4gfCByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBQcm9wZXJ0eSBnemlwOiBTcGVjaWZpZXMgd2hldGhlciB0byBlbmFibGUgR3ppcCBjb21wcmVzc2lvbiB0byBjb21wcmVzcyBzcGVjaWZpYyB0eXBlcyBvZiBmaWxlcy4gVmFsaWQgdmFsdWVzOlxuICAgICAqIG9uIChkZWZhdWx0KTogeWVzXG4gICAgICogb2ZmOiBub1xuICAgICAqL1xuICAgIHJlYWRvbmx5IGd6aXA/OiBzdHJpbmcgfCByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBQcm9wZXJ0eSBoZWFsdGhDaGVjazogVGhlIHByb3BlcnRpZXMgb2YgaGVhbHRoIGNoZWNraW5nIHNldHRpbmcuXG4gICAgICovXG4gICAgcmVhZG9ubHkgaGVhbHRoQ2hlY2s/OiBSb3NMaXN0ZW5lci5IZWFsdGhDaGVja1Byb3BlcnR5IHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogUHJvcGVydHkgaHR0cENvbmZpZzogQ29uZmlnIGZvciBodHRwIHByb3RvY29sLlxuICAgICAqL1xuICAgIHJlYWRvbmx5IGh0dHBDb25maWc/OiBSb3NMaXN0ZW5lci5IdHRwQ29uZmlnUHJvcGVydHkgfCByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBQcm9wZXJ0eSBpZGxlVGltZW91dDogU3BlY2lmeSB0aGUgaWRsZSBjb25uZWN0aW9uIHRpbWVvdXQgaW4gc2Vjb25kcy4gVmFsaWQgdmFsdWU6IDEtNjAgSWYgbm8gcmVxdWVzdCBpcyByZWNlaXZlZCBkdXJpbmcgdGhlIHNwZWNpZmllZCB0aW1lb3V0IHBlcmlvZCwgU2VydmVyIExvYWQgQmFsYW5jZXIgd2lsbCB0ZW1wb3JhcmlseSB0ZXJtaW5hdGUgdGhlIGNvbm5lY3Rpb24gYW5kIHJlc3RhcnQgdGhlIGNvbm5lY3Rpb24gd2hlbiB0aGUgbmV4dCByZXF1ZXN0IGNvbWVzLlxuICAgICAqL1xuICAgIHJlYWRvbmx5IGlkbGVUaW1lb3V0PzogbnVtYmVyIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogUHJvcGVydHkgbWFzdGVyU2xhdmVTZXJ2ZXJHcm91cElkOiBUaGUgaWQgb2YgdGhlIE1hc3RlclNsYXZlU2VydmVyR3JvdXAgd2hpY2ggdXNlIGluIGxpc3RlbmVyLlxuICAgICAqL1xuICAgIHJlYWRvbmx5IG1hc3RlclNsYXZlU2VydmVyR3JvdXBJZD86IHN0cmluZyB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIFByb3BlcnR5IHBlcnNpc3RlbmNlOiBUaGUgcHJvcGVydGllcyBvZiBwZXJzaXN0ZW5jZS5cbiAgICAgKi9cbiAgICByZWFkb25seSBwZXJzaXN0ZW5jZT86IFJvc0xpc3RlbmVyLlBlcnNpc3RlbmNlUHJvcGVydHkgfCByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBQcm9wZXJ0eSBwb3J0UmFuZ2U6IFBvcnQgcmFuZ2UsIG9ubHkgc3VwcG9ydHMgVENQIG9yIFVEUCBsaXN0ZW5lci4gTGlzdGVuZXJQb3J0IHNob3VsZCBiZSAwIHdoZW4gUG9ydFJhbmdlIGlzIHNwZWNpZmllZC5cbiAgICAgKi9cbiAgICByZWFkb25seSBwb3J0UmFuZ2U/OiBBcnJheTxSb3NMaXN0ZW5lci5Qb3J0UmFuZ2VQcm9wZXJ0eSB8IHJvcy5JUmVzb2x2YWJsZT4gfCByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBQcm9wZXJ0eSBwcm94eVByb3RvY29sVjJFbmFibGVkOiBXaGV0aGVyIHRvIHN1cHBvcnQgY2FycnlpbmcgdGhlIGNsaWVudCBzb3VyY2UgYWRkcmVzcyB0byB0aGUgYmFja2VuZCBzZXJ2ZXIgdGhyb3VnaCB0aGUgUHJveHkgUHJvdG9jb2wuIFZhbHVlOlxuICAgICAqIHRydWU6IFllc1xuICAgICAqIGZhbHNlIChkZWZhdWx0KTogTm9cbiAgICAgKiBOb3RlOiBPbmx5IGVmZmVjdGl2ZSBUQ1Agb3IgVURQIGxpc3RlbmVyLlxuICAgICAqL1xuICAgIHJlYWRvbmx5IHByb3h5UHJvdG9jb2xWMkVuYWJsZWQ/OiBib29sZWFuIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogUHJvcGVydHkgcmVxdWVzdFRpbWVvdXQ6IFNwZWNpZnkgdGhlIHJlcXVlc3QgdGltZW91dCBpbiBzZWNvbmRzLiBWYWxpZCB2YWx1ZTogMS0xODAgSWYgbm8gcmVzcG9uc2UgaXMgcmVjZWl2ZWQgZnJvbSB0aGUgYmFja2VuZCBzZXJ2ZXIgZHVyaW5nIHRoZSBzcGVjaWZpZWQgdGltZW91dCBwZXJpb2QsIFNlcnZlciBMb2FkIEJhbGFuY2VyIHdpbGwgc3RvcCB3YWl0aW5nIGFuZCBzZW5kIGFuIEhUVFAgNTA0IGVycm9yIHRvIHRoZSBjbGllbnQuXG4gICAgICovXG4gICAgcmVhZG9ubHkgcmVxdWVzdFRpbWVvdXQ/OiBudW1iZXIgfCByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBQcm9wZXJ0eSBzY2hlZHVsZXI6IFRoZSBzY2hlZHVsaW5nIGFsZ29yaXRobS4gVmFsaWQgdmFsdWVzOlxuICAgICAqIHdycjogQmFja2VuZCBzZXJ2ZXJzIHRoYXQgaGF2ZSBoaWdoZXIgd2VpZ2h0cyByZWNlaXZlIG1vcmUgcmVxdWVzdHMgdGhhbiB0aG9zZSB0aGF0IGhhdmUgbG93ZXIgd2VpZ2h0cy5cbiAgICAgKiB3bGM6IFJlcXVlc3RzIGFyZSBkaXN0cmlidXRlZCBiYXNlZCBvbiB0aGUgY29tYmluYXRpb24gb2YgdGhlIHdlaWdodHMgYW5kIGNvbm5lY3Rpb25zIHRvIGJhY2tlbmQgc2VydmVycy4gSWYgdHdvIGJhY2tlbmQgc2VydmVycyBoYXZlIHRoZSBzYW1lIHdlaWdodCwgdGhlIGJhY2tlbmQgc2VydmVyIHRoYXQgaGFzIGZld2VyIGNvbm5lY3Rpb25zIHJlY2VpdmVzIG1vcmUgcmVxdWVzdHMuXG4gICAgICogcnI6IFJlcXVlc3RzIGFyZSBkaXN0cmlidXRlZCB0byBiYWNrZW5kIHNlcnZlcnMgaW4gc2VxdWVuY2UuXG4gICAgICogc2NoOiBzcGVjaWZpZXMgY29uc2lzdGVudCBoYXNoaW5nIHRoYXQgaXMgYmFzZWQgb24gc291cmNlIElQIGFkZHJlc3Nlcy4gUmVxdWVzdHMgZnJvbSB0aGUgc2FtZSBzb3VyY2UgSVAgYWRkcmVzcyBhcmUgZGlzdHJpYnV0ZWQgdG8gdGhlIHNhbWUgYmFja2VuZCBzZXJ2ZXIuXG4gICAgICogdGNoOiBzcGVjaWZpZXMgY29uc2lzdGVudCBoYXNoaW5nIHRoYXQgaXMgYmFzZWQgb24gZm91ciBmYWN0b3JzOiBzb3VyY2UgSVAgYWRkcmVzcywgZGVzdGluYXRpb24gSVAgYWRkcmVzcywgc291cmNlIHBvcnQgbnVtYmVyLCBhbmQgZGVzdGluYXRpb24gcG9ydCBudW1iZXIuIFJlcXVlc3RzIHRoYXQgY29udGFpbiB0aGUgc2FtZSBwcmVjZWRpbmcgaW5mb3JtYXRpb24gYXJlIGRpc3RyaWJ1dGVkIHRvIHRoZSBzYW1lIGJhY2tlbmQgc2VydmVyLlxuICAgICAqIERlZmF1bHQ6IHdyclxuICAgICAqL1xuICAgIHJlYWRvbmx5IHNjaGVkdWxlcj86IHN0cmluZyB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIFByb3BlcnR5IHNlcnZlckNlcnRpZmljYXRlSWQ6IFNlcnZlciBjZXJ0aWZpY2F0ZSBpZCwgZm9yIGh0dHBzIGxpc3RlbmVyIG9ubHksIHRoaXMgcHJvcGVydGllcyBpcyByZXF1aXJlZC5cbiAgICAgKi9cbiAgICByZWFkb25seSBzZXJ2ZXJDZXJ0aWZpY2F0ZUlkPzogc3RyaW5nIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogUHJvcGVydHkgc3RhcnRMaXN0ZW5lcjogV2hldGhlciBzdGFydCBsaXN0ZW5lciBhZnRlciBsaXN0ZW5lciBjcmVhdGVkLiBEZWZhdWx0IFRydWUuXG4gICAgICovXG4gICAgcmVhZG9ubHkgc3RhcnRMaXN0ZW5lcj86IGJvb2xlYW4gfCByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBQcm9wZXJ0eSB0YWdzOiBUYWdzIHRvIGF0dGFjaCB0byBpbnN0YW5jZS4gTWF4IHN1cHBvcnQgMjAgdGFncyB0byBhZGQgZHVyaW5nIGNyZWF0ZSBpbnN0YW5jZS4gRWFjaCB0YWcgd2l0aCB0d28gcHJvcGVydGllcyBLZXkgYW5kIFZhbHVlLCBhbmQgS2V5IGlzIHJlcXVpcmVkLlxuICAgICAqL1xuICAgIHJlYWRvbmx5IHRhZ3M/OiBSb3NMaXN0ZW5lci5UYWdzUHJvcGVydHlbXTtcblxuICAgIC8qKlxuICAgICAqIFByb3BlcnR5IHRsc0NpcGhlclBvbGljeTogVGhlIFRyYW5zcG9ydCBMYXllciBTZWN1cml0eSAoVExTKSBzZWN1cml0eSBwb2xpY3kuIEVhY2ggc2VjdXJpdHkgcG9saWN5IGNvbnRhaW5zIFRMUyBwcm90b2NvbCB2ZXJzaW9ucyBhbmQgY2lwaGVyIHN1aXRlcyBhdmFpbGFibGUgZm9yIEhUVFBTLiBJdCB0YWtlcyBlZmZlY3Qgd2hlbiBQcm90b2NvbD1odHRwcy5cbiAgICAgKi9cbiAgICByZWFkb25seSB0bHNDaXBoZXJQb2xpY3k/OiBzdHJpbmcgfCByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBQcm9wZXJ0eSB2U2VydmVyR3JvdXBJZDogVGhlIGlkIG9mIHRoZSBWU2VydmVyR3JvdXAgd2hpY2ggdXNlIGluIGxpc3RlbmVyLlxuICAgICAqL1xuICAgIHJlYWRvbmx5IHZTZXJ2ZXJHcm91cElkPzogc3RyaW5nIHwgcm9zLklSZXNvbHZhYmxlO1xufVxuXG4vKipcbiAqIFJlcHJlc2VudHMgYSBgTGlzdGVuZXJgLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIElMaXN0ZW5lciBleHRlbmRzIHJvcy5JUmVzb3VyY2Uge1xuICAgIHJlYWRvbmx5IHByb3BzOiBMaXN0ZW5lclByb3BzO1xuXG4gICAgLyoqXG4gICAgICogQXR0cmlidXRlIExpc3RlbmVyUG9ydHNBbmRQcm90b2NvbDogVGhlIGNvbGxlY3Rpb24gb2YgbGlzdGVuZXIuXG4gICAgICovXG4gICAgcmVhZG9ubHkgYXR0ckxpc3RlbmVyUG9ydHNBbmRQcm90b2NvbDogcm9zLklSZXNvbHZhYmxlIHwgc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogQXR0cmlidXRlIExvYWRCYWxhbmNlcklkOiBUaGUgaWQgb2YgbG9hZCBiYWxhbmNlclxuICAgICAqL1xuICAgIHJlYWRvbmx5IGF0dHJMb2FkQmFsYW5jZXJJZDogcm9zLklSZXNvbHZhYmxlIHwgc3RyaW5nO1xufVxuLyoqXG4gKiBUaGlzIGNsYXNzIGVuY2Fwc3VsYXRlcyBhbmQgZXh0ZW5kcyB0aGUgUk9TIHJlc291cmNlIHR5cGUgYEFMSVlVTjo6U0xCOjpMaXN0ZW5lcmAsIHdoaWNoIGlzIHVzZWQgdG8gY3JlYXRlIGEgU2VydmVyIExvYWQgQmFsYW5jZXIgKFNMQikgbGlzdGVuZXIuXG4gKiBATm90ZSBUaGlzIGNsYXNzIG1heSBoYXZlIHNvbWUgbmV3IGZ1bmN0aW9ucyB0byBmYWNpbGl0YXRlIGRldmVsb3BtZW50LCBzbyBpdCBpcyByZWNvbW1lbmRlZCB0byB1c2UgdGhpcyBjbGFzcyBpbnN0ZWFkIG9mIGBSb3NMaXN0ZW5lcmBmb3IgYSBtb3JlIGNvbnZlbmllbnQgZGV2ZWxvcG1lbnQgZXhwZXJpZW5jZS5cbiAqIFNlZSBodHRwczovL3d3dy5hbGliYWJhY2xvdWQuY29tL2hlbHAvcm9zL2RldmVsb3Blci1yZWZlcmVuY2UvYWxpeXVuLXNsYi1saXN0ZW5lclxuICovXG5leHBvcnQgY2xhc3MgTGlzdGVuZXIgZXh0ZW5kcyByb3MuUmVzb3VyY2UgaW1wbGVtZW50cyBJTGlzdGVuZXIge1xuICAgIHByb3RlY3RlZCBzY29wZTogcm9zLkNvbnN0cnVjdDtcbiAgICBwcm90ZWN0ZWQgaWQ6IHN0cmluZztcbiAgICBwdWJsaWMgcmVhZG9ubHkgcHJvcHM6IExpc3RlbmVyUHJvcHM7XG4gICAgcHJvdGVjdGVkIGVuYWJsZVJlc291cmNlUHJvcGVydHlDb25zdHJhaW50OiBib29sZWFuO1xuXG4gICAgLyoqXG4gICAgICogQXR0cmlidXRlIExpc3RlbmVyUG9ydHNBbmRQcm90b2NvbDogVGhlIGNvbGxlY3Rpb24gb2YgbGlzdGVuZXIuXG4gICAgICovXG4gICAgcHVibGljIHJlYWRvbmx5IGF0dHJMaXN0ZW5lclBvcnRzQW5kUHJvdG9jb2w6IHJvcy5JUmVzb2x2YWJsZSB8IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIEF0dHJpYnV0ZSBMb2FkQmFsYW5jZXJJZDogVGhlIGlkIG9mIGxvYWQgYmFsYW5jZXJcbiAgICAgKi9cbiAgICBwdWJsaWMgcmVhZG9ubHkgYXR0ckxvYWRCYWxhbmNlcklkOiByb3MuSVJlc29sdmFibGUgfCBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBQYXJhbSBzY29wZSAtIHNjb3BlIGluIHdoaWNoIHRoaXMgcmVzb3VyY2UgaXMgZGVmaW5lZFxuICAgICAqIFBhcmFtIGlkICAgIC0gc2NvcGVkIGlkIG9mIHRoZSByZXNvdXJjZVxuICAgICAqIFBhcmFtIHByb3BzIC0gcmVzb3VyY2UgcHJvcGVydGllc1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHNjb3BlOiByb3MuQ29uc3RydWN0LCBpZDogc3RyaW5nLCBwcm9wczogTGlzdGVuZXJQcm9wcywgZW5hYmxlUmVzb3VyY2VQcm9wZXJ0eUNvbnN0cmFpbnQ6Ym9vbGVhbiA9IHRydWUpIHtcbiAgICAgICAgc3VwZXIoc2NvcGUsIGlkKTtcbiAgICAgICAgdGhpcy5zY29wZSA9IHNjb3BlO1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHRoaXMucHJvcHMgPSBwcm9wcztcbiAgICAgICAgdGhpcy5lbmFibGVSZXNvdXJjZVByb3BlcnR5Q29uc3RyYWludCA9IGVuYWJsZVJlc291cmNlUHJvcGVydHlDb25zdHJhaW50O1xuXG4gICAgICAgIGNvbnN0IHJvc0xpc3RlbmVyID0gbmV3IFJvc0xpc3RlbmVyKHRoaXMsIGlkLCAge1xuICAgICAgICAgICAgdlNlcnZlckdyb3VwSWQ6IHByb3BzLnZTZXJ2ZXJHcm91cElkLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IHByb3BzLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgcHJveHlQcm90b2NvbFYyRW5hYmxlZDogcHJvcHMucHJveHlQcm90b2NvbFYyRW5hYmxlZCxcbiAgICAgICAgICAgIHNjaGVkdWxlcjogcHJvcHMuc2NoZWR1bGVyID09PSB1bmRlZmluZWQgfHwgcHJvcHMuc2NoZWR1bGVyID09PSBudWxsID8gJ3dycicgOiBwcm9wcy5zY2hlZHVsZXIsXG4gICAgICAgICAgICBoZWFsdGhDaGVjazogcHJvcHMuaGVhbHRoQ2hlY2ssXG4gICAgICAgICAgICBpZGxlVGltZW91dDogcHJvcHMuaWRsZVRpbWVvdXQsXG4gICAgICAgICAgICBsb2FkQmFsYW5jZXJJZDogcHJvcHMubG9hZEJhbGFuY2VySWQsXG4gICAgICAgICAgICBiYWNrZW5kU2VydmVyUG9ydDogcHJvcHMuYmFja2VuZFNlcnZlclBvcnQsXG4gICAgICAgICAgICBjb25uZWN0aW9uRHJhaW5UaW1lb3V0OiBwcm9wcy5jb25uZWN0aW9uRHJhaW5UaW1lb3V0LFxuICAgICAgICAgICAgYmFuZHdpZHRoOiBwcm9wcy5iYW5kd2lkdGgsXG4gICAgICAgICAgICBnemlwOiBwcm9wcy5nemlwLFxuICAgICAgICAgICAgc2VydmVyQ2VydGlmaWNhdGVJZDogcHJvcHMuc2VydmVyQ2VydGlmaWNhdGVJZCxcbiAgICAgICAgICAgIGh0dHBDb25maWc6IHByb3BzLmh0dHBDb25maWcsXG4gICAgICAgICAgICBwcm90b2NvbDogcHJvcHMucHJvdG9jb2wsXG4gICAgICAgICAgICB0YWdzOiBwcm9wcy50YWdzLFxuICAgICAgICAgICAgcmVxdWVzdFRpbWVvdXQ6IHByb3BzLnJlcXVlc3RUaW1lb3V0LFxuICAgICAgICAgICAgbGlzdGVuZXJQb3J0OiBwcm9wcy5saXN0ZW5lclBvcnQsXG4gICAgICAgICAgICB0bHNDaXBoZXJQb2xpY3k6IHByb3BzLnRsc0NpcGhlclBvbGljeSxcbiAgICAgICAgICAgIGNhQ2VydGlmaWNhdGVJZDogcHJvcHMuY2FDZXJ0aWZpY2F0ZUlkLFxuICAgICAgICAgICAgYWNsSWQ6IHByb3BzLmFjbElkLFxuICAgICAgICAgICAgY29ubmVjdGlvbkRyYWluOiBwcm9wcy5jb25uZWN0aW9uRHJhaW4sXG4gICAgICAgICAgICBwZXJzaXN0ZW5jZTogcHJvcHMucGVyc2lzdGVuY2UsXG4gICAgICAgICAgICBwb3J0UmFuZ2U6IHByb3BzLnBvcnRSYW5nZSxcbiAgICAgICAgICAgIGFjbFN0YXR1czogcHJvcHMuYWNsU3RhdHVzID09PSB1bmRlZmluZWQgfHwgcHJvcHMuYWNsU3RhdHVzID09PSBudWxsID8gJ29mZicgOiBwcm9wcy5hY2xTdGF0dXMsXG4gICAgICAgICAgICBtYXN0ZXJTbGF2ZVNlcnZlckdyb3VwSWQ6IHByb3BzLm1hc3RlclNsYXZlU2VydmVyR3JvdXBJZCxcbiAgICAgICAgICAgIHN0YXJ0TGlzdGVuZXI6IHByb3BzLnN0YXJ0TGlzdGVuZXIgPT09IHVuZGVmaW5lZCB8fCBwcm9wcy5zdGFydExpc3RlbmVyID09PSBudWxsID8gdHJ1ZSA6IHByb3BzLnN0YXJ0TGlzdGVuZXIsXG4gICAgICAgICAgICBhY2xUeXBlOiBwcm9wcy5hY2xUeXBlLFxuICAgICAgICAgICAgZnVsbE5hdEVuYWJsZWQ6IHByb3BzLmZ1bGxOYXRFbmFibGVkLFxuICAgICAgICAgICAgZW5hYmxlSHR0cDI6IHByb3BzLmVuYWJsZUh0dHAyLFxuICAgICAgICAgICAgYWNsSWRzOiBwcm9wcy5hY2xJZHMsXG4gICAgICAgIH0sIGVuYWJsZVJlc291cmNlUHJvcGVydHlDb25zdHJhaW50ICYmIHRoaXMuc3RhY2suZW5hYmxlUmVzb3VyY2VQcm9wZXJ0eUNvbnN0cmFpbnQpO1xuICAgICAgICB0aGlzLnJlc291cmNlID0gcm9zTGlzdGVuZXI7XG4gICAgICAgIHRoaXMuYXR0ckxpc3RlbmVyUG9ydHNBbmRQcm90b2NvbCA9IHJvc0xpc3RlbmVyLmF0dHJMaXN0ZW5lclBvcnRzQW5kUHJvdG9jb2w7XG4gICAgICAgIHRoaXMuYXR0ckxvYWRCYWxhbmNlcklkID0gcm9zTGlzdGVuZXIuYXR0ckxvYWRCYWxhbmNlcklkO1xuICAgIH1cbn1cbiJdfQ==