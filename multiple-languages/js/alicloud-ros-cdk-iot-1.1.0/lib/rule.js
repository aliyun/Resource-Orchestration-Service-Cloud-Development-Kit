"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Rule = exports.RuleProperty = void 0;
const ros = require("@alicloud/ros-cdk-core");
const iot_generated_1 = require("./iot.generated");
Object.defineProperty(exports, "RuleProperty", { enumerable: true, get: function () { return iot_generated_1.RosRule; } });
/**
 * This class encapsulates and extends the ROS resource type `ALIYUN::IOT::Rule`, which is used to create a rule for a specific topic.
 * @Note This class may have some new functions to facilitate development, so it is recommended to use this class instead of `RosRule`for a more convenient development experience.
 * See https://www.alibabacloud.com/help/ros/developer-reference/aliyun-iot-rule
 */
class Rule extends ros.Resource {
    /**
     * Param scope - scope in which this resource is defined
     * Param id    - scoped id of the resource
     * Param props - resource properties
     */
    constructor(scope, id, props, enableResourcePropertyConstraint = true) {
        super(scope, id);
        this.scope = scope;
        this.id = id;
        this.props = props;
        this.enableResourcePropertyConstraint = enableResourcePropertyConstraint;
        const rosRule = new iot_generated_1.RosRule(this, id, {
            topicType: props.topicType,
            iotInstanceId: props.iotInstanceId,
            resourceGroupId: props.resourceGroupId,
            ruleAction: props.ruleAction,
            shortTopic: props.shortTopic,
            select: props.select,
            startRule: props.startRule,
            dataType: props.dataType,
            ruleDesc: props.ruleDesc,
            where: props.where,
            productKey: props.productKey,
            name: props.name,
        }, enableResourcePropertyConstraint && this.stack.enableResourcePropertyConstraint);
        this.resource = rosRule;
        this.attrActionId = rosRule.attrActionId;
        this.attrRuleId = rosRule.attrRuleId;
    }
}
exports.Rule = Rule;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicnVsZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbInJ1bGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsOENBQThDO0FBQzlDLG1EQUEwQztBQUV0Qiw2RkFGWCx1QkFBTyxPQUVnQjtBQWlIaEM7Ozs7R0FJRztBQUNILE1BQWEsSUFBSyxTQUFRLEdBQUcsQ0FBQyxRQUFRO0lBZ0JsQzs7OztPQUlHO0lBQ0gsWUFBWSxLQUFvQixFQUFFLEVBQVUsRUFBRSxLQUFnQixFQUFFLG1DQUEyQyxJQUFJO1FBQzNHLEtBQUssQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDakIsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7UUFDbkIsSUFBSSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUM7UUFDYixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUNuQixJQUFJLENBQUMsZ0NBQWdDLEdBQUcsZ0NBQWdDLENBQUM7UUFFekUsTUFBTSxPQUFPLEdBQUcsSUFBSSx1QkFBTyxDQUFDLElBQUksRUFBRSxFQUFFLEVBQUc7WUFDbkMsU0FBUyxFQUFFLEtBQUssQ0FBQyxTQUFTO1lBQzFCLGFBQWEsRUFBRSxLQUFLLENBQUMsYUFBYTtZQUNsQyxlQUFlLEVBQUUsS0FBSyxDQUFDLGVBQWU7WUFDdEMsVUFBVSxFQUFFLEtBQUssQ0FBQyxVQUFVO1lBQzVCLFVBQVUsRUFBRSxLQUFLLENBQUMsVUFBVTtZQUM1QixNQUFNLEVBQUUsS0FBSyxDQUFDLE1BQU07WUFDcEIsU0FBUyxFQUFFLEtBQUssQ0FBQyxTQUFTO1lBQzFCLFFBQVEsRUFBRSxLQUFLLENBQUMsUUFBUTtZQUN4QixRQUFRLEVBQUUsS0FBSyxDQUFDLFFBQVE7WUFDeEIsS0FBSyxFQUFFLEtBQUssQ0FBQyxLQUFLO1lBQ2xCLFVBQVUsRUFBRSxLQUFLLENBQUMsVUFBVTtZQUM1QixJQUFJLEVBQUUsS0FBSyxDQUFDLElBQUk7U0FDbkIsRUFBRSxnQ0FBZ0MsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLGdDQUFnQyxDQUFDLENBQUM7UUFDcEYsSUFBSSxDQUFDLFFBQVEsR0FBRyxPQUFPLENBQUM7UUFDeEIsSUFBSSxDQUFDLFlBQVksR0FBRyxPQUFPLENBQUMsWUFBWSxDQUFDO1FBQ3pDLElBQUksQ0FBQyxVQUFVLEdBQUcsT0FBTyxDQUFDLFVBQVUsQ0FBQztJQUN6QyxDQUFDO0NBQ0o7QUE5Q0Qsb0JBOENDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgcm9zIGZyb20gJ0BhbGljbG91ZC9yb3MtY2RrLWNvcmUnO1xuaW1wb3J0IHsgUm9zUnVsZSB9IGZyb20gJy4vaW90LmdlbmVyYXRlZCc7XG4vLyBHZW5lcmF0ZWQgZnJvbSB0aGUgQWxpQ2xvdWQgUk9TIFJlc291cmNlIFNwZWNpZmljYXRpb25cbmV4cG9ydCB7IFJvc1J1bGUgYXMgUnVsZVByb3BlcnR5IH07XG5cbi8qKlxuICogUHJvcGVydGllcyBmb3IgZGVmaW5pbmcgYSBgUnVsZWAuXG4gKiBTZWUgaHR0cHM6Ly93d3cuYWxpYmFiYWNsb3VkLmNvbS9oZWxwL3Jvcy9kZXZlbG9wZXItcmVmZXJlbmNlL2FsaXl1bi1pb3QtcnVsZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJ1bGVQcm9wcyB7XG5cbiAgICAvKipcbiAgICAgKiBQcm9wZXJ0eSBuYW1lOiBUaGUgbmFtZSBvZiB0aGUgcnVsZS4gVGhlIG5hbWUgbXVzdCBiZSAxIHRvIDMwIGNoYXJhY3RlcnMgaW4gbGVuZ3RoIGFuZCBjYW4gY29udGFpblxuICAgICAqIEVuZ2xpc2ggbGV0dGVycywgZGlnaXRzLCB1bmRlcnNjb3JlcyAoXyksIGFuZCBoeXBoZW5zICgtKS4gQ2hpbmVzZSBsYW5ndWFnZSBpcyBhbHNvXG4gICAgICogc3VwcG9ydGVkLiBFYWNoIENoaW5lc2Ugc3ltYm9sIG9jY3VwaWVzIDIgY2hhcmFjdGVycy5cbiAgICAgKi9cbiAgICByZWFkb25seSBuYW1lOiBzdHJpbmcgfCByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBQcm9wZXJ0eSBkYXRhVHlwZTogVGhlIGZvcm1hdCBvZiB0aGUgZGF0YSB0byBiZSBwcm9jZXNzZWQgYnkgdGhlIHJ1bGUuIFlvdSBtdXN0IHNwZWNpZnkgdGhlIGZvcm1hdCBvZlxuICAgICAqIGRldmljZSBkYXRhIHRvIGJlIHByb2Nlc3NlZCBmb3IgdGhpcyBwYXJhbWV0ZXIuIFZhbGlkIHZhbHVlczpcbiAgICAgKiBKU09OOiBKU09OIGRhdGFcbiAgICAgKiBCSU5BUlk6IGJpbmFyeSBkYXRhXG4gICAgICogTm90ZSBJZiB5b3Ugc3BlY2lmeUJJTkFSWSwgeW91IGNhbm5vdCBzZXQgdGhlIFRvcGljVHlwZSBwYXJhbWV0ZXIgdG8gMCBhbmQgZm9yd2FyZCBkYXRhIHRvIFRhYmxlIFN0b3JlLCBUaW1lIFNlcmllcyBEYXRhYmFzZSAoVFNEQiksIG9yIEFwc2FyYWREQlxuICAgICAqIGZvciBSRFMuXG4gICAgICogRGVmYXVsdCB2YWx1ZTogSlNPTi5cbiAgICAgKi9cbiAgICByZWFkb25seSBkYXRhVHlwZT86IHN0cmluZyB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIFByb3BlcnR5IGlvdEluc3RhbmNlSWQ6IFRoZSBJRCBvZiB0aGUgaW5zdGFuY2UuIFRoaXMgcGFyYW1ldGVyIGlzIG5vdCByZXF1aXJlZCBmb3IgcHVibGljIGluc3RhbmNlcy4gSG93ZXZlcixcbiAgICAgKiB0aGUgcGFyYW1ldGVyIGlzIHJlcXVpcmVkIGZvciB0aGUgaW5zdGFuY2VzIHRoYXQgeW91IGhhdmUgcHVyY2hhc2VkLlxuICAgICAqL1xuICAgIHJlYWRvbmx5IGlvdEluc3RhbmNlSWQ/OiBzdHJpbmcgfCByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBQcm9wZXJ0eSBwcm9kdWN0S2V5OiBUaGUgUHJvZHVjdEtleSBvZiB0aGUgcHJvZHVjdCB0byB3aGljaCB0aGUgcnVsZSBhcHBsaWVzLlxuICAgICAqL1xuICAgIHJlYWRvbmx5IHByb2R1Y3RLZXk/OiBzdHJpbmcgfCByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBQcm9wZXJ0eSByZXNvdXJjZUdyb3VwSWQ6IFRoZSBJRCBvZiB0aGUgcmVzb3VyY2UgZ3JvdXAgdG8gd2hpY2ggdGhlIHJ1bGUgaXMgYXNzaWduZWQuIFlvdSBjYW4gdmlldyB0aGUgcmVzb3VyY2VcbiAgICAgKiBncm91cCBpbmZvcm1hdGlvbiBpbiB0aGUgUmVzb3VyY2UgTWFuYWdlbWVudCBjb25zb2xlLlxuICAgICAqIElmIHlvdSBkbyBub3Qgc3BlY2lmeSB0aGlzIHBhcmFtZXRlciwgdGhlIHJ1bGUgaXMgYXNzaWduZWQgdG8gdGhlIGRlZmF1bHQgcmVzb3VyY2VcbiAgICAgKiBncm91cC5cbiAgICAgKi9cbiAgICByZWFkb25seSByZXNvdXJjZUdyb3VwSWQ/OiBzdHJpbmcgfCByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBQcm9wZXJ0eSBydWxlQWN0aW9uOlxuICAgICAqL1xuICAgIHJlYWRvbmx5IHJ1bGVBY3Rpb24/OiBBcnJheTxSb3NSdWxlLlJ1bGVBY3Rpb25Qcm9wZXJ0eSB8IHJvcy5JUmVzb2x2YWJsZT4gfCByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBQcm9wZXJ0eSBydWxlRGVzYzogVGhlIGRlc2NyaXB0aW9uIG9mIHRoZSBydWxlLiBUaGUgZGVzY3JpcHRpb24gY2FuIGJlIHVwIHRvIDEwMCBjaGFyYWN0ZXJzIGluIGxlbmd0aC5cbiAgICAgKiBFYWNoIENoaW5lc2Ugc3ltYm9sIG9jY3VwaWVzIDEgY2hhcmFjdGVycy5cbiAgICAgKi9cbiAgICByZWFkb25seSBydWxlRGVzYz86IHN0cmluZyB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIFByb3BlcnR5IHNlbGVjdDogVGhlIFNRTCBTRUxFQ1Qgc3RhdGVtZW50IHRoYXQgeW91IHdhbnQgdG8gZXhlY3V0ZS4gRm9yIG1vcmUgaW5mb3JtYXRpb24sIHNlZVNRTCBleHByZXNzaW9ucy5cbiAgICAgKiBOb3RlIFNwZWNpZnkgdGhlIGZpZWxkcyB0aGF0IGZvbGxvdyB0aGUgU2VsZWN0IGtleXdvcmQgZm9yIHRoaXMgcGFyYW1ldGVyLiBGb3IgZXhhbXBsZSwgaWYgdGhlIFNlbGVjdCBzdGF0ZW1lbnQgaXMgU2VsZWN0IGEsYixjLCBzcGVjaWZ5IGEsYixjIGZvciB0aGlzIHBhcmFtZXRlci5cbiAgICAgKi9cbiAgICByZWFkb25seSBzZWxlY3Q/OiBzdHJpbmcgfCByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBQcm9wZXJ0eSBzaG9ydFRvcGljOiBUaGUgdG9waWMgdG8gd2hpY2ggdGhpcyBydWxlIGlzIGFwcGxpZWQuIFN5bnRheDogJHtkZXZpY2VOYW1lfVxcL3RvcGljU2hvcnROYW1lLiAke2RldmljZU5hbWV9c3BlY2lmaWVzIHRoZSBuYW1lIG9mIHRoZSBkZXZpY2UsIGFuZCB0b3BpY1Nob3J0TmFtZXNwZWNpZmllcyB0aGUgY3VzdG9tIG5hbWUgb2YgdGhlIHRvcGljLlxuICAgICAqIEJhc2ljIGNvbW11bmljYXRpb24gdG9waWNzIG9yIFRoaW5nIFNwZWNpZmljYXRpb24gTGFuZ3VhZ2UgKFRTTCktYmFzZWQgY29tbXVuaWNhdGlvblxuICAgICAqIHRvcGljcy4gU3ludGF4OiAke2RldmljZU5hbWV9XFwvdG9waWNTaG9ydE5hbWUuIFlvdSBjYW4gcmVwbGFjZSAke2RldmljZU5hbWV9IHdpdGggdGhlICsgd2lsZGNhcmQuIFRoZSB3aWxkY2FyZCBpbmRpY2F0ZXMgdGhhdCB0aGUgdG9waWMgYXBwbGllcyB0byBhbGwgZGV2aWNlcyB1bmRlciB0aGVcbiAgICAgKiBwcm9kdWN0LiBWYWxpZCB2YWx1ZXMgb2YgdG9waWNTaG9ydE5hbWU6XG4gICAgICogXFwvdGhpbmdcXC9ldmVudFxcL3Byb3BlcnR5XFwvcG9zdDogc3VibWl0cyB0aGUgcHJvcGVydHkgZGF0YSBvZiBhIGRldmljZS5cbiAgICAgKiBcXC90aGluZ1xcL2V2ZW50XFwvJHt0c2wuZXZlbnQuaWRlbnRpZmllcn1cXC9wb3N0OiBzdWJtaXRzIHRoZSBldmVudCBkYXRhIG9mIGEgZGV2aWNlLiR7dHNsLmV2ZW50LmlkZW50aWZpZXJ9IHNwZWNpZmllcyB0aGUgaWRlbnRpZmllciBvZiBhbiBldmVudCBpbiB0aGUgVFNMLlxuICAgICAqIFxcL3RoaW5nXFwvbGlmZWN5Y2xlOiBzdWJtaXRzIGRldmljZSBsaWZlY3ljbGUgY2hhbmdlcy5cbiAgICAgKiBcXC90aGluZ1xcL2Rvd25saW5rXFwvcmVwbHlcXC9tZXNzYWdlOiBzZW5kcyBhIHJlc3BvbnNlIHRvIGEgcmVxdWVzdCBmcm9tIElvVCBQbGF0Zm9ybS5cbiAgICAgKiBcXC90aGluZ1xcL2xpc3RcXC9mb3VuZDogc3VibWl0cyB0aGUgZGF0YSB3aGVuIGEgZ2F0ZXdheSBkZXRlY3RzIGEgbmV3IHN1Yi1kZXZpY2UuXG4gICAgICogXFwvdGhpbmdcXC90b3BvXFwvbGlmZWN5Y2xlOiBzdWJtaXRzIGRldmljZSB0b3BvbG9neSBjaGFuZ2VzLlxuICAgICAqIFxcL3RoaW5nXFwvZXZlbnRcXC9wcm9wZXJ0eVxcL2hpc3RvcnlcXC9wb3N0OiBzdWJtaXRzIGhpc3RvcmljYWwgcHJvcGVydHkgZGF0YSBvZiBhIGRldmljZS5cbiAgICAgKiBcXC90aGluZ1xcL2V2ZW50XFwvJHt0c2wuZXZlbnQuaWRlbnRpZmllcn1cXC9wb3N0OiBzdWJtaXRzIHRoZSBoaXN0b3JpY2FsIGV2ZW50IGRhdGEgb2YgYSBkZXZpY2UuJHt0c2wuZXZlbnQuaWRlbnRpZmllcn1zcGVjaWZpZXMgdGhlIGlkZW50aWZpZXIgb2YgYW4gZXZlbnQgaW4gdGhlIFRTTC5cbiAgICAgKiBcXC9vdGFcXC91cGdyYWRlOiBzdWJtaXRzIE9UQSB1cGRhdGUgc3RhdHVzLlxuICAgICAqIFxcL290YVxcL3ZlcnNpb25cXC9wb3N0OiBzdWJtaXRzIE9UQSBtb2R1bGUgdmVyc2lvbnMuXG4gICAgICogXFwvdGhpbmdcXC9kZXZpY2VpbmZvXFwvdXBkYXRlOiBzdWJtaXRzIGRldmljZSB0YWcgY2hhbmdlcy5cbiAgICAgKiBcXC9lZGdlXFwvZHJpdmVyXFwvJHtkcml2ZXJfaWR9XFwvcG9pbnRfcG9zdDogc3VibWl0cyBwYXNzLXRocm91Z2ggZGF0YSBmcm9tIExpbmsgSW9UIEVkZ2UuJHtkcml2ZXJfaWR9IHNwZWNpZmllcyB0aGUgSUQgb2YgdGhlIGRyaXZlciB0aGF0IGEgZGV2aWNlIHVzZXMgdG8gYWNjZXNzIExpbmsgSW9UIEVkZ2UuXG4gICAgICogJHtwYWNrYWdlSWR9XFwvJHtqb2JJZH1cXC9vdGFcXC9qb2JcXC9zdGF0dXM6IHN1Ym1pdHMgdGhlIHN0YXR1cyBvZiBPVEEgdXBkYXRlIGJhdGNoZXMuIFRoaXMgdG9waWMgaXMgYSBiYXNpYyBjb21tdW5pY2F0aW9uIHRvcGljLlxuICAgICAqICR7cGFja2FnZUlkfXNwZWNpZmllcyB0aGUgSUQgb2YgdGhlIGZpcm13YXJlLiAke2pvYklkfXNwZWNpZmllcyB0aGUgSUQgb2YgdGhlIHVwZGF0ZSBiYXRjaC5cbiAgICAgKiBDdXN0b20gdG9waWNzLiBFeGFtcGxlOiR7ZGV2aWNlTmFtZX1cXC91c2VyXFwvZ2V0LlxuICAgICAqIFlvdSBjYW4gY2FsbCB0aGVRdWVyeVByb2R1Y3RUb3BpY29wZXJhdGlvbiB0byB2aWV3IGFsbCBjdXN0b20gdG9waWNzIG9mIHRoZSBwcm9kdWN0LlxuICAgICAqIFdoZW4geW91IHNwZWNpZnkgYSBjdXN0b20gdG9waWMsIHlvdSBjYW4gdXNlIHRoZSArIGFuZCAjIHdpbGRjYXJkcy5cbiAgICAgKiBZb3UgY2FuIHJlcGxhY2UgJHtkZXZpY2VOYW1lfSB3aXRoIHRoZSsgd2lsZGNhcmQuIFRoZSB3aWxkY2FyZCBpbmRpY2F0ZXMgdGhhdCB0aGUgdG9waWMgYXBwbGllcyB0byBhbGwgZGV2aWNlcyB1bmRlciB0aGVcbiAgICAgKiBwcm9kdWN0LlxuICAgICAqIFlvdSBjYW4gcmVwbGFjZSB0aGUgZmllbGRzIHRoYXQgZm9sbG93ICR7ZGV2aWNlTmFtZX0gd2l0aCBcXC91c2VyXFwvIy4gVGhlICMgd2lsZGNhcmQgaW5kaWNhdGVzIHRoYXQgdGhlIHRvcGljIGFwcGxpZXMgd2hhdGV2ZXIgdmFsdWVzIGFyZSBzcGVjaWZpZWQgZm9yIHRoZSBmaWVsZHMgdGhhdFxuICAgICAqIGZvbGxvd1xcL3VzZXIuXG4gICAgICogRm9yIG1vcmUgaW5mb3JtYXRpb24gYWJvdXQgaG93IHRvIHVzZSB3aWxkY2FyZHMsIHNlZSBXaWxkY2FyZHMgaW4gdG9waWNzLlxuICAgICAqIFRvcGljIHRoYXQgaXMgdXNlZCB0byBzdWJtaXQgZGV2aWNlIHN0YXR1cyBjaGFuZ2VzOiAke2RldmljZU5hbWV9LlxuICAgICAqIFlvdSBjYW4gdXNlIHRoZSt3aWxkY2FyZC4gSW4gdGhpcyBjYXNlLCB0aGUgc3RhdHVzIGNoYW5nZXMgb2YgYWxsIGRldmljZXMgdW5kZXIgdGhlIHByb2R1Y3QgYXJlIHN1Ym1pdHRlZC5cbiAgICAgKi9cbiAgICByZWFkb25seSBzaG9ydFRvcGljPzogc3RyaW5nIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogUHJvcGVydHkgc3RhcnRSdWxlOiBTdGFydCB0aGUgcnVsZS4gVGhlIHJ1bGUgYXQgbGVhc3QgY29udGFpbnMgb25lIHJ1bGUgYWN0aW9uIHdpdGggbm9ybWFsIGRhdGEgZm9yd2FyZC5cbiAgICAgKi9cbiAgICByZWFkb25seSBzdGFydFJ1bGU/OiBib29sZWFuIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogUHJvcGVydHkgdG9waWNUeXBlOiAwOiBUaGUgdG9waWMgaXMgYSBiYXNpYyBjb21tdW5pY2F0aW9uIHRvcGljIG9yIFRTTC1iYXNlZCBjb21tdW5pY2F0aW9uIHRvcGljLlxuICAgICAqIDE6IFRoZSB0b3BpYyBpcyBhIGN1c3RvbSB0b3BpYy5cbiAgICAgKiAyOiBUaGUgdG9waWMgaXMgdXNlZCB0byBzdWJtaXQgZGV2aWNlIHN0YXR1cyBjaGFuZ2VzLiBTeW50YXg6IFxcL2FzXFwvbXF0dFxcL3N0YXR1c1xcLyR7cHJvZHVjdEtleX1cXC8ke2RldmljZU5hbWV9LlxuICAgICAqL1xuICAgIHJlYWRvbmx5IHRvcGljVHlwZT86IG51bWJlciB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIFByb3BlcnR5IHdoZXJlOiBUaGUgY29uZGl0aW9uIHRoYXQgaXMgdXNlZCB0byB0cmlnZ2VyIHRoZSBydWxlLiBGb3IgbW9yZSBpbmZvcm1hdGlvbiwgc2VlU1FMIGV4cHJlc3Npb25zLlxuICAgICAqIE5vdGUgU3BlY2lmeSB0aGUgZmllbGRzIHRoYXQgZm9sbG93IHRoZVdoZXJla2V5d29yZCBmb3IgdGhpcyBwYXJhbWV0ZXIuIEZvciBleGFtcGxlLCBpZiB0aGUgV2hlcmUgc3RhdGVtZW50IGlzIFdoZXJlIGE+MTAsIHNwZWNpZnkgYT4xMCBmb3IgdGhpcyBwYXJhbWV0ZXIuXG4gICAgICovXG4gICAgcmVhZG9ubHkgd2hlcmU/OiBzdHJpbmcgfCByb3MuSVJlc29sdmFibGU7XG59XG5cbi8qKlxuICogVGhpcyBjbGFzcyBlbmNhcHN1bGF0ZXMgYW5kIGV4dGVuZHMgdGhlIFJPUyByZXNvdXJjZSB0eXBlIGBBTElZVU46OklPVDo6UnVsZWAsIHdoaWNoIGlzIHVzZWQgdG8gY3JlYXRlIGEgcnVsZSBmb3IgYSBzcGVjaWZpYyB0b3BpYy5cbiAqIEBOb3RlIFRoaXMgY2xhc3MgbWF5IGhhdmUgc29tZSBuZXcgZnVuY3Rpb25zIHRvIGZhY2lsaXRhdGUgZGV2ZWxvcG1lbnQsIHNvIGl0IGlzIHJlY29tbWVuZGVkIHRvIHVzZSB0aGlzIGNsYXNzIGluc3RlYWQgb2YgYFJvc1J1bGVgZm9yIGEgbW9yZSBjb252ZW5pZW50IGRldmVsb3BtZW50IGV4cGVyaWVuY2UuXG4gKiBTZWUgaHR0cHM6Ly93d3cuYWxpYmFiYWNsb3VkLmNvbS9oZWxwL3Jvcy9kZXZlbG9wZXItcmVmZXJlbmNlL2FsaXl1bi1pb3QtcnVsZVxuICovXG5leHBvcnQgY2xhc3MgUnVsZSBleHRlbmRzIHJvcy5SZXNvdXJjZSB7XG4gICAgcHJvdGVjdGVkIHNjb3BlOiByb3MuQ29uc3RydWN0O1xuICAgIHByb3RlY3RlZCBpZDogc3RyaW5nO1xuICAgIHByb3RlY3RlZCBwcm9wczogUnVsZVByb3BzO1xuICAgIHByb3RlY3RlZCBlbmFibGVSZXNvdXJjZVByb3BlcnR5Q29uc3RyYWludDogYm9vbGVhbjtcblxuICAgIC8qKlxuICAgICAqIEF0dHJpYnV0ZSBBY3Rpb25JZDogVGhlIElEIG9mIHRoZSBydWxlIGFjdGlvbi5cbiAgICAgKi9cbiAgICBwdWJsaWMgcmVhZG9ubHkgYXR0ckFjdGlvbklkOiByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBBdHRyaWJ1dGUgUnVsZUlkOiBUaGUgSUQgb2YgdGhlIHJ1bGUuXG4gICAgICovXG4gICAgcHVibGljIHJlYWRvbmx5IGF0dHJSdWxlSWQ6IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIFBhcmFtIHNjb3BlIC0gc2NvcGUgaW4gd2hpY2ggdGhpcyByZXNvdXJjZSBpcyBkZWZpbmVkXG4gICAgICogUGFyYW0gaWQgICAgLSBzY29wZWQgaWQgb2YgdGhlIHJlc291cmNlXG4gICAgICogUGFyYW0gcHJvcHMgLSByZXNvdXJjZSBwcm9wZXJ0aWVzXG4gICAgICovXG4gICAgY29uc3RydWN0b3Ioc2NvcGU6IHJvcy5Db25zdHJ1Y3QsIGlkOiBzdHJpbmcsIHByb3BzOiBSdWxlUHJvcHMsIGVuYWJsZVJlc291cmNlUHJvcGVydHlDb25zdHJhaW50OmJvb2xlYW4gPSB0cnVlKSB7XG4gICAgICAgIHN1cGVyKHNjb3BlLCBpZCk7XG4gICAgICAgIHRoaXMuc2NvcGUgPSBzY29wZTtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLnByb3BzID0gcHJvcHM7XG4gICAgICAgIHRoaXMuZW5hYmxlUmVzb3VyY2VQcm9wZXJ0eUNvbnN0cmFpbnQgPSBlbmFibGVSZXNvdXJjZVByb3BlcnR5Q29uc3RyYWludDtcblxuICAgICAgICBjb25zdCByb3NSdWxlID0gbmV3IFJvc1J1bGUodGhpcywgaWQsICB7XG4gICAgICAgICAgICB0b3BpY1R5cGU6IHByb3BzLnRvcGljVHlwZSxcbiAgICAgICAgICAgIGlvdEluc3RhbmNlSWQ6IHByb3BzLmlvdEluc3RhbmNlSWQsXG4gICAgICAgICAgICByZXNvdXJjZUdyb3VwSWQ6IHByb3BzLnJlc291cmNlR3JvdXBJZCxcbiAgICAgICAgICAgIHJ1bGVBY3Rpb246IHByb3BzLnJ1bGVBY3Rpb24sXG4gICAgICAgICAgICBzaG9ydFRvcGljOiBwcm9wcy5zaG9ydFRvcGljLFxuICAgICAgICAgICAgc2VsZWN0OiBwcm9wcy5zZWxlY3QsXG4gICAgICAgICAgICBzdGFydFJ1bGU6IHByb3BzLnN0YXJ0UnVsZSxcbiAgICAgICAgICAgIGRhdGFUeXBlOiBwcm9wcy5kYXRhVHlwZSxcbiAgICAgICAgICAgIHJ1bGVEZXNjOiBwcm9wcy5ydWxlRGVzYyxcbiAgICAgICAgICAgIHdoZXJlOiBwcm9wcy53aGVyZSxcbiAgICAgICAgICAgIHByb2R1Y3RLZXk6IHByb3BzLnByb2R1Y3RLZXksXG4gICAgICAgICAgICBuYW1lOiBwcm9wcy5uYW1lLFxuICAgICAgICB9LCBlbmFibGVSZXNvdXJjZVByb3BlcnR5Q29uc3RyYWludCAmJiB0aGlzLnN0YWNrLmVuYWJsZVJlc291cmNlUHJvcGVydHlDb25zdHJhaW50KTtcbiAgICAgICAgdGhpcy5yZXNvdXJjZSA9IHJvc1J1bGU7XG4gICAgICAgIHRoaXMuYXR0ckFjdGlvbklkID0gcm9zUnVsZS5hdHRyQWN0aW9uSWQ7XG4gICAgICAgIHRoaXMuYXR0clJ1bGVJZCA9IHJvc1J1bGUuYXR0clJ1bGVJZDtcbiAgICB9XG59XG4iXX0=