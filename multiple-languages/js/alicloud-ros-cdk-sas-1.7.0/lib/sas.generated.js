"use strict";
// Generated from the AliCloud ROS Resource Specification
Object.defineProperty(exports, "__esModule", { value: true });
exports.RosInstance = void 0;
const ros = require("@alicloud/ros-cdk-core");
/**
 * Determine whether the given properties match those of a `RosInstanceProps`
 *
 * @param properties - the TypeScript properties of a `RosInstanceProps`
 *
 * @returns the result of the validation.
 */
function RosInstancePropsValidator(properties) {
    if (!ros.canInspect(properties)) {
        return ros.VALIDATION_SUCCESS;
    }
    const errors = new ros.ValidationResults();
    errors.collect(ros.propertyValidator('quotaForApplicationProtection', ros.validateNumber)(properties.quotaForApplicationProtection));
    errors.collect(ros.propertyValidator('threatAnalysis', ros.validateBoolean)(properties.threatAnalysis));
    errors.collect(ros.propertyValidator('quotaForMaliciousFileDetectionSdk', ros.validateNumber)(properties.quotaForMaliciousFileDetectionSdk));
    errors.collect(ros.propertyValidator('containerImageScan', ros.validateNumber)(properties.containerImageScan));
    errors.collect(ros.propertyValidator('threatAnalysisLogStorageCapacity', ros.validateNumber)(properties.threatAnalysisLogStorageCapacity));
    errors.collect(ros.propertyValidator('autoRenew', ros.validateBoolean)(properties.autoRenew));
    errors.collect(ros.propertyValidator('maliciousFileDetectionSdk', ros.validateBoolean)(properties.maliciousFileDetectionSdk));
    errors.collect(ros.propertyValidator('vCore', ros.validateNumber)(properties.vCore));
    errors.collect(ros.propertyValidator('period', ros.requiredValidator)(properties.period));
    if (properties.period && (typeof properties.period) !== 'object') {
        errors.collect(ros.propertyValidator('period', ros.validateAllowedValues)({
            data: properties.period,
            allowedValues: [1, 2, 3, 6],
        }));
    }
    errors.collect(ros.propertyValidator('period', ros.validateNumber)(properties.period));
    errors.collect(ros.propertyValidator('vulnerabilityFixing', ros.validateBoolean)(properties.vulnerabilityFixing));
    errors.collect(ros.propertyValidator('quotaForCloudHoneypot', ros.validateNumber)(properties.quotaForCloudHoneypot));
    errors.collect(ros.propertyValidator('quotaForWebTamperProofing', ros.validateNumber)(properties.quotaForWebTamperProofing));
    errors.collect(ros.propertyValidator('autoPay', ros.validateBoolean)(properties.autoPay));
    errors.collect(ros.propertyValidator('antiRansomwareManageService', ros.validateBoolean)(properties.antiRansomwareManageService));
    if (properties.edition && (typeof properties.edition) !== 'object') {
        errors.collect(ros.propertyValidator('edition', ros.validateAllowedValues)({
            data: properties.edition,
            allowedValues: ["Anti-virus", "Advanced", "Enterprise", "Ultimate", "Value-added Plan"],
        }));
    }
    errors.collect(ros.propertyValidator('edition', ros.validateString)(properties.edition));
    errors.collect(ros.propertyValidator('configurationAssessment', ros.validateBoolean)(properties.configurationAssessment));
    errors.collect(ros.propertyValidator('logAnalysis', ros.validateNumber)(properties.logAnalysis));
    errors.collect(ros.propertyValidator('protectedServers', ros.validateNumber)(properties.protectedServers));
    errors.collect(ros.propertyValidator('cloudHoneypot', ros.validateBoolean)(properties.cloudHoneypot));
    errors.collect(ros.propertyValidator('webTamperProtection', ros.validateBoolean)(properties.webTamperProtection));
    errors.collect(ros.propertyValidator('quotaForConfigurationAssessment', ros.validateNumber)(properties.quotaForConfigurationAssessment));
    errors.collect(ros.propertyValidator('quotaForVulnerabilityFixing', ros.validateNumber)(properties.quotaForVulnerabilityFixing));
    errors.collect(ros.propertyValidator('antiRansomware', ros.validateNumber)(properties.antiRansomware));
    errors.collect(ros.propertyValidator('periodUnit', ros.requiredValidator)(properties.periodUnit));
    if (properties.periodUnit && (typeof properties.periodUnit) !== 'object') {
        errors.collect(ros.propertyValidator('periodUnit', ros.validateAllowedValues)({
            data: properties.periodUnit,
            allowedValues: ["Month", "Year"],
        }));
    }
    errors.collect(ros.propertyValidator('periodUnit', ros.validateString)(properties.periodUnit));
    return errors.wrap('supplied properties not correct for "RosInstanceProps"');
}
/**
 * Renders the AliCloud ROS Resource properties of an `ALIYUN::SAS::Instance` resource
 *
 * @param properties - the TypeScript properties of a `RosInstanceProps`
 *
 * @returns the AliCloud ROS Resource properties of an `ALIYUN::SAS::Instance` resource.
 */
// @ts-ignore TS6133
function rosInstancePropsToRosTemplate(properties, enableResourcePropertyConstraint) {
    if (!ros.canInspect(properties)) {
        return properties;
    }
    if (enableResourcePropertyConstraint) {
        RosInstancePropsValidator(properties).assertSuccess();
    }
    return {
        'Period': ros.numberToRosTemplate(properties.period),
        'PeriodUnit': ros.stringToRosTemplate(properties.periodUnit),
        'AntiRansomware': ros.numberToRosTemplate(properties.antiRansomware),
        'AntiRansomwareManageService': ros.booleanToRosTemplate(properties.antiRansomwareManageService),
        'AutoPay': ros.booleanToRosTemplate(properties.autoPay),
        'AutoRenew': ros.booleanToRosTemplate(properties.autoRenew),
        'CloudHoneypot': ros.booleanToRosTemplate(properties.cloudHoneypot),
        'ConfigurationAssessment': ros.booleanToRosTemplate(properties.configurationAssessment),
        'ContainerImageScan': ros.numberToRosTemplate(properties.containerImageScan),
        'Edition': ros.stringToRosTemplate(properties.edition),
        'LogAnalysis': ros.numberToRosTemplate(properties.logAnalysis),
        'MaliciousFileDetectionSDK': ros.booleanToRosTemplate(properties.maliciousFileDetectionSdk),
        'ProtectedServers': ros.numberToRosTemplate(properties.protectedServers),
        'QuotaForApplicationProtection': ros.numberToRosTemplate(properties.quotaForApplicationProtection),
        'QuotaForCloudHoneypot': ros.numberToRosTemplate(properties.quotaForCloudHoneypot),
        'QuotaForConfigurationAssessment': ros.numberToRosTemplate(properties.quotaForConfigurationAssessment),
        'QuotaForMaliciousFileDetectionSDK': ros.numberToRosTemplate(properties.quotaForMaliciousFileDetectionSdk),
        'QuotaForVulnerabilityFixing': ros.numberToRosTemplate(properties.quotaForVulnerabilityFixing),
        'QuotaForWebTamperProofing': ros.numberToRosTemplate(properties.quotaForWebTamperProofing),
        'ThreatAnalysis': ros.booleanToRosTemplate(properties.threatAnalysis),
        'ThreatAnalysisLogStorageCapacity': ros.numberToRosTemplate(properties.threatAnalysisLogStorageCapacity),
        'VCore': ros.numberToRosTemplate(properties.vCore),
        'VulnerabilityFixing': ros.booleanToRosTemplate(properties.vulnerabilityFixing),
        'WebTamperProtection': ros.booleanToRosTemplate(properties.webTamperProtection),
    };
}
/**
 * This class is a base encapsulation around the ROS resource type `ALIYUN::SAS::Instance`.
 * @Note This class does not contain additional functions, so it is recommended to use the `Instance` class instead of this class for a more convenient development experience.
 * See https://www.alibabacloud.com/help/ros/developer-reference/aliyun-sas-instance
 */
class RosInstance extends ros.RosResource {
    /**
     * @param scope - scope in which this resource is defined
     * @param id    - scoped id of the resource
     * @param props - resource properties
     */
    constructor(scope, id, props, enableResourcePropertyConstraint) {
        super(scope, id, { type: RosInstance.ROS_RESOURCE_TYPE_NAME, properties: props });
        this.attrInstanceId = this.getAtt('InstanceId');
        this.enableResourcePropertyConstraint = enableResourcePropertyConstraint;
        this.period = props.period;
        this.periodUnit = props.periodUnit;
        this.antiRansomware = props.antiRansomware;
        this.antiRansomwareManageService = props.antiRansomwareManageService;
        this.autoPay = props.autoPay;
        this.autoRenew = props.autoRenew;
        this.cloudHoneypot = props.cloudHoneypot;
        this.configurationAssessment = props.configurationAssessment;
        this.containerImageScan = props.containerImageScan;
        this.edition = props.edition;
        this.logAnalysis = props.logAnalysis;
        this.maliciousFileDetectionSdk = props.maliciousFileDetectionSdk;
        this.protectedServers = props.protectedServers;
        this.quotaForApplicationProtection = props.quotaForApplicationProtection;
        this.quotaForCloudHoneypot = props.quotaForCloudHoneypot;
        this.quotaForConfigurationAssessment = props.quotaForConfigurationAssessment;
        this.quotaForMaliciousFileDetectionSdk = props.quotaForMaliciousFileDetectionSdk;
        this.quotaForVulnerabilityFixing = props.quotaForVulnerabilityFixing;
        this.quotaForWebTamperProofing = props.quotaForWebTamperProofing;
        this.threatAnalysis = props.threatAnalysis;
        this.threatAnalysisLogStorageCapacity = props.threatAnalysisLogStorageCapacity;
        this.vCore = props.vCore;
        this.vulnerabilityFixing = props.vulnerabilityFixing;
        this.webTamperProtection = props.webTamperProtection;
    }
    get rosProperties() {
        return {
            period: this.period,
            periodUnit: this.periodUnit,
            antiRansomware: this.antiRansomware,
            antiRansomwareManageService: this.antiRansomwareManageService,
            autoPay: this.autoPay,
            autoRenew: this.autoRenew,
            cloudHoneypot: this.cloudHoneypot,
            configurationAssessment: this.configurationAssessment,
            containerImageScan: this.containerImageScan,
            edition: this.edition,
            logAnalysis: this.logAnalysis,
            maliciousFileDetectionSdk: this.maliciousFileDetectionSdk,
            protectedServers: this.protectedServers,
            quotaForApplicationProtection: this.quotaForApplicationProtection,
            quotaForCloudHoneypot: this.quotaForCloudHoneypot,
            quotaForConfigurationAssessment: this.quotaForConfigurationAssessment,
            quotaForMaliciousFileDetectionSdk: this.quotaForMaliciousFileDetectionSdk,
            quotaForVulnerabilityFixing: this.quotaForVulnerabilityFixing,
            quotaForWebTamperProofing: this.quotaForWebTamperProofing,
            threatAnalysis: this.threatAnalysis,
            threatAnalysisLogStorageCapacity: this.threatAnalysisLogStorageCapacity,
            vCore: this.vCore,
            vulnerabilityFixing: this.vulnerabilityFixing,
            webTamperProtection: this.webTamperProtection,
        };
    }
    renderProperties(props) {
        return rosInstancePropsToRosTemplate(props, this.enableResourcePropertyConstraint);
    }
}
exports.RosInstance = RosInstance;
/**
 * The resource type name for this resource class.
 */
RosInstance.ROS_RESOURCE_TYPE_NAME = "ALIYUN::SAS::Instance";
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2FzLmdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbInNhcy5nZW5lcmF0ZWQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLHlEQUF5RDs7O0FBRXpELDhDQUE4QztBQXNJOUM7Ozs7OztHQU1HO0FBQ0gsU0FBUyx5QkFBeUIsQ0FBQyxVQUFlO0lBQzlDLElBQUksQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLFVBQVUsQ0FBQyxFQUFFO1FBQUUsT0FBTyxHQUFHLENBQUMsa0JBQWtCLENBQUM7S0FBRTtJQUNuRSxNQUFNLE1BQU0sR0FBRyxJQUFJLEdBQUcsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO0lBQzNDLE1BQU0sQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLGlCQUFpQixDQUFDLCtCQUErQixFQUFFLEdBQUcsQ0FBQyxjQUFjLENBQUMsQ0FBQyxVQUFVLENBQUMsNkJBQTZCLENBQUMsQ0FBQyxDQUFDO0lBQ3JJLE1BQU0sQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLGlCQUFpQixDQUFDLGdCQUFnQixFQUFFLEdBQUcsQ0FBQyxlQUFlLENBQUMsQ0FBQyxVQUFVLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQztJQUN4RyxNQUFNLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxpQkFBaUIsQ0FBQyxtQ0FBbUMsRUFBRSxHQUFHLENBQUMsY0FBYyxDQUFDLENBQUMsVUFBVSxDQUFDLGlDQUFpQyxDQUFDLENBQUMsQ0FBQztJQUM3SSxNQUFNLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxpQkFBaUIsQ0FBQyxvQkFBb0IsRUFBRSxHQUFHLENBQUMsY0FBYyxDQUFDLENBQUMsVUFBVSxDQUFDLGtCQUFrQixDQUFDLENBQUMsQ0FBQztJQUMvRyxNQUFNLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxpQkFBaUIsQ0FBQyxrQ0FBa0MsRUFBRSxHQUFHLENBQUMsY0FBYyxDQUFDLENBQUMsVUFBVSxDQUFDLGdDQUFnQyxDQUFDLENBQUMs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RUFBRSxJQUFJLENBQUMsZ0NBQWdDO1lBQ3ZFLEtBQUssRUFBRSxJQUFJLENBQUMsS0FBSztZQUNqQixtQkFBbUIsRUFBRSxJQUFJLENBQUMsbUJBQW1CO1lBQzdDLG1CQUFtQixFQUFFLElBQUksQ0FBQyxtQkFBbUI7U0FDaEQsQ0FBQztJQUNOLENBQUM7SUFDUyxnQkFBZ0IsQ0FBQyxLQUEyQjtRQUNsRCxPQUFPLDZCQUE2QixDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsZ0NBQWdDLENBQUMsQ0FBQztJQUN2RixDQUFDOztBQTlNTCxrQ0ErTUM7QUE5TUc7O0dBRUc7QUFDb0Isa0NBQXNCLEdBQUcsdUJBQXVCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBHZW5lcmF0ZWQgZnJvbSB0aGUgQWxpQ2xvdWQgUk9TIFJlc291cmNlIFNwZWNpZmljYXRpb25cblxuaW1wb3J0ICogYXMgcm9zIGZyb20gJ0BhbGljbG91ZC9yb3MtY2RrLWNvcmUnO1xuXG4vKipcbiAqIFByb3BlcnRpZXMgZm9yIGRlZmluaW5nIGEgYFJvc0luc3RhbmNlYC5cbiAqIFNlZSBodHRwczovL3d3dy5hbGliYWJhY2xvdWQuY29tL2hlbHAvcm9zL2RldmVsb3Blci1yZWZlcmVuY2UvYWxpeXVuLXNhcy1pbnN0YW5jZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJvc0luc3RhbmNlUHJvcHMge1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IHBlcmlvZDogVGhlIHN1YnNjcmlwdGlvbiBwZXJpb2Qgb2YgdGhlIGZpcmV3YWxsSWYgUGVyaW9kVW5pdCBpcyBtb250aCwgdGhlIHZhbGlkIHJhbmdlIGlzIDEsIDMsIDZcbiAgICAgKiBJZiBwZXJpb2RVbml0IGlzIHllYXIsIHRoZSB2YWxpZCByYW5nZSBpcyAxLCAyLCAzXG4gICAgICovXG4gICAgcmVhZG9ubHkgcGVyaW9kOiBudW1iZXIgfCByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgcGVyaW9kVW5pdDogVGhlIHVuaXQgb2YgdGhlIHN1YnNjcmlwdGlvbiBkdXJhdGlvbi4gVmFsaWQgdmFsdWVzOlxuICAgICAqIE1vbnRoXG4gICAgICogWWVhclxuICAgICAqXG4gICAgICovXG4gICAgcmVhZG9ubHkgcGVyaW9kVW5pdDogc3RyaW5nIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IGFudGlSYW5zb213YXJlOiBTZWN1cml0eSBDZW50ZXIgcHJvdmlkZXMgYSBjb21wcmVoZW5zaXZlIGFudGktcmFuc29td2FyZSBzb2x1dGlvbiB0byBwcm90ZWN0IHlvdXIgYnVzaW5lc3MuIFdlIHJlY29tbWVuZCB0aGF0IHlvdSBjb25maWd1cmUgYSBkYXRhIHByb3RlY3Rpb24gY2FwYWNpdHkgb2YgNTBHQiBmb3IgZWFjaCBzZXJ2ZXIuXG4gICAgICovXG4gICAgcmVhZG9ubHkgYW50aVJhbnNvbXdhcmU/OiBudW1iZXIgfCByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgYW50aVJhbnNvbXdhcmVNYW5hZ2VTZXJ2aWNlOiBQcm92aWRlIHlvdSB3aXRoIHNlY3VyaXR5IGhvc3Rpbmcgc2VydmljZXMgc3VjaCBhcyBhbnRpLXJhbnNvbXdhcmUgY29uZmlndXJhdGlvbiwgbW9uaXRvcmluZywgYW5kIGFudGktcmFuc29td2FyZSBpbmNpZGVudCBlbWVyZ2VuY3kgcmVzcG9uc2UuXG4gICAgICogTm90ZTpcbiAgICAgKi9cbiAgICByZWFkb25seSBhbnRpUmFuc29td2FyZU1hbmFnZVNlcnZpY2U/OiBib29sZWFuIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IGF1dG9QYXk6IFdoZXRoZXIgdG8gYXV0byBwYXkgdGhlIGJpbGwuRGVmYXVsdDogVHJ1ZVxuICAgICAqL1xuICAgIHJlYWRvbmx5IGF1dG9QYXk/OiBib29sZWFuIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IGF1dG9SZW5ldzogV2hldGhlciB0byBhdXRvIHJlbmV3IHRoZSBwcmVwYXkgaW5zdGFuY2UuRGVmYXVsdDogRmFsc2VcbiAgICAgKi9cbiAgICByZWFkb25seSBhdXRvUmVuZXc/OiBib29sZWFuIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IGNsb3VkSG9uZXlwb3Q6IFRoZSBjbG91ZCBob25leXBvdCBmZWF0dXJlIGNhbiBjYXB0dXJlIGF0dGFja3MgaW4gYSB0aW1lbHkgYW5kIGVmZmljaWVudCBtYW5uZXIuIFlvdSBjYW4gdXNlIHRoZSBmZWF0dXJlIHRvIHByb3RlY3QgeW91ciBjb3JlIGFzc2V0cyBhbmQgZGV0ZWN0IGF0dGFja3MgaW4gYXR0YWNrIGFuZCBkZWZlbnNlIHNjZW5hcmlvcy5cbiAgICAgKi9cbiAgICByZWFkb25seSBjbG91ZEhvbmV5cG90PzogYm9vbGVhbiB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIEBQcm9wZXJ0eSBjb25maWd1cmF0aW9uQXNzZXNzbWVudDogVGhlIGNvbmZpZ3VyYXRpb24gYXNzZXNzbWVudCBmZWF0dXJlIGRldGVjdHMgY29uZmlndXJhdGlvbiBlcnJvcnMgYW5kIHNlY3VyaXR5IHJpc2tzIG9uIGNsb3VkIHNlcnZpY2VzIGZyb20gdGhlIGZvbGxvd2luZyBkaW1lbnNpb25zOiBpZGVudGl0eSBhbmQgcGVybWlzc2lvbiBtYW5hZ2VtZW50LCBzZWN1cml0eSByaXNrcyBpbiBBbGliYWJhIENsb3VkIHNlcnZpY2VzLCBhbmQgY29tcGxpYW5jZSByaXNrcy5UaGlzIGVuc3VyZXMgdGhlIHNlY3VyaXR5IG9mIHRoZSBydW5uaW5nIGVudmlyb25tZW50IG9mIHlvdXIgY2xvdWQgc2VydmljZXMuXG4gICAgICovXG4gICAgcmVhZG9ubHkgY29uZmlndXJhdGlvbkFzc2Vzc21lbnQ/OiBib29sZWFuIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IGNvbnRhaW5lckltYWdlU2NhbjogU2VjdXJpdHkgQ2VudGVyIHByb3ZpZGVzIHRoZSBjb250YWluZXIgaW1hZ2Ugc2NhbiBmZWF0dXJlIHRvIHByb3RlY3QgY29udGFpbmVycy4gU2VjdXJpdHkgQ2VudGVyIGNhbiBkZXRlY3QgQ1ZFcywgYXBwbGljYXRpb24gdnVsbmVyYWJpbGl0aWVzLCB2aXJ1c2VzLCBhbmQgbWFsaWNpb3VzIHNhbXBsZXMgYW5kIGFsbG93cyB5b3UgdG8gaGFuZGxlIHRoZSBkZXRlY3RlZCByaXNrcy4gWW91IGNhbiBjb25maWd1cmUgdGhpcyBwYXJhbWV0ZXIgYmFzZWQgb24gdGhlIG51bWJlciBvZiBpbWFnZXMgb3IgZGlnZXN0cy4gRm9yIGV4YW1wbGUsIGlmIHRoZSBudW1iZXIgb2YgaW1hZ2VzIG9yIGRpZ2VzdHMgdGhhdCBhcmUgdXBkYXRlZCBpbiB0aGUgcHJldmlvdXMgZGF5IGlzIDEwLCB5b3UgY2FuIHNldCB0aGlzIHBhcmFtZXRlciB0byAzMDAgZm9yIGEgbW9udGhseSBzdWJzY3JpcHRpb24gb3IgdG8gMzY1MCBmb3IgYSB5ZWFybHkgc3Vic2NyaXB0aW9uLiBUaGlzIGlzIG1vcmUgY29zdC1lZmZlY3RpdmUuXG4gICAgICovXG4gICAgcmVhZG9ubHkgY29udGFpbmVySW1hZ2VTY2FuPzogbnVtYmVyIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IGVkaXRpb246IFRoZSB2ZXJzaW9uIG9mIFNlY3VyaXR5IGNlbnRlci5cbiAgICAgKi9cbiAgICByZWFkb25seSBlZGl0aW9uPzogc3RyaW5nIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IGxvZ0FuYWx5c2lzOiBJbiByZXNwb25zZSB0byB0aGUgcmVxdWlyZW1lbnRzIG9mIHRoZSBuZXR3b3JrIHNlY3VyaXR5IGxhdywgd2hpY2ggcmVxdWlyZXMgbG9ncyB0byBiZSBzdG9yZWQgZm9yIGF0IGxlYXN0IDE4MCBkYXlzLCB3ZSByZWNvbW1lbmQgdGhhdCB5b3UgY29uZmlndXJlIGEgNDBHQiBsb2cgc3RvcmFnZSBlYWNoIHNlcnZlci4gTG9nIGFuYWx5c2lzIHN1cHBvcnRzIG11bHRpLWRpbWVuc2lvbmFsIHNlY3VyaXR5IGxvZ3Mgb2YgY2xvdWQgYXNzZXRzLCBvdXQtb2YtdGhlLWJveCByZXBvcnRzLCBhbmQgcG93ZXJmdWwgU1FMIHN5bnRheCBhbmFseXNpcywgc28gYXMgdG8gbW9uaXRvciBidXNpbmVzcyBzdGF0dXMsIHRyb3VibGVzaG9vdCBhdHRhY2tzLCBzZWN1cml0eSBvcGVyYXRpb25zIHN1Y2ggYXMgdHJhY2VhYmlsaXR5IGFuZCBwb3NpdGlvbmluZyBhcmUgZWFzaWVyLlxuICAgICAqL1xuICAgIHJlYWRvbmx5IGxvZ0FuYWx5c2lzPzogbnVtYmVyIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IG1hbGljaW91c0ZpbGVEZXRlY3Rpb25TZGs6IFRoZSBjb25maWd1cmF0aW9uIGFzc2Vzc21lbnQgZmVhdHVyZSBkZXRlY3RzIGNvbmZpZ3VyYXRpb24gZXJyb3JzIGFuZCBzZWN1cml0eSByaXNrcyBvbiBjbG91ZCBzZXJ2aWNlcyBmcm9tIHRoZSBmb2xsb3dpbmcgZGltZW5zaW9uczogaWRlbnRpdHkgYW5kIHBlcm1pc3Npb24gbWFuYWdlbWVudCwgc2VjdXJpdHkgcmlza3MgaW4gQWxpYmFiYSBDbG91ZCBzZXJ2aWNlcywgYW5kIGNvbXBsaWFuY2Ugcmlza3MuIFRoaXMgZW5zdXJlcyB0aGUgc2VjdXJpdHkgb2YgdGhlIHJ1bm5pbmcgZW52aXJvbm1lbnQgb2YgeW91ciBjbG91ZCBzZXJ2aWNlcy5cbiAgICAgKi9cbiAgICByZWFkb25seSBtYWxpY2lvdXNGaWxlRGV0ZWN0aW9uU2RrPzogYm9vbGVhbiB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIEBQcm9wZXJ0eSBwcm90ZWN0ZWRTZXJ2ZXJzOiBBdXRob3JpemF0aW9uIGlzIHRoZSBzYW1lIGFzIHRoZSBudW1iZXIgb2Ygc2VydmVycyB5b3UgaGF2ZS5cbiAgICAgKi9cbiAgICByZWFkb25seSBwcm90ZWN0ZWRTZXJ2ZXJzPzogbnVtYmVyIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IHF1b3RhRm9yQXBwbGljYXRpb25Qcm90ZWN0aW9uOiBUaGUgYXBwbGljYXRpb24gcHJvdGVjdGlvbiBmZWF0dXJlIGNhbiBkZXRlY3QgYXR0YWNrcyBvbiBhcHBsaWNhdGlvbnMgYW5kIHByb3ZpZGUgc2VsZi1wcm90ZWN0aW9uIGR1cmluZyBhcHBsaWNhdGlvbiBydW50aW1lLiBUaGUgZmVhdHVyZSBzdXBwb3J0cyBzaW1wbGUgYW5kIGNvbnZlbmllbnQgTyZNIGFuZCBjYW4gZWZmZWN0aXZlbHkgZGVmZW5kIGFnYWluc3QgemVyby1kYXkgYW5kIE9XQVNQIFRvcCB2dWxuZXJhYmlsaXRpZXMuIFRoZSBmZWF0dXJlIGlzIGEgdmFsdWUtYWRkZWQgZmVhdHVyZS4gWW91IGFyZSBjaGFyZ2VkIGJhc2VkIG9uIHRoZSBudW1iZXIgb2YgYXNzZXRzIG9uIHdoaWNoIHRoZSBSQVNQIGFnZW50IGlzIGluc3RhbGxlZC4gWW91IG11c3QgY29uZmlndXJlIHByb3RlY3Rpb24gcG9saWNpZXMgYWZ0ZXIgeW91IHB1cmNoYXNlIHRoZSBmZWF0dXJlLlxuICAgICAqL1xuICAgIHJlYWRvbmx5IHF1b3RhRm9yQXBwbGljYXRpb25Qcm90ZWN0aW9uPzogbnVtYmVyIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IHF1b3RhRm9yQ2xvdWRIb25leXBvdDpcbiAgICAgKi9cbiAgICByZWFkb25seSBxdW90YUZvckNsb3VkSG9uZXlwb3Q/OiBudW1iZXIgfCByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgcXVvdGFGb3JDb25maWd1cmF0aW9uQXNzZXNzbWVudDpcbiAgICAgKi9cbiAgICByZWFkb25seSBxdW90YUZvckNvbmZpZ3VyYXRpb25Bc3Nlc3NtZW50PzogbnVtYmVyIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IHF1b3RhRm9yTWFsaWNpb3VzRmlsZURldGVjdGlvblNkazpcbiAgICAgKi9cbiAgICByZWFkb25seSBxdW90YUZvck1hbGljaW91c0ZpbGVEZXRlY3Rpb25TZGs/OiBudW1iZXIgfCByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgcXVvdGFGb3JWdWxuZXJhYmlsaXR5Rml4aW5nOiBTcGVjaWZ5IHRoZSBxdW90YSBmb3IgdnVsbmVyYWJpbGl0eSBmaXhpbmcgYmFzZWQgb24gdGhlIG51bWJlciBvZiB2dWxuZXJhYmlsaXRpZXMgdGhhdCB5b3Ugd2FudCB0byBmaXggZWFjaCBtb250aC4gVGhlIHF1b3RhIGlzIGVxdWFsIHRvIHRoZSB0b3RhbCBudW1iZXIgb2YgdnVsbmVyYWJpbGl0aWVzIHRoYXQgeW91IHdhbnQgdG8gZml4IG9uIGFsbCBzZXJ2ZXJzIHJlZ2FyZGxlc3Mgb2YgdGhlIHZ1bG5lcmFiaWxpdHkgbmFtZXMuIEZvciBleGFtcGxlLCBpZiB5b3UgdXNlIFNlY3VyaXR5IENlbnRlciB0byBmaXggdGhlIHNhbWUgdnVsbmVyYWJpbGl0eSBvbiAxMCBzZXJ2ZXJzLCB0aGUgcXVvdGEgaXMgZGVkdWN0ZWQgYnkgMTAuXG4gICAgICovXG4gICAgcmVhZG9ubHkgcXVvdGFGb3JWdWxuZXJhYmlsaXR5Rml4aW5nPzogbnVtYmVyIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IHF1b3RhRm9yV2ViVGFtcGVyUHJvb2Zpbmc6XG4gICAgICovXG4gICAgcmVhZG9ubHkgcXVvdGFGb3JXZWJUYW1wZXJQcm9vZmluZz86IG51bWJlciB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIEBQcm9wZXJ0eSB0aHJlYXRBbmFseXNpczogVGhlIHRocmVhdCBhbmFseXNpcyBmZWF0dXJlIGFsbG93cyB5b3UgdG8gaGFuZGxlIGFsZXJ0cyB0aGF0IGFyZSBnZW5lcmF0ZWQgZm9yIGFzc2V0cyBpbiB0aGUgY2xvdWQgd2l0aGluIGRpZmZlcmVudCBhY2NvdW50cyBhbmQgYXNzZXRzIG9mIG11bHRpcGxlIGNsb3VkIHNlcnZpY2VzIGluIGEgY2VudHJhbGl6ZWQgbWFubmVyLiBUaGUgZmVhdHVyZSBhbHNvIGFsbG93cyB5b3UgdG8gaGFuZGxlIHJpc2tzIHdpdGggYSBmZXcgY2xpY2tzLiBUaGUgZmVhdHVyZSBwcm92aWRlcyBhdXRvbWF0aWMgb3JjaGVzdHJhdGlvbiBhbmQgcmVzcG9uc2UgY2FwYWJpbGl0aWVzLlxuICAgICAqL1xuICAgIHJlYWRvbmx5IHRocmVhdEFuYWx5c2lzPzogYm9vbGVhbiB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIEBQcm9wZXJ0eSB0aHJlYXRBbmFseXNpc0xvZ1N0b3JhZ2VDYXBhY2l0eTpcbiAgICAgKi9cbiAgICByZWFkb25seSB0aHJlYXRBbmFseXNpc0xvZ1N0b3JhZ2VDYXBhY2l0eT86IG51bWJlciB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIEBQcm9wZXJ0eSB2Q29yZTogVGhpcyBwYXJhbWV0ZXIgaW5kaWNhdGVzIHRoZSBudW1iZXIgb2Ygc2VydmVyIHZDUFVzLlxuICAgICAqL1xuICAgIHJlYWRvbmx5IHZDb3JlPzogbnVtYmVyIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IHZ1bG5lcmFiaWxpdHlGaXhpbmc6IFRoZSB2dWxuZXJhYmlsaXR5IGZpeGluZyBmZWF0dXJlIGFsbG93cyB5b3UgdG8gZml4IHN5c3RlbSB2dWxuZXJhYmlsaXRpZXMgd2l0aCBhIGZldyBjbGlja3MuIFRoaXMgaW1wcm92ZXMgTyZNIGVmZmljaWVuY3kuIFlvdSBjYW4gc2VwYXJhdGVseSBwdXJjaGFzZSB0aGUgdnVsbmVyYWJpbGl0eSBmaXhpbmcgZmVhdHVyZS4gWW91IGFyZSBjaGFyZ2VkIGJhc2VkIG9uIHRoZSBudW1iZXIgb2YgdGltZXMgdGhhdCB5b3UgcGVyZm9ybSB2dWxuZXJhYmlsaXR5IGZpeGluZy5cbiAgICAgKi9cbiAgICByZWFkb25seSB2dWxuZXJhYmlsaXR5Rml4aW5nPzogYm9vbGVhbiB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIEBQcm9wZXJ0eSB3ZWJUYW1wZXJQcm90ZWN0aW9uOiBUbyBlbnN1cmUgdGhhdCB0aGUgd2Vic2l0ZSBpbmZvcm1hdGlvbiBvZiBpbXBvcnRhbnQgc3lzdGVtcyBpcyBub3QgbWFsaWNpb3VzbHkgdGFtcGVyZWQgd2l0aCwgdGhlcmUgYXJlIGJhZCBjb250ZW50IHN1Y2ggYXMgaGFuZ2luZyBob3JzZXMsIGJsYWNrIGNoYWlucywgaWxsZWdhbCBpbXBsYW50YXRpb24gb2YgdGVycm9yaXN0IHRocmVhdHMsIHBvcm5vZ3JhcGh5LCBldGMuXG4gICAgICovXG4gICAgcmVhZG9ubHkgd2ViVGFtcGVyUHJvdGVjdGlvbj86IGJvb2xlYW4gfCByb3MuSVJlc29sdmFibGU7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIHdoZXRoZXIgdGhlIGdpdmVuIHByb3BlcnRpZXMgbWF0Y2ggdGhvc2Ugb2YgYSBgUm9zSW5zdGFuY2VQcm9wc2BcbiAqXG4gKiBAcGFyYW0gcHJvcGVydGllcyAtIHRoZSBUeXBlU2NyaXB0IHByb3BlcnRpZXMgb2YgYSBgUm9zSW5zdGFuY2VQcm9wc2BcbiAqXG4gKiBAcmV0dXJucyB0aGUgcmVzdWx0IG9mIHRoZSB2YWxpZGF0aW9uLlxuICovXG5mdW5jdGlvbiBSb3NJbnN0YW5jZVByb3BzVmFsaWRhdG9yKHByb3BlcnRpZXM6IGFueSk6IHJvcy5WYWxpZGF0aW9uUmVzdWx0IHtcbiAgICBpZiAoIXJvcy5jYW5JbnNwZWN0KHByb3BlcnRpZXMpKSB7IHJldHVybiByb3MuVkFMSURBVElPTl9TVUNDRVNTOyB9XG4gICAgY29uc3QgZXJyb3JzID0gbmV3IHJvcy5WYWxpZGF0aW9uUmVzdWx0cygpO1xuICAgIGVycm9ycy5jb2xsZWN0KHJvcy5wcm9wZXJ0eVZhbGlkYXRvcigncXVvdGFGb3JBcHBsaWNhdGlvblByb3RlY3Rpb24nLCByb3MudmFsaWRhdGVOdW1iZXIpKHByb3BlcnRpZXMucXVvdGFGb3JBcHBsaWNhdGlvblByb3RlY3Rpb24pKTtcbiAgICBlcnJvcnMuY29sbGVjdChyb3MucHJvcGVydHlWYWxpZGF0b3IoJ3RocmVhdEFuYWx5c2lzJywgcm9zLnZhbGlkYXRlQm9vbGVhbikocHJvcGVydGllcy50aHJlYXRBbmFseXNpcykpO1xuICAgIGVycm9ycy5jb2xsZWN0KHJvcy5wcm9wZXJ0eVZhbGlkYXRvcigncXVvdGFGb3JNYWxpY2lvdXNGaWxlRGV0ZWN0aW9uU2RrJywgcm9zLnZhbGlkYXRlTnVtYmVyKShwcm9wZXJ0aWVzLnF1b3RhRm9yTWFsaWNpb3VzRmlsZURldGVjdGlvblNkaykpO1xuICAgIGVycm9ycy5jb2xsZWN0KHJvcy5wcm9wZXJ0eVZhbGlkYXRvcignY29udGFpbmVySW1hZ2VTY2FuJywgcm9zLnZhbGlkYXRlTnVtYmVyKShwcm9wZXJ0aWVzLmNvbnRhaW5lckltYWdlU2NhbikpO1xuICAgIGVycm9ycy5jb2xsZWN0KHJvcy5wcm9wZXJ0eVZhbGlkYXRvcigndGhyZWF0QW5hbHlzaXNMb2dTdG9yYWdlQ2FwYWNpdHknLCByb3MudmFsaWRhdGVOdW1iZXIpKHByb3BlcnRpZXMudGhyZWF0QW5hbHlzaXNMb2dTdG9yYWdlQ2FwYWNpdHkpKTtcbiAgICBlcnJvcnMuY29sbGVjdChyb3MucHJvcGVydHlWYWxpZGF0b3IoJ2F1dG9SZW5ldycsIHJvcy52YWxpZGF0ZUJvb2xlYW4pKHByb3BlcnRpZXMuYXV0b1JlbmV3KSk7XG4gICAgZXJyb3JzLmNvbGxlY3Qocm9zLnByb3BlcnR5VmFsaWRhdG9yKCdtYWxpY2lvdXNGaWxlRGV0ZWN0aW9uU2RrJywgcm9zLnZhbGlkYXRlQm9vbGVhbikocHJvcGVydGllcy5tYWxpY2lvdXNGaWxlRGV0ZWN0aW9uU2RrKSk7XG4gICAgZXJyb3JzLmNvbGxlY3Qocm9zLnByb3BlcnR5VmFsaWRhdG9yKCd2Q29yZScsIHJvcy52YWxpZGF0ZU51bWJlcikocHJvcGVydGllcy52Q29yZSkpO1xuICAgIGVycm9ycy5jb2xsZWN0KHJvcy5wcm9wZXJ0eVZhbGlkYXRvcigncGVyaW9kJywgcm9zLnJlcXVpcmVkVmFsaWRhdG9yKShwcm9wZXJ0aWVzLnBlcmlvZCkpO1xuICAgIGlmKHByb3BlcnRpZXMucGVyaW9kICYmICh0eXBlb2YgcHJvcGVydGllcy5wZXJpb2QpICE9PSAnb2JqZWN0Jykge1xuICAgICAgICBlcnJvcnMuY29sbGVjdChyb3MucHJvcGVydHlWYWxpZGF0b3IoJ3BlcmlvZCcsIHJvcy52YWxpZGF0ZUFsbG93ZWRWYWx1ZXMpKHtcbiAgICAgICAgICBkYXRhOiBwcm9wZXJ0aWVzLnBlcmlvZCxcbiAgICAgICAgICBhbGxvd2VkVmFsdWVzOiBbMSwyLDMsNl0sXG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgZXJyb3JzLmNvbGxlY3Qocm9zLnByb3BlcnR5VmFsaWRhdG9yKCdwZXJpb2QnLCByb3MudmFsaWRhdGVOdW1iZXIpKHByb3BlcnRpZXMucGVyaW9kKSk7XG4gICAgZXJyb3JzLmNvbGxlY3Qocm9zLnByb3BlcnR5VmFsaWRhdG9yKCd2dWxuZXJhYmlsaXR5Rml4aW5nJywgcm9zLnZhbGlkYXRlQm9vbGVhbikocHJvcGVydGllcy52dWxuZXJhYmlsaXR5Rml4aW5nKSk7XG4gICAgZXJyb3JzLmNvbGxlY3Qocm9zLnByb3BlcnR5VmFsaWRhdG9yKCdxdW90YUZvckNsb3VkSG9uZXlwb3QnLCByb3MudmFsaWRhdGVOdW1iZXIpKHByb3BlcnRpZXMucXVvdGFGb3JDbG91ZEhvbmV5cG90KSk7XG4gICAgZXJyb3JzLmNvbGxlY3Qocm9zLnByb3BlcnR5VmFsaWRhdG9yKCdxdW90YUZvcldlYlRhbXBlclByb29maW5nJywgcm9zLnZhbGlkYXRlTnVtYmVyKShwcm9wZXJ0aWVzLnF1b3RhRm9yV2ViVGFtcGVyUHJvb2ZpbmcpKTtcbiAgICBlcnJvcnMuY29sbGVjdChyb3MucHJvcGVydHlWYWxpZGF0b3IoJ2F1dG9QYXknLCByb3MudmFsaWRhdGVCb29sZWFuKShwcm9wZXJ0aWVzLmF1dG9QYXkpKTtcbiAgICBlcnJvcnMuY29sbGVjdChyb3MucHJvcGVydHlWYWxpZGF0b3IoJ2FudGlSYW5zb213YXJlTWFuYWdlU2VydmljZScsIHJvcy52YWxpZGF0ZUJvb2xlYW4pKHByb3BlcnRpZXMuYW50aVJhbnNvbXdhcmVNYW5hZ2VTZXJ2aWNlKSk7XG4gICAgaWYocHJvcGVydGllcy5lZGl0aW9uICYmICh0eXBlb2YgcHJvcGVydGllcy5lZGl0aW9uKSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgZXJyb3JzLmNvbGxlY3Qocm9zLnByb3BlcnR5VmFsaWRhdG9yKCdlZGl0aW9uJywgcm9zLnZhbGlkYXRlQWxsb3dlZFZhbHVlcykoe1xuICAgICAgICAgIGRhdGE6IHByb3BlcnRpZXMuZWRpdGlvbixcbiAgICAgICAgICBhbGxvd2VkVmFsdWVzOiBbXCJBbnRpLXZpcnVzXCIsXCJBZHZhbmNlZFwiLFwiRW50ZXJwcmlzZVwiLFwiVWx0aW1hdGVcIixcIlZhbHVlLWFkZGVkIFBsYW5cIl0sXG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgZXJyb3JzLmNvbGxlY3Qocm9zLnByb3BlcnR5VmFsaWRhdG9yKCdlZGl0aW9uJywgcm9zLnZhbGlkYXRlU3RyaW5nKShwcm9wZXJ0aWVzLmVkaXRpb24pKTtcbiAgICBlcnJvcnMuY29sbGVjdChyb3MucHJvcGVydHlWYWxpZGF0b3IoJ2NvbmZpZ3VyYXRpb25Bc3Nlc3NtZW50Jywgcm9zLnZhbGlkYXRlQm9vbGVhbikocHJvcGVydGllcy5jb25maWd1cmF0aW9uQXNzZXNzbWVudCkpO1xuICAgIGVycm9ycy5jb2xsZWN0KHJvcy5wcm9wZXJ0eVZhbGlkYXRvcignbG9nQW5hbHlzaXMnLCByb3MudmFsaWRhdGVOdW1iZXIpKHByb3BlcnRpZXMubG9nQW5hbHlzaXMpKTtcbiAgICBlcnJvcnMuY29sbGVjdChyb3MucHJvcGVydHlWYWxpZGF0b3IoJ3Byb3RlY3RlZFNlcnZlcnMnLCByb3MudmFsaWRhdGVOdW1iZXIpKHByb3BlcnRpZXMucHJvdGVjdGVkU2VydmVycykpO1xuICAgIGVycm9ycy5jb2xsZWN0KHJvcy5wcm9wZXJ0eVZhbGlkYXRvcignY2xvdWRIb25leXBvdCcsIHJvcy52YWxpZGF0ZUJvb2xlYW4pKHByb3BlcnRpZXMuY2xvdWRIb25leXBvdCkpO1xuICAgIGVycm9ycy5jb2xsZWN0KHJvcy5wcm9wZXJ0eVZhbGlkYXRvcignd2ViVGFtcGVyUHJvdGVjdGlvbicsIHJvcy52YWxpZGF0ZUJvb2xlYW4pKHByb3BlcnRpZXMud2ViVGFtcGVyUHJvdGVjdGlvbikpO1xuICAgIGVycm9ycy5jb2xsZWN0KHJvcy5wcm9wZXJ0eVZhbGlkYXRvcigncXVvdGFGb3JDb25maWd1cmF0aW9uQXNzZXNzbWVudCcsIHJvcy52YWxpZGF0ZU51bWJlcikocHJvcGVydGllcy5xdW90YUZvckNvbmZpZ3VyYXRpb25Bc3Nlc3NtZW50KSk7XG4gICAgZXJyb3JzLmNvbGxlY3Qocm9zLnByb3BlcnR5VmFsaWRhdG9yKCdxdW90YUZvclZ1bG5lcmFiaWxpdHlGaXhpbmcnLCByb3MudmFsaWRhdGVOdW1iZXIpKHByb3BlcnRpZXMucXVvdGFGb3JWdWxuZXJhYmlsaXR5Rml4aW5nKSk7XG4gICAgZXJyb3JzLmNvbGxlY3Qocm9zLnByb3BlcnR5VmFsaWRhdG9yKCdhbnRpUmFuc29td2FyZScsIHJvcy52YWxpZGF0ZU51bWJlcikocHJvcGVydGllcy5hbnRpUmFuc29td2FyZSkpO1xuICAgIGVycm9ycy5jb2xsZWN0KHJvcy5wcm9wZXJ0eVZhbGlkYXRvcigncGVyaW9kVW5pdCcsIHJvcy5yZXF1aXJlZFZhbGlkYXRvcikocHJvcGVydGllcy5wZXJpb2RVbml0KSk7XG4gICAgaWYocHJvcGVydGllcy5wZXJpb2RVbml0ICYmICh0eXBlb2YgcHJvcGVydGllcy5wZXJpb2RVbml0KSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgZXJyb3JzLmNvbGxlY3Qocm9zLnByb3BlcnR5VmFsaWRhdG9yKCdwZXJpb2RVbml0Jywgcm9zLnZhbGlkYXRlQWxsb3dlZFZhbHVlcykoe1xuICAgICAgICAgIGRhdGE6IHByb3BlcnRpZXMucGVyaW9kVW5pdCxcbiAgICAgICAgICBhbGxvd2VkVmFsdWVzOiBbXCJNb250aFwiLFwiWWVhclwiXSxcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBlcnJvcnMuY29sbGVjdChyb3MucHJvcGVydHlWYWxpZGF0b3IoJ3BlcmlvZFVuaXQnLCByb3MudmFsaWRhdGVTdHJpbmcpKHByb3BlcnRpZXMucGVyaW9kVW5pdCkpO1xuICAgIHJldHVybiBlcnJvcnMud3JhcCgnc3VwcGxpZWQgcHJvcGVydGllcyBub3QgY29ycmVjdCBmb3IgXCJSb3NJbnN0YW5jZVByb3BzXCInKTtcbn1cblxuLyoqXG4gKiBSZW5kZXJzIHRoZSBBbGlDbG91ZCBST1MgUmVzb3VyY2UgcHJvcGVydGllcyBvZiBhbiBgQUxJWVVOOjpTQVM6Okluc3RhbmNlYCByZXNvdXJjZVxuICpcbiAqIEBwYXJhbSBwcm9wZXJ0aWVzIC0gdGhlIFR5cGVTY3JpcHQgcHJvcGVydGllcyBvZiBhIGBSb3NJbnN0YW5jZVByb3BzYFxuICpcbiAqIEByZXR1cm5zIHRoZSBBbGlDbG91ZCBST1MgUmVzb3VyY2UgcHJvcGVydGllcyBvZiBhbiBgQUxJWVVOOjpTQVM6Okluc3RhbmNlYCByZXNvdXJjZS5cbiAqL1xuLy8gQHRzLWlnbm9yZSBUUzYxMzNcbmZ1bmN0aW9uIHJvc0luc3RhbmNlUHJvcHNUb1Jvc1RlbXBsYXRlKHByb3BlcnRpZXM6IGFueSwgZW5hYmxlUmVzb3VyY2VQcm9wZXJ0eUNvbnN0cmFpbnQ6IGJvb2xlYW4pOiBhbnkge1xuICAgIGlmICghcm9zLmNhbkluc3BlY3QocHJvcGVydGllcykpIHsgcmV0dXJuIHByb3BlcnRpZXM7IH1cbiAgICBpZihlbmFibGVSZXNvdXJjZVByb3BlcnR5Q29uc3RyYWludCkge1xuICAgICAgICBSb3NJbnN0YW5jZVByb3BzVmFsaWRhdG9yKHByb3BlcnRpZXMpLmFzc2VydFN1Y2Nlc3MoKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICdQZXJpb2QnOiByb3MubnVtYmVyVG9Sb3NUZW1wbGF0ZShwcm9wZXJ0aWVzLnBlcmlvZCksXG4gICAgICAnUGVyaW9kVW5pdCc6IHJvcy5zdHJpbmdUb1Jvc1RlbXBsYXRlKHByb3BlcnRpZXMucGVyaW9kVW5pdCksXG4gICAgICAnQW50aVJhbnNvbXdhcmUnOiByb3MubnVtYmVyVG9Sb3NUZW1wbGF0ZShwcm9wZXJ0aWVzLmFudGlSYW5zb213YXJlKSxcbiAgICAgICdBbnRpUmFuc29td2FyZU1hbmFnZVNlcnZpY2UnOiByb3MuYm9vbGVhblRvUm9zVGVtcGxhdGUocHJvcGVydGllcy5hbnRpUmFuc29td2FyZU1hbmFnZVNlcnZpY2UpLFxuICAgICAgJ0F1dG9QYXknOiByb3MuYm9vbGVhblRvUm9zVGVtcGxhdGUocHJvcGVydGllcy5hdXRvUGF5KSxcbiAgICAgICdBdXRvUmVuZXcnOiByb3MuYm9vbGVhblRvUm9zVGVtcGxhdGUocHJvcGVydGllcy5hdXRvUmVuZXcpLFxuICAgICAgJ0Nsb3VkSG9uZXlwb3QnOiByb3MuYm9vbGVhblRvUm9zVGVtcGxhdGUocHJvcGVydGllcy5jbG91ZEhvbmV5cG90KSxcbiAgICAgICdDb25maWd1cmF0aW9uQXNzZXNzbWVudCc6IHJvcy5ib29sZWFuVG9Sb3NUZW1wbGF0ZShwcm9wZXJ0aWVzLmNvbmZpZ3VyYXRpb25Bc3Nlc3NtZW50KSxcbiAgICAgICdDb250YWluZXJJbWFnZVNjYW4nOiByb3MubnVtYmVyVG9Sb3NUZW1wbGF0ZShwcm9wZXJ0aWVzLmNvbnRhaW5lckltYWdlU2NhbiksXG4gICAgICAnRWRpdGlvbic6IHJvcy5zdHJpbmdUb1Jvc1RlbXBsYXRlKHByb3BlcnRpZXMuZWRpdGlvbiksXG4gICAgICAnTG9nQW5hbHlzaXMnOiByb3MubnVtYmVyVG9Sb3NUZW1wbGF0ZShwcm9wZXJ0aWVzLmxvZ0FuYWx5c2lzKSxcbiAgICAgICdNYWxpY2lvdXNGaWxlRGV0ZWN0aW9uU0RLJzogcm9zLmJvb2xlYW5Ub1Jvc1RlbXBsYXRlKHByb3BlcnRpZXMubWFsaWNpb3VzRmlsZURldGVjdGlvblNkayksXG4gICAgICAnUHJvdGVjdGVkU2VydmVycyc6IHJvcy5udW1iZXJUb1Jvc1RlbXBsYXRlKHByb3BlcnRpZXMucHJvdGVjdGVkU2VydmVycyksXG4gICAgICAnUXVvdGFGb3JBcHBsaWNhdGlvblByb3RlY3Rpb24nOiByb3MubnVtYmVyVG9Sb3NUZW1wbGF0ZShwcm9wZXJ0aWVzLnF1b3RhRm9yQXBwbGljYXRpb25Qcm90ZWN0aW9uKSxcbiAgICAgICdRdW90YUZvckNsb3VkSG9uZXlwb3QnOiByb3MubnVtYmVyVG9Sb3NUZW1wbGF0ZShwcm9wZXJ0aWVzLnF1b3RhRm9yQ2xvdWRIb25leXBvdCksXG4gICAgICAnUXVvdGFGb3JDb25maWd1cmF0aW9uQXNzZXNzbWVudCc6IHJvcy5udW1iZXJUb1Jvc1RlbXBsYXRlKHByb3BlcnRpZXMucXVvdGFGb3JDb25maWd1cmF0aW9uQXNzZXNzbWVudCksXG4gICAgICAnUXVvdGFGb3JNYWxpY2lvdXNGaWxlRGV0ZWN0aW9uU0RLJzogcm9zLm51bWJlclRvUm9zVGVtcGxhdGUocHJvcGVydGllcy5xdW90YUZvck1hbGljaW91c0ZpbGVEZXRlY3Rpb25TZGspLFxuICAgICAgJ1F1b3RhRm9yVnVsbmVyYWJpbGl0eUZpeGluZyc6IHJvcy5udW1iZXJUb1Jvc1RlbXBsYXRlKHByb3BlcnRpZXMucXVvdGFGb3JWdWxuZXJhYmlsaXR5Rml4aW5nKSxcbiAgICAgICdRdW90YUZvcldlYlRhbXBlclByb29maW5nJzogcm9zLm51bWJlclRvUm9zVGVtcGxhdGUocHJvcGVydGllcy5xdW90YUZvcldlYlRhbXBlclByb29maW5nKSxcbiAgICAgICdUaHJlYXRBbmFseXNpcyc6IHJvcy5ib29sZWFuVG9Sb3NUZW1wbGF0ZShwcm9wZXJ0aWVzLnRocmVhdEFuYWx5c2lzKSxcbiAgICAgICdUaHJlYXRBbmFseXNpc0xvZ1N0b3JhZ2VDYXBhY2l0eSc6IHJvcy5udW1iZXJUb1Jvc1RlbXBsYXRlKHByb3BlcnRpZXMudGhyZWF0QW5hbHlzaXNMb2dTdG9yYWdlQ2FwYWNpdHkpLFxuICAgICAgJ1ZDb3JlJzogcm9zLm51bWJlclRvUm9zVGVtcGxhdGUocHJvcGVydGllcy52Q29yZSksXG4gICAgICAnVnVsbmVyYWJpbGl0eUZpeGluZyc6IHJvcy5ib29sZWFuVG9Sb3NUZW1wbGF0ZShwcm9wZXJ0aWVzLnZ1bG5lcmFiaWxpdHlGaXhpbmcpLFxuICAgICAgJ1dlYlRhbXBlclByb3RlY3Rpb24nOiByb3MuYm9vbGVhblRvUm9zVGVtcGxhdGUocHJvcGVydGllcy53ZWJUYW1wZXJQcm90ZWN0aW9uKSxcbiAgICB9O1xufVxuXG4vKipcbiAqIFRoaXMgY2xhc3MgaXMgYSBiYXNlIGVuY2Fwc3VsYXRpb24gYXJvdW5kIHRoZSBST1MgcmVzb3VyY2UgdHlwZSBgQUxJWVVOOjpTQVM6Okluc3RhbmNlYC5cbiAqIEBOb3RlIFRoaXMgY2xhc3MgZG9lcyBub3QgY29udGFpbiBhZGRpdGlvbmFsIGZ1bmN0aW9ucywgc28gaXQgaXMgcmVjb21tZW5kZWQgdG8gdXNlIHRoZSBgSW5zdGFuY2VgIGNsYXNzIGluc3RlYWQgb2YgdGhpcyBjbGFzcyBmb3IgYSBtb3JlIGNvbnZlbmllbnQgZGV2ZWxvcG1lbnQgZXhwZXJpZW5jZS5cbiAqIFNlZSBodHRwczovL3d3dy5hbGliYWJhY2xvdWQuY29tL2hlbHAvcm9zL2RldmVsb3Blci1yZWZlcmVuY2UvYWxpeXVuLXNhcy1pbnN0YW5jZVxuICovXG5leHBvcnQgY2xhc3MgUm9zSW5zdGFuY2UgZXh0ZW5kcyByb3MuUm9zUmVzb3VyY2Uge1xuICAgIC8qKlxuICAgICAqIFRoZSByZXNvdXJjZSB0eXBlIG5hbWUgZm9yIHRoaXMgcmVzb3VyY2UgY2xhc3MuXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBST1NfUkVTT1VSQ0VfVFlQRV9OQU1FID0gXCJBTElZVU46OlNBUzo6SW5zdGFuY2VcIjtcblxuICAgIC8qKlxuICAgICAqIEBBdHRyaWJ1dGUgSW5zdGFuY2VJZDogSW5zdGFuY2UgSWQuXG4gICAgICovXG4gICAgcHVibGljIHJlYWRvbmx5IGF0dHJJbnN0YW5jZUlkOiByb3MuSVJlc29sdmFibGU7XG5cbiAgICBwdWJsaWMgZW5hYmxlUmVzb3VyY2VQcm9wZXJ0eUNvbnN0cmFpbnQ6IGJvb2xlYW47XG5cblxuICAgIC8qKlxuICAgICAqIEBQcm9wZXJ0eSBwZXJpb2Q6IFRoZSBzdWJzY3JpcHRpb24gcGVyaW9kIG9mIHRoZSBmaXJld2FsbElmIFBlcmlvZFVuaXQgaXMgbW9udGgsIHRoZSB2YWxpZCByYW5nZSBpcyAxLCAzLCA2XG4gICAgICogSWYgcGVyaW9kVW5pdCBpcyB5ZWFyLCB0aGUgdmFsaWQgcmFuZ2UgaXMgMSwgMiwgM1xuICAgICAqL1xuICAgIHB1YmxpYyBwZXJpb2Q6IG51bWJlciB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIEBQcm9wZXJ0eSBwZXJpb2RVbml0OiBUaGUgdW5pdCBvZiB0aGUgc3Vic2NyaXB0aW9uIGR1cmF0aW9uLiBWYWxpZCB2YWx1ZXM6XG4gICAgICogTW9udGhcbiAgICAgKiBZZWFyXG4gICAgICpcbiAgICAgKi9cbiAgICBwdWJsaWMgcGVyaW9kVW5pdDogc3RyaW5nIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IGFudGlSYW5zb213YXJlOiBTZWN1cml0eSBDZW50ZXIgcHJvdmlkZXMgYSBjb21wcmVoZW5zaXZlIGFudGktcmFuc29td2FyZSBzb2x1dGlvbiB0byBwcm90ZWN0IHlvdXIgYnVzaW5lc3MuIFdlIHJlY29tbWVuZCB0aGF0IHlvdSBjb25maWd1cmUgYSBkYXRhIHByb3RlY3Rpb24gY2FwYWNpdHkgb2YgNTBHQiBmb3IgZWFjaCBzZXJ2ZXIuXG4gICAgICovXG4gICAgcHVibGljIGFudGlSYW5zb213YXJlOiBudW1iZXIgfCByb3MuSVJlc29sdmFibGUgfCB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgYW50aVJhbnNvbXdhcmVNYW5hZ2VTZXJ2aWNlOiBQcm92aWRlIHlvdSB3aXRoIHNlY3VyaXR5IGhvc3Rpbmcgc2VydmljZXMgc3VjaCBhcyBhbnRpLXJhbnNvbXdhcmUgY29uZmlndXJhdGlvbiwgbW9uaXRvcmluZywgYW5kIGFudGktcmFuc29td2FyZSBpbmNpZGVudCBlbWVyZ2VuY3kgcmVzcG9uc2UuXG4gICAgICogTm90ZTpcbiAgICAgKi9cbiAgICBwdWJsaWMgYW50aVJhbnNvbXdhcmVNYW5hZ2VTZXJ2aWNlOiBib29sZWFuIHwgcm9zLklSZXNvbHZhYmxlIHwgdW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IGF1dG9QYXk6IFdoZXRoZXIgdG8gYXV0byBwYXkgdGhlIGJpbGwuRGVmYXVsdDogVHJ1ZVxuICAgICAqL1xuICAgIHB1YmxpYyBhdXRvUGF5OiBib29sZWFuIHwgcm9zLklSZXNvbHZhYmxlIHwgdW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IGF1dG9SZW5ldzogV2hldGhlciB0byBhdXRvIHJlbmV3IHRoZSBwcmVwYXkgaW5zdGFuY2UuRGVmYXVsdDogRmFsc2VcbiAgICAgKi9cbiAgICBwdWJsaWMgYXV0b1JlbmV3OiBib29sZWFuIHwgcm9zLklSZXNvbHZhYmxlIHwgdW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IGNsb3VkSG9uZXlwb3Q6IFRoZSBjbG91ZCBob25leXBvdCBmZWF0dXJlIGNhbiBjYXB0dXJlIGF0dGFja3MgaW4gYSB0aW1lbHkgYW5kIGVmZmljaWVudCBtYW5uZXIuIFlvdSBjYW4gdXNlIHRoZSBmZWF0dXJlIHRvIHByb3RlY3QgeW91ciBjb3JlIGFzc2V0cyBhbmQgZGV0ZWN0IGF0dGFja3MgaW4gYXR0YWNrIGFuZCBkZWZlbnNlIHNjZW5hcmlvcy5cbiAgICAgKi9cbiAgICBwdWJsaWMgY2xvdWRIb25leXBvdDogYm9vbGVhbiB8IHJvcy5JUmVzb2x2YWJsZSB8IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIEBQcm9wZXJ0eSBjb25maWd1cmF0aW9uQXNzZXNzbWVudDogVGhlIGNvbmZpZ3VyYXRpb24gYXNzZXNzbWVudCBmZWF0dXJlIGRldGVjdHMgY29uZmlndXJhdGlvbiBlcnJvcnMgYW5kIHNlY3VyaXR5IHJpc2tzIG9uIGNsb3VkIHNlcnZpY2VzIGZyb20gdGhlIGZvbGxvd2luZyBkaW1lbnNpb25zOiBpZGVudGl0eSBhbmQgcGVybWlzc2lvbiBtYW5hZ2VtZW50LCBzZWN1cml0eSByaXNrcyBpbiBBbGliYWJhIENsb3VkIHNlcnZpY2VzLCBhbmQgY29tcGxpYW5jZSByaXNrcy5UaGlzIGVuc3VyZXMgdGhlIHNlY3VyaXR5IG9mIHRoZSBydW5uaW5nIGVudmlyb25tZW50IG9mIHlvdXIgY2xvdWQgc2VydmljZXMuXG4gICAgICovXG4gICAgcHVibGljIGNvbmZpZ3VyYXRpb25Bc3Nlc3NtZW50OiBib29sZWFuIHwgcm9zLklSZXNvbHZhYmxlIHwgdW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IGNvbnRhaW5lckltYWdlU2NhbjogU2VjdXJpdHkgQ2VudGVyIHByb3ZpZGVzIHRoZSBjb250YWluZXIgaW1hZ2Ugc2NhbiBmZWF0dXJlIHRvIHByb3RlY3QgY29udGFpbmVycy4gU2VjdXJpdHkgQ2VudGVyIGNhbiBkZXRlY3QgQ1ZFcywgYXBwbGljYXRpb24gdnVsbmVyYWJpbGl0aWVzLCB2aXJ1c2VzLCBhbmQgbWFsaWNpb3VzIHNhbXBsZXMgYW5kIGFsbG93cyB5b3UgdG8gaGFuZGxlIHRoZSBkZXRlY3RlZCByaXNrcy4gWW91IGNhbiBjb25maWd1cmUgdGhpcyBwYXJhbWV0ZXIgYmFzZWQgb24gdGhlIG51bWJlciBvZiBpbWFnZXMgb3IgZGlnZXN0cy4gRm9yIGV4YW1wbGUsIGlmIHRoZSBudW1iZXIgb2YgaW1hZ2VzIG9yIGRpZ2VzdHMgdGhhdCBhcmUgdXBkYXRlZCBpbiB0aGUgcHJldmlvdXMgZGF5IGlzIDEwLCB5b3UgY2FuIHNldCB0aGlzIHBhcmFtZXRlciB0byAzMDAgZm9yIGEgbW9udGhseSBzdWJzY3JpcHRpb24gb3IgdG8gMzY1MCBmb3IgYSB5ZWFybHkgc3Vic2NyaXB0aW9uLiBUaGlzIGlzIG1vcmUgY29zdC1lZmZlY3RpdmUuXG4gICAgICovXG4gICAgcHVibGljIGNvbnRhaW5lckltYWdlU2NhbjogbnVtYmVyIHwgcm9zLklSZXNvbHZhYmxlIHwgdW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IGVkaXRpb246IFRoZSB2ZXJzaW9uIG9mIFNlY3VyaXR5IGNlbnRlci5cbiAgICAgKi9cbiAgICBwdWJsaWMgZWRpdGlvbjogc3RyaW5nIHwgcm9zLklSZXNvbHZhYmxlIHwgdW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IGxvZ0FuYWx5c2lzOiBJbiByZXNwb25zZSB0byB0aGUgcmVxdWlyZW1lbnRzIG9mIHRoZSBuZXR3b3JrIHNlY3VyaXR5IGxhdywgd2hpY2ggcmVxdWlyZXMgbG9ncyB0byBiZSBzdG9yZWQgZm9yIGF0IGxlYXN0IDE4MCBkYXlzLCB3ZSByZWNvbW1lbmQgdGhhdCB5b3UgY29uZmlndXJlIGEgNDBHQiBsb2cgc3RvcmFnZSBlYWNoIHNlcnZlci4gTG9nIGFuYWx5c2lzIHN1cHBvcnRzIG11bHRpLWRpbWVuc2lvbmFsIHNlY3VyaXR5IGxvZ3Mgb2YgY2xvdWQgYXNzZXRzLCBvdXQtb2YtdGhlLWJveCByZXBvcnRzLCBhbmQgcG93ZXJmdWwgU1FMIHN5bnRheCBhbmFseXNpcywgc28gYXMgdG8gbW9uaXRvciBidXNpbmVzcyBzdGF0dXMsIHRyb3VibGVzaG9vdCBhdHRhY2tzLCBzZWN1cml0eSBvcGVyYXRpb25zIHN1Y2ggYXMgdHJhY2VhYmlsaXR5IGFuZCBwb3NpdGlvbmluZyBhcmUgZWFzaWVyLlxuICAgICAqL1xuICAgIHB1YmxpYyBsb2dBbmFseXNpczogbnVtYmVyIHwgcm9zLklSZXNvbHZhYmxlIHwgdW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IG1hbGljaW91c0ZpbGVEZXRlY3Rpb25TZGs6IFRoZSBjb25maWd1cmF0aW9uIGFzc2Vzc21lbnQgZmVhdHVyZSBkZXRlY3RzIGNvbmZpZ3VyYXRpb24gZXJyb3JzIGFuZCBzZWN1cml0eSByaXNrcyBvbiBjbG91ZCBzZXJ2aWNlcyBmcm9tIHRoZSBmb2xsb3dpbmcgZGltZW5zaW9uczogaWRlbnRpdHkgYW5kIHBlcm1pc3Npb24gbWFuYWdlbWVudCwgc2VjdXJpdHkgcmlza3MgaW4gQWxpYmFiYSBDbG91ZCBzZXJ2aWNlcywgYW5kIGNvbXBsaWFuY2Ugcmlza3MuIFRoaXMgZW5zdXJlcyB0aGUgc2VjdXJpdHkgb2YgdGhlIHJ1bm5pbmcgZW52aXJvbm1lbnQgb2YgeW91ciBjbG91ZCBzZXJ2aWNlcy5cbiAgICAgKi9cbiAgICBwdWJsaWMgbWFsaWNpb3VzRmlsZURldGVjdGlvblNkazogYm9vbGVhbiB8IHJvcy5JUmVzb2x2YWJsZSB8IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIEBQcm9wZXJ0eSBwcm90ZWN0ZWRTZXJ2ZXJzOiBBdXRob3JpemF0aW9uIGlzIHRoZSBzYW1lIGFzIHRoZSBudW1iZXIgb2Ygc2VydmVycyB5b3UgaGF2ZS5cbiAgICAgKi9cbiAgICBwdWJsaWMgcHJvdGVjdGVkU2VydmVyczogbnVtYmVyIHwgcm9zLklSZXNvbHZhYmxlIHwgdW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IHF1b3RhRm9yQXBwbGljYXRpb25Qcm90ZWN0aW9uOiBUaGUgYXBwbGljYXRpb24gcHJvdGVjdGlvbiBmZWF0dXJlIGNhbiBkZXRlY3QgYXR0YWNrcyBvbiBhcHBsaWNhdGlvbnMgYW5kIHByb3ZpZGUgc2VsZi1wcm90ZWN0aW9uIGR1cmluZyBhcHBsaWNhdGlvbiBydW50aW1lLiBUaGUgZmVhdHVyZSBzdXBwb3J0cyBzaW1wbGUgYW5kIGNvbnZlbmllbnQgTyZNIGFuZCBjYW4gZWZmZWN0aXZlbHkgZGVmZW5kIGFnYWluc3QgemVyby1kYXkgYW5kIE9XQVNQIFRvcCB2dWxuZXJhYmlsaXRpZXMuIFRoZSBmZWF0dXJlIGlzIGEgdmFsdWUtYWRkZWQgZmVhdHVyZS4gWW91IGFyZSBjaGFyZ2VkIGJhc2VkIG9uIHRoZSBudW1iZXIgb2YgYXNzZXRzIG9uIHdoaWNoIHRoZSBSQVNQIGFnZW50IGlzIGluc3RhbGxlZC4gWW91IG11c3QgY29uZmlndXJlIHByb3RlY3Rpb24gcG9saWNpZXMgYWZ0ZXIgeW91IHB1cmNoYXNlIHRoZSBmZWF0dXJlLlxuICAgICAqL1xuICAgIHB1YmxpYyBxdW90YUZvckFwcGxpY2F0aW9uUHJvdGVjdGlvbjogbnVtYmVyIHwgcm9zLklSZXNvbHZhYmxlIHwgdW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IHF1b3RhRm9yQ2xvdWRIb25leXBvdDpcbiAgICAgKi9cbiAgICBwdWJsaWMgcXVvdGFGb3JDbG91ZEhvbmV5cG90OiBudW1iZXIgfCByb3MuSVJlc29sdmFibGUgfCB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgcXVvdGFGb3JDb25maWd1cmF0aW9uQXNzZXNzbWVudDpcbiAgICAgKi9cbiAgICBwdWJsaWMgcXVvdGFGb3JDb25maWd1cmF0aW9uQXNzZXNzbWVudDogbnVtYmVyIHwgcm9zLklSZXNvbHZhYmxlIHwgdW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IHF1b3RhRm9yTWFsaWNpb3VzRmlsZURldGVjdGlvblNkazpcbiAgICAgKi9cbiAgICBwdWJsaWMgcXVvdGFGb3JNYWxpY2lvdXNGaWxlRGV0ZWN0aW9uU2RrOiBudW1iZXIgfCByb3MuSVJlc29sdmFibGUgfCB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgcXVvdGFGb3JWdWxuZXJhYmlsaXR5Rml4aW5nOiBTcGVjaWZ5IHRoZSBxdW90YSBmb3IgdnVsbmVyYWJpbGl0eSBmaXhpbmcgYmFzZWQgb24gdGhlIG51bWJlciBvZiB2dWxuZXJhYmlsaXRpZXMgdGhhdCB5b3Ugd2FudCB0byBmaXggZWFjaCBtb250aC4gVGhlIHF1b3RhIGlzIGVxdWFsIHRvIHRoZSB0b3RhbCBudW1iZXIgb2YgdnVsbmVyYWJpbGl0aWVzIHRoYXQgeW91IHdhbnQgdG8gZml4IG9uIGFsbCBzZXJ2ZXJzIHJlZ2FyZGxlc3Mgb2YgdGhlIHZ1bG5lcmFiaWxpdHkgbmFtZXMuIEZvciBleGFtcGxlLCBpZiB5b3UgdXNlIFNlY3VyaXR5IENlbnRlciB0byBmaXggdGhlIHNhbWUgdnVsbmVyYWJpbGl0eSBvbiAxMCBzZXJ2ZXJzLCB0aGUgcXVvdGEgaXMgZGVkdWN0ZWQgYnkgMTAuXG4gICAgICovXG4gICAgcHVibGljIHF1b3RhRm9yVnVsbmVyYWJpbGl0eUZpeGluZzogbnVtYmVyIHwgcm9zLklSZXNvbHZhYmxlIHwgdW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IHF1b3RhRm9yV2ViVGFtcGVyUHJvb2Zpbmc6XG4gICAgICovXG4gICAgcHVibGljIHF1b3RhRm9yV2ViVGFtcGVyUHJvb2Zpbmc6IG51bWJlciB8IHJvcy5JUmVzb2x2YWJsZSB8IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIEBQcm9wZXJ0eSB0aHJlYXRBbmFseXNpczogVGhlIHRocmVhdCBhbmFseXNpcyBmZWF0dXJlIGFsbG93cyB5b3UgdG8gaGFuZGxlIGFsZXJ0cyB0aGF0IGFyZSBnZW5lcmF0ZWQgZm9yIGFzc2V0cyBpbiB0aGUgY2xvdWQgd2l0aGluIGRpZmZlcmVudCBhY2NvdW50cyBhbmQgYXNzZXRzIG9mIG11bHRpcGxlIGNsb3VkIHNlcnZpY2VzIGluIGEgY2VudHJhbGl6ZWQgbWFubmVyLiBUaGUgZmVhdHVyZSBhbHNvIGFsbG93cyB5b3UgdG8gaGFuZGxlIHJpc2tzIHdpdGggYSBmZXcgY2xpY2tzLiBUaGUgZmVhdHVyZSBwcm92aWRlcyBhdXRvbWF0aWMgb3JjaGVzdHJhdGlvbiBhbmQgcmVzcG9uc2UgY2FwYWJpbGl0aWVzLlxuICAgICAqL1xuICAgIHB1YmxpYyB0aHJlYXRBbmFseXNpczogYm9vbGVhbiB8IHJvcy5JUmVzb2x2YWJsZSB8IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIEBQcm9wZXJ0eSB0aHJlYXRBbmFseXNpc0xvZ1N0b3JhZ2VDYXBhY2l0eTpcbiAgICAgKi9cbiAgICBwdWJsaWMgdGhyZWF0QW5hbHlzaXNMb2dTdG9yYWdlQ2FwYWNpdHk6IG51bWJlciB8IHJvcy5JUmVzb2x2YWJsZSB8IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIEBQcm9wZXJ0eSB2Q29yZTogVGhpcyBwYXJhbWV0ZXIgaW5kaWNhdGVzIHRoZSBudW1iZXIgb2Ygc2VydmVyIHZDUFVzLlxuICAgICAqL1xuICAgIHB1YmxpYyB2Q29yZTogbnVtYmVyIHwgcm9zLklSZXNvbHZhYmxlIHwgdW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IHZ1bG5lcmFiaWxpdHlGaXhpbmc6IFRoZSB2dWxuZXJhYmlsaXR5IGZpeGluZyBmZWF0dXJlIGFsbG93cyB5b3UgdG8gZml4IHN5c3RlbSB2dWxuZXJhYmlsaXRpZXMgd2l0aCBhIGZldyBjbGlja3MuIFRoaXMgaW1wcm92ZXMgTyZNIGVmZmljaWVuY3kuIFlvdSBjYW4gc2VwYXJhdGVseSBwdXJjaGFzZSB0aGUgdnVsbmVyYWJpbGl0eSBmaXhpbmcgZmVhdHVyZS4gWW91IGFyZSBjaGFyZ2VkIGJhc2VkIG9uIHRoZSBudW1iZXIgb2YgdGltZXMgdGhhdCB5b3UgcGVyZm9ybSB2dWxuZXJhYmlsaXR5IGZpeGluZy5cbiAgICAgKi9cbiAgICBwdWJsaWMgdnVsbmVyYWJpbGl0eUZpeGluZzogYm9vbGVhbiB8IHJvcy5JUmVzb2x2YWJsZSB8IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIEBQcm9wZXJ0eSB3ZWJUYW1wZXJQcm90ZWN0aW9uOiBUbyBlbnN1cmUgdGhhdCB0aGUgd2Vic2l0ZSBpbmZvcm1hdGlvbiBvZiBpbXBvcnRhbnQgc3lzdGVtcyBpcyBub3QgbWFsaWNpb3VzbHkgdGFtcGVyZWQgd2l0aCwgdGhlcmUgYXJlIGJhZCBjb250ZW50IHN1Y2ggYXMgaGFuZ2luZyBob3JzZXMsIGJsYWNrIGNoYWlucywgaWxsZWdhbCBpbXBsYW50YXRpb24gb2YgdGVycm9yaXN0IHRocmVhdHMsIHBvcm5vZ3JhcGh5LCBldGMuXG4gICAgICovXG4gICAgcHVibGljIHdlYlRhbXBlclByb3RlY3Rpb246IGJvb2xlYW4gfCByb3MuSVJlc29sdmFibGUgfCB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gc2NvcGUgLSBzY29wZSBpbiB3aGljaCB0aGlzIHJlc291cmNlIGlzIGRlZmluZWRcbiAgICAgKiBAcGFyYW0gaWQgICAgLSBzY29wZWQgaWQgb2YgdGhlIHJlc291cmNlXG4gICAgICogQHBhcmFtIHByb3BzIC0gcmVzb3VyY2UgcHJvcGVydGllc1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHNjb3BlOiByb3MuQ29uc3RydWN0LCBpZDogc3RyaW5nLCBwcm9wczogUm9zSW5zdGFuY2VQcm9wcywgZW5hYmxlUmVzb3VyY2VQcm9wZXJ0eUNvbnN0cmFpbnQ6IGJvb2xlYW4pIHtcbiAgICAgICAgc3VwZXIoc2NvcGUsIGlkLCB7IHR5cGU6IFJvc0luc3RhbmNlLlJPU19SRVNPVVJDRV9UWVBFX05BTUUsIHByb3BlcnRpZXM6IHByb3BzIH0pO1xuICAgICAgICB0aGlzLmF0dHJJbnN0YW5jZUlkID0gdGhpcy5nZXRBdHQoJ0luc3RhbmNlSWQnKTtcblxuICAgICAgICB0aGlzLmVuYWJsZVJlc291cmNlUHJvcGVydHlDb25zdHJhaW50ID0gZW5hYmxlUmVzb3VyY2VQcm9wZXJ0eUNvbnN0cmFpbnQ7XG4gICAgICAgIHRoaXMucGVyaW9kID0gcHJvcHMucGVyaW9kO1xuICAgICAgICB0aGlzLnBlcmlvZFVuaXQgPSBwcm9wcy5wZXJpb2RVbml0O1xuICAgICAgICB0aGlzLmFudGlSYW5zb213YXJlID0gcHJvcHMuYW50aVJhbnNvbXdhcmU7XG4gICAgICAgIHRoaXMuYW50aVJhbnNvbXdhcmVNYW5hZ2VTZXJ2aWNlID0gcHJvcHMuYW50aVJhbnNvbXdhcmVNYW5hZ2VTZXJ2aWNlO1xuICAgICAgICB0aGlzLmF1dG9QYXkgPSBwcm9wcy5hdXRvUGF5O1xuICAgICAgICB0aGlzLmF1dG9SZW5ldyA9IHByb3BzLmF1dG9SZW5ldztcbiAgICAgICAgdGhpcy5jbG91ZEhvbmV5cG90ID0gcHJvcHMuY2xvdWRIb25leXBvdDtcbiAgICAgICAgdGhpcy5jb25maWd1cmF0aW9uQXNzZXNzbWVudCA9IHByb3BzLmNvbmZpZ3VyYXRpb25Bc3Nlc3NtZW50O1xuICAgICAgICB0aGlzLmNvbnRhaW5lckltYWdlU2NhbiA9IHByb3BzLmNvbnRhaW5lckltYWdlU2NhbjtcbiAgICAgICAgdGhpcy5lZGl0aW9uID0gcHJvcHMuZWRpdGlvbjtcbiAgICAgICAgdGhpcy5sb2dBbmFseXNpcyA9IHByb3BzLmxvZ0FuYWx5c2lzO1xuICAgICAgICB0aGlzLm1hbGljaW91c0ZpbGVEZXRlY3Rpb25TZGsgPSBwcm9wcy5tYWxpY2lvdXNGaWxlRGV0ZWN0aW9uU2RrO1xuICAgICAgICB0aGlzLnByb3RlY3RlZFNlcnZlcnMgPSBwcm9wcy5wcm90ZWN0ZWRTZXJ2ZXJzO1xuICAgICAgICB0aGlzLnF1b3RhRm9yQXBwbGljYXRpb25Qcm90ZWN0aW9uID0gcHJvcHMucXVvdGFGb3JBcHBsaWNhdGlvblByb3RlY3Rpb247XG4gICAgICAgIHRoaXMucXVvdGFGb3JDbG91ZEhvbmV5cG90ID0gcHJvcHMucXVvdGFGb3JDbG91ZEhvbmV5cG90O1xuICAgICAgICB0aGlzLnF1b3RhRm9yQ29uZmlndXJhdGlvbkFzc2Vzc21lbnQgPSBwcm9wcy5xdW90YUZvckNvbmZpZ3VyYXRpb25Bc3Nlc3NtZW50O1xuICAgICAgICB0aGlzLnF1b3RhRm9yTWFsaWNpb3VzRmlsZURldGVjdGlvblNkayA9IHByb3BzLnF1b3RhRm9yTWFsaWNpb3VzRmlsZURldGVjdGlvblNkaztcbiAgICAgICAgdGhpcy5xdW90YUZvclZ1bG5lcmFiaWxpdHlGaXhpbmcgPSBwcm9wcy5xdW90YUZvclZ1bG5lcmFiaWxpdHlGaXhpbmc7XG4gICAgICAgIHRoaXMucXVvdGFGb3JXZWJUYW1wZXJQcm9vZmluZyA9IHByb3BzLnF1b3RhRm9yV2ViVGFtcGVyUHJvb2Zpbmc7XG4gICAgICAgIHRoaXMudGhyZWF0QW5hbHlzaXMgPSBwcm9wcy50aHJlYXRBbmFseXNpcztcbiAgICAgICAgdGhpcy50aHJlYXRBbmFseXNpc0xvZ1N0b3JhZ2VDYXBhY2l0eSA9IHByb3BzLnRocmVhdEFuYWx5c2lzTG9nU3RvcmFnZUNhcGFjaXR5O1xuICAgICAgICB0aGlzLnZDb3JlID0gcHJvcHMudkNvcmU7XG4gICAgICAgIHRoaXMudnVsbmVyYWJpbGl0eUZpeGluZyA9IHByb3BzLnZ1bG5lcmFiaWxpdHlGaXhpbmc7XG4gICAgICAgIHRoaXMud2ViVGFtcGVyUHJvdGVjdGlvbiA9IHByb3BzLndlYlRhbXBlclByb3RlY3Rpb247XG4gICAgfVxuXG5cbiAgICBwcm90ZWN0ZWQgZ2V0IHJvc1Byb3BlcnRpZXMoKTogeyBba2V5OiBzdHJpbmddOiBhbnkgfSAge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcGVyaW9kOiB0aGlzLnBlcmlvZCxcbiAgICAgICAgICAgIHBlcmlvZFVuaXQ6IHRoaXMucGVyaW9kVW5pdCxcbiAgICAgICAgICAgIGFudGlSYW5zb213YXJlOiB0aGlzLmFudGlSYW5zb213YXJlLFxuICAgICAgICAgICAgYW50aVJhbnNvbXdhcmVNYW5hZ2VTZXJ2aWNlOiB0aGlzLmFudGlSYW5zb213YXJlTWFuYWdlU2VydmljZSxcbiAgICAgICAgICAgIGF1dG9QYXk6IHRoaXMuYXV0b1BheSxcbiAgICAgICAgICAgIGF1dG9SZW5ldzogdGhpcy5hdXRvUmVuZXcsXG4gICAgICAgICAgICBjbG91ZEhvbmV5cG90OiB0aGlzLmNsb3VkSG9uZXlwb3QsXG4gICAgICAgICAgICBjb25maWd1cmF0aW9uQXNzZXNzbWVudDogdGhpcy5jb25maWd1cmF0aW9uQXNzZXNzbWVudCxcbiAgICAgICAgICAgIGNvbnRhaW5lckltYWdlU2NhbjogdGhpcy5jb250YWluZXJJbWFnZVNjYW4sXG4gICAgICAgICAgICBlZGl0aW9uOiB0aGlzLmVkaXRpb24sXG4gICAgICAgICAgICBsb2dBbmFseXNpczogdGhpcy5sb2dBbmFseXNpcyxcbiAgICAgICAgICAgIG1hbGljaW91c0ZpbGVEZXRlY3Rpb25TZGs6IHRoaXMubWFsaWNpb3VzRmlsZURldGVjdGlvblNkayxcbiAgICAgICAgICAgIHByb3RlY3RlZFNlcnZlcnM6IHRoaXMucHJvdGVjdGVkU2VydmVycyxcbiAgICAgICAgICAgIHF1b3RhRm9yQXBwbGljYXRpb25Qcm90ZWN0aW9uOiB0aGlzLnF1b3RhRm9yQXBwbGljYXRpb25Qcm90ZWN0aW9uLFxuICAgICAgICAgICAgcXVvdGFGb3JDbG91ZEhvbmV5cG90OiB0aGlzLnF1b3RhRm9yQ2xvdWRIb25leXBvdCxcbiAgICAgICAgICAgIHF1b3RhRm9yQ29uZmlndXJhdGlvbkFzc2Vzc21lbnQ6IHRoaXMucXVvdGFGb3JDb25maWd1cmF0aW9uQXNzZXNzbWVudCxcbiAgICAgICAgICAgIHF1b3RhRm9yTWFsaWNpb3VzRmlsZURldGVjdGlvblNkazogdGhpcy5xdW90YUZvck1hbGljaW91c0ZpbGVEZXRlY3Rpb25TZGssXG4gICAgICAgICAgICBxdW90YUZvclZ1bG5lcmFiaWxpdHlGaXhpbmc6IHRoaXMucXVvdGFGb3JWdWxuZXJhYmlsaXR5Rml4aW5nLFxuICAgICAgICAgICAgcXVvdGFGb3JXZWJUYW1wZXJQcm9vZmluZzogdGhpcy5xdW90YUZvcldlYlRhbXBlclByb29maW5nLFxuICAgICAgICAgICAgdGhyZWF0QW5hbHlzaXM6IHRoaXMudGhyZWF0QW5hbHlzaXMsXG4gICAgICAgICAgICB0aHJlYXRBbmFseXNpc0xvZ1N0b3JhZ2VDYXBhY2l0eTogdGhpcy50aHJlYXRBbmFseXNpc0xvZ1N0b3JhZ2VDYXBhY2l0eSxcbiAgICAgICAgICAgIHZDb3JlOiB0aGlzLnZDb3JlLFxuICAgICAgICAgICAgdnVsbmVyYWJpbGl0eUZpeGluZzogdGhpcy52dWxuZXJhYmlsaXR5Rml4aW5nLFxuICAgICAgICAgICAgd2ViVGFtcGVyUHJvdGVjdGlvbjogdGhpcy53ZWJUYW1wZXJQcm90ZWN0aW9uLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBwcm90ZWN0ZWQgcmVuZGVyUHJvcGVydGllcyhwcm9wczoge1trZXk6IHN0cmluZ106IGFueX0pOiB7IFtrZXk6IHN0cmluZ106IGFueSB9ICB7XG4gICAgICAgIHJldHVybiByb3NJbnN0YW5jZVByb3BzVG9Sb3NUZW1wbGF0ZShwcm9wcywgdGhpcy5lbmFibGVSZXNvdXJjZVByb3BlcnR5Q29uc3RyYWludCk7XG4gICAgfVxufVxuIl19