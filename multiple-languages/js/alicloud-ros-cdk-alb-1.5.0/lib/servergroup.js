"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ServerGroup = exports.ServerGroupProperty = void 0;
const ros = require("@alicloud/ros-cdk-core");
const alb_generated_1 = require("./alb.generated");
Object.defineProperty(exports, "ServerGroupProperty", { enumerable: true, get: function () { return alb_generated_1.RosServerGroup; } });
/**
 * This class encapsulates and extends the ROS resource type `ALIYUN::ALB::ServerGroup`, which is used to create a server group.
 * @Note This class may have some new functions to facilitate development, so it is recommended to use this class instead of `RosServerGroup`for a more convenient development experience.
 * See https://www.alibabacloud.com/help/ros/developer-reference/aliyun-alb-servergroup
 */
class ServerGroup extends ros.Resource {
    /**
     * Param scope - scope in which this resource is defined
     * Param id    - scoped id of the resource
     * Param props - resource properties
     */
    constructor(scope, id, props, enableResourcePropertyConstraint = true) {
        super(scope, id);
        this.scope = scope;
        this.id = id;
        this.props = props;
        this.enableResourcePropertyConstraint = enableResourcePropertyConstraint;
        const rosServerGroup = new alb_generated_1.RosServerGroup(this, id, {
            connectionDrainConfig: props.connectionDrainConfig,
            resourceGroupId: props.resourceGroupId,
            uchConfig: props.uchConfig,
            upstreamKeepaliveEnabled: props.upstreamKeepaliveEnabled === undefined || props.upstreamKeepaliveEnabled === null ? false : props.upstreamKeepaliveEnabled,
            scheduler: props.scheduler,
            stickySessionConfig: props.stickySessionConfig,
            serverGroupType: props.serverGroupType,
            slowStartConfig: props.slowStartConfig,
            vpcId: props.vpcId,
            serviceName: props.serviceName,
            healthCheckConfig: props.healthCheckConfig,
            protocol: props.protocol,
            tags: props.tags,
            serverGroupName: props.serverGroupName,
        }, enableResourcePropertyConstraint && this.stack.enableResourcePropertyConstraint);
        this.resource = rosServerGroup;
        this.attrServerGroupId = rosServerGroup.attrServerGroupId;
    }
}
exports.ServerGroup = ServerGroup;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VydmVyZ3JvdXAuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJzZXJ2ZXJncm91cC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSw4Q0FBOEM7QUFDOUMsbURBQWlEO0FBRXRCLG9HQUZsQiw4QkFBYyxPQUV1QjtBQWtHOUM7Ozs7R0FJRztBQUNILE1BQWEsV0FBWSxTQUFRLEdBQUcsQ0FBQyxRQUFRO0lBV3pDOzs7O09BSUc7SUFDSCxZQUFZLEtBQW9CLEVBQUUsRUFBVSxFQUFFLEtBQXVCLEVBQUUsbUNBQTJDLElBQUk7UUFDbEgsS0FBSyxDQUFDLEtBQUssRUFBRSxFQUFFLENBQUMsQ0FBQztRQUNqQixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUNuQixJQUFJLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQztRQUNiLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBQ25CLElBQUksQ0FBQyxnQ0FBZ0MsR0FBRyxnQ0FBZ0MsQ0FBQztRQUV6RSxNQUFNLGNBQWMsR0FBRyxJQUFJLDhCQUFjLENBQUMsSUFBSSxFQUFFLEVBQUUsRUFBRztZQUNqRCxxQkFBcUIsRUFBRSxLQUFLLENBQUMscUJBQXFCO1lBQ2xELGVBQWUsRUFBRSxLQUFLLENBQUMsZUFBZTtZQUN0QyxTQUFTLEVBQUUsS0FBSyxDQUFDLFNBQVM7WUFDMUIsd0JBQXdCLEVBQUUsS0FBSyxDQUFDLHdCQUF3QixLQUFLLFNBQVMsSUFBSSxLQUFLLENBQUMsd0JBQXdCLEtBQUssSUFBSSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyx3QkFBd0I7WUFDMUosU0FBUyxFQUFFLEtBQUssQ0FBQyxTQUFTO1lBQzFCLG1CQUFtQixFQUFFLEtBQUssQ0FBQyxtQkFBbUI7WUFDOUMsZUFBZSxFQUFFLEtBQUssQ0FBQyxlQUFlO1lBQ3RDLGVBQWUsRUFBRSxLQUFLLENBQUMsZUFBZTtZQUN0QyxLQUFLLEVBQUUsS0FBSyxDQUFDLEtBQUs7WUFDbEIsV0FBVyxFQUFFLEtBQUssQ0FBQyxXQUFXO1lBQzlCLGlCQUFpQixFQUFFLEtBQUssQ0FBQyxpQkFBaUI7WUFDMUMsUUFBUSxFQUFFLEtBQUssQ0FBQyxRQUFRO1lBQ3hCLElBQUksRUFBRSxLQUFLLENBQUMsSUFBSTtZQUNoQixlQUFlLEVBQUUsS0FBSyxDQUFDLGVBQWU7U0FDekMsRUFBRSxnQ0FBZ0MsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLGdDQUFnQyxDQUFDLENBQUM7UUFDcEYsSUFBSSxDQUFDLFFBQVEsR0FBRyxjQUFjLENBQUM7UUFDL0IsSUFBSSxDQUFDLGlCQUFpQixHQUFHLGNBQWMsQ0FBQyxpQkFBaUIsQ0FBQztJQUM5RCxDQUFDO0NBQ0o7QUExQ0Qsa0NBMENDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgcm9zIGZyb20gJ0BhbGljbG91ZC9yb3MtY2RrLWNvcmUnO1xuaW1wb3J0IHsgUm9zU2VydmVyR3JvdXAgfSBmcm9tICcuL2FsYi5nZW5lcmF0ZWQnO1xuLy8gR2VuZXJhdGVkIGZyb20gdGhlIEFsaUNsb3VkIFJPUyBSZXNvdXJjZSBTcGVjaWZpY2F0aW9uXG5leHBvcnQgeyBSb3NTZXJ2ZXJHcm91cCBhcyBTZXJ2ZXJHcm91cFByb3BlcnR5IH07XG5cbi8qKlxuICogUHJvcGVydGllcyBmb3IgZGVmaW5pbmcgYSBgU2VydmVyR3JvdXBgLlxuICogU2VlIGh0dHBzOi8vd3d3LmFsaWJhYmFjbG91ZC5jb20vaGVscC9yb3MvZGV2ZWxvcGVyLXJlZmVyZW5jZS9hbGl5dW4tYWxiLXNlcnZlcmdyb3VwXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2VydmVyR3JvdXBQcm9wcyB7XG5cbiAgICAvKipcbiAgICAgKiBQcm9wZXJ0eSBoZWFsdGhDaGVja0NvbmZpZzogVGhlIGNvbmZpZ3VyYXRpb24gb2YgaGVhbHRoIGNoZWNrcy5cbiAgICAgKi9cbiAgICByZWFkb25seSBoZWFsdGhDaGVja0NvbmZpZzogUm9zU2VydmVyR3JvdXAuSGVhbHRoQ2hlY2tDb25maWdQcm9wZXJ0eSB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIFByb3BlcnR5IHNlcnZlckdyb3VwTmFtZTogVGhlIG5hbWUgb2YgdGhlIHNlcnZlciBncm91cC4gVGhlIG5hbWUgbXVzdCBiZSAyIHRvIDEyOCBjaGFyYWN0ZXJzIGluIGxlbmd0aCwgYW5kXG4gICAgICogY2FuIGNvbnRhaW4gbGV0dGVycywgZGlnaXRzLCBwZXJpb2RzICguKSwgdW5kZXJzY29yZXMgKF8pLCBhbmQgaHlwaGVucyAoLSkuIFRoZSBuYW1lXG4gICAgICogbXVzdCBzdGFydCB3aXRoIGEgbGV0dGVyLlxuICAgICAqL1xuICAgIHJlYWRvbmx5IHNlcnZlckdyb3VwTmFtZTogc3RyaW5nIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogUHJvcGVydHkgdnBjSWQ6IFRoZSBJRCBvZiB0aGUgdmlydHVhbCBwcml2YXRlIGNsb3VkIChWUEMpLiBZb3UgY2FuIGFkZCBvbmx5IHNlcnZlcnMgdGhhdCBhcmUgZGVwbG95ZWRcbiAgICAgKiBpbiB0aGUgc3BlY2lmaWVkIFZQQyB0byB0aGUgc2VydmVyIGdyb3VwLlxuICAgICAqIE5vdGU6IFRoaXMgcGFyYW1ldGVyIGlzIHJlcXVpcmVkIGlmIHRoZSBTZXJ2ZXJHcm91cFR5cGUgcGFyYW1ldGVyIGlzIHNldCB0byBJbnN0YW5jZSBvciBJcC5cbiAgICAgKiBOb3RlOiBUaGlzIHBhcmFtZXRlciB0YWtlcyBlZmZlY3Qgd2hlbiB0aGUgU2VydmVyR3JvdXBUeXBlIHBhcmFtZXRlciBpcyBzZXQgdG8gSW5zdGFuY2Ugb3IgSXAuXG4gICAgICovXG4gICAgcmVhZG9ubHkgdnBjSWQ6IHN0cmluZyB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIFByb3BlcnR5IGNvbm5lY3Rpb25EcmFpbkNvbmZpZzogQ29uZmlndXJhdGlvbiByZWxhdGVkIHRvIGdyYWNlZnVsIGNvbm5lY3Rpb24gaW50ZXJydXB0aW9uLkVuYWJsZSBncmFjZWZ1bCBjb25uZWN0aW9uIGludGVycnVwdGlvbi4gQWZ0ZXIgdGhlIGJhY2tlbmQgc2VydmVyIGlzIHJlbW92ZWQgb3IgdGhlIGhlYWx0aCBjaGVjayBmYWlscywgdGhlIGxvYWQgYmFsYW5jaW5nIGFsbG93cyB0aGUgZXhpc3RpbmcgY29ubmVjdGlvbiB0byBiZSB0cmFuc21pdHRlZCBub3JtYWxseSB3aXRoaW4gYSBjZXJ0YWluIHBlcmlvZCBvZiB0aW1lLk5vdGU6IFxuICAgICAqIEJhc2ljIEVkaXRpb24gaW5zdGFuY2VzIGRvIG5vdCBzdXBwb3J0IGVuYWJsaW5nIGdyYWNlZnVsIGNvbm5lY3Rpb24gaW50ZXJydXB0aW9uLiBPbmx5IFN0YW5kYXJkIEVkaXRpb24gYW5kIFdBRiBFbmhhbmNlZCBFZGl0aW9uIGluc3RhbmNlcyBzdXBwb3J0IGl0LlNlcnZlciB0eXBlIGFuZCBJUCB0eXBlIHNlcnZlciBncm91cCBzdXBwb3J0IGdyYWNlZnVsIGNvbm5lY3Rpb24gaW50ZXJydXB0aW9uLiBGdW5jdGlvbiBDb21wdXRlIHR5cGUgZG9lcyBub3Qgc3VwcG9ydCBpdC5cbiAgICAgKi9cbiAgICByZWFkb25seSBjb25uZWN0aW9uRHJhaW5Db25maWc/OiBSb3NTZXJ2ZXJHcm91cC5Db25uZWN0aW9uRHJhaW5Db25maWdQcm9wZXJ0eSB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIFByb3BlcnR5IHByb3RvY29sOiBUaGUgYmFja2VuZCBwcm90b2NvbC4gVmFsaWQgdmFsdWVzOlxuICAgICAqIEhUVFAgKGRlZmF1bHQpOiBUaGUgc2VydmVyIGdyb3VwIGNhbiBiZSBhc3NvY2lhdGVkIHdpdGggSFRUUFMsIEhUVFAsIGFuZCBRVUlDIGxpc3RlbmVycy5cbiAgICAgKiBIVFRQUzogVGhlIHNlcnZlciBncm91cCBjYW4gYmUgYXNzb2NpYXRlZCB3aXRoIEhUVFBTIGxpc3RlbmVycy5cbiAgICAgKiBnUlBDOiBUaGUgc2VydmVyIGdyb3VwIGNhbiBiZSBhc3NvY2lhdGVkIHdpdGggSFRUUFMgYW5kIFFVSUMgbGlzdGVuZXJzLlxuICAgICAqIE5vdGU6IElmIHRoZSBTZXJ2ZXJHcm91cFR5cGUgcGFyYW1ldGVyIGlzIHNldCB0byBGYywgeW91IGNhbiBzZXQgUHJvdG9jb2wgb25seSB0byBIVFRQLlxuICAgICAqL1xuICAgIHJlYWRvbmx5IHByb3RvY29sPzogc3RyaW5nIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogUHJvcGVydHkgcmVzb3VyY2VHcm91cElkOiBUaGUgSUQgb2YgdGhlIHJlc291cmNlIGdyb3VwLlxuICAgICAqL1xuICAgIHJlYWRvbmx5IHJlc291cmNlR3JvdXBJZD86IHN0cmluZyB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIFByb3BlcnR5IHNjaGVkdWxlcjogVGhlIHNjaGVkdWxpbmcgYWxnb3JpdGhtLiBWYWxpZCB2YWx1ZXM6XG4gICAgICogV3JyIChkZWZhdWx0KTogVGhlIHdlaWdodGVkIHJvdW5kLXJvYmluIGFsZ29yaXRobSBpcyB1c2VkLiBCYWNrZW5kIHNlcnZlcnMgdGhhdCBoYXZlIGhpZ2hlciB3ZWlnaHRzIHJlY2VpdmUgbW9yZSByZXF1ZXN0cyB0aGFuIHRob3NlIHRoYXQgaGF2ZSBsb3dlciB3ZWlnaHRzLlxuICAgICAqIFdsYzogVGhlIHdlaWdodGVkIGxlYXN0IGNvbm5lY3Rpb25zIGFsZ29yaXRobSBpcyB1c2VkLiBSZXF1ZXN0cyBhcmUgZGlzdHJpYnV0ZWQgYmFzZWQgb24gdGhlIHdlaWdodHMgYW5kIHRoZSBudW1iZXIgb2YgY29ubmVjdGlvbnMgdG8gYmFja2VuZCBzZXJ2ZXJzLiBJZiB0d28gYmFja2VuZCBzZXJ2ZXJzIGhhdmUgdGhlIHNhbWUgd2VpZ2h0LCB0aGUgYmFja2VuZCBzZXJ2ZXIgdGhhdCBoYXMgZmV3ZXIgY29ubmVjdGlvbnMgaXMgZXhwZWN0ZWQgdG8gcmVjZWl2ZSBtb3JlIHJlcXVlc3RzLlxuICAgICAqIFNjaDogVGhlIGNvbnNpc3RlbnQgaGFzaGluZyBhbGdvcml0aG0gaXMgdXNlZC4gUmVxdWVzdHMgZnJvbSB0aGUgc2FtZSBzb3VyY2UgSVAgYWRkcmVzcyBhcmUgZGlzdHJpYnV0ZWQgdG8gdGhlIHNhbWUgYmFja2VuZCBzZXJ2ZXIuXG4gICAgICogTm90ZTogVGhpcyBwYXJhbWV0ZXIgdGFrZXMgZWZmZWN0IHdoZW4gdGhlIFNlcnZlckdyb3VwVHlwZSBwYXJhbWV0ZXIgaXMgc2V0IHRvIEluc3RhbmNlIG9yIElwLlxuICAgICAqL1xuICAgIHJlYWRvbmx5IHNjaGVkdWxlcj86IHN0cmluZyB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIFByb3BlcnR5IHNlcnZlckdyb3VwVHlwZTogVGhlIHR5cGUgb2YgdGhlIHNlcnZlciBncm91cC4gVmFsaWQgdmFsdWVzOlxuICAgICAqIEluc3RhbmNlIChkZWZhdWx0KTogYWxsb3dzIHlvdSBhZGQgc2VydmVycyBieSBzcGVjaWZ5aW5nIEVjcywgRW5zLCBvciBFY2kuXG4gICAgICogSXA6IGFsbG93cyB5b3UgdG8gYWRkIHNlcnZlcnMgYnkgc3BlY2lmeWluZyBJUCBhZGRyZXNzZXMuXG4gICAgICogRmM6IGFsbG93cyB5b3UgdG8gYWRkIHNlcnZlcnMgYnkgc3BlY2lmeWluZyBmdW5jdGlvbnMgb2YgRnVuY3Rpb24gQ29tcHV0ZS5cbiAgICAgKi9cbiAgICByZWFkb25seSBzZXJ2ZXJHcm91cFR5cGU/OiBzdHJpbmcgfCByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBQcm9wZXJ0eSBzZXJ2aWNlTmFtZTogVGhpcyBwYXJhbWV0ZXIgaXMgYXZhaWxhYmxlIG9ubHkgaWYgdGhlIEFMQiBJbmdyZXNzIGNvbnRyb2xsZXIgaXMgdXNlZC4gSW4gdGhpcyBjYXNlLCBzZXQgdGhlIHBhcmFtZXRlciB0byB0aGUgbmFtZSBvZiB0aGUgS3ViZXJuZXRlcyBTZXJ2aWNlIHRoYXQgaXMgYXNzb2NpYXRlZCB3aXRoIHRoZSBzZXJ2ZXIgZ3JvdXAuXG4gICAgICovXG4gICAgcmVhZG9ubHkgc2VydmljZU5hbWU/OiBzdHJpbmcgfCByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBQcm9wZXJ0eSBzbG93U3RhcnRDb25maWc6IFNsb3cgc3RhcnQgcmVsYXRlZCBjb25maWd1cmF0aW9uLkFmdGVyIHNsb3cgc3RhcnQgaXMgZW5hYmxlZCwgdGhlIGJhY2tlbmQgc2VydmVyIG5ld2x5IGFkZGVkIHRvIHRoZSBiYWNrZW5kIHNlcnZlciBncm91cCB3aWxsIGJlIHByZWhlYXRlZCB3aXRoaW4gdGhlIHNldCB0aW1lIHBlcmlvZCwgYW5kIHRoZSBudW1iZXIgb2YgcmVxdWVzdHMgZm9yd2FyZGVkIHRvIHRoZSBzZXJ2ZXIgd2lsbCBpbmNyZWFzZSBsaW5lYXJseS5Ob3RlOlxuICAgICAqIEJhc2ljIEVkaXRpb24gaW5zdGFuY2VzIGRvIG5vdCBzdXBwb3J0IHNsb3cgc3RhcnQsIG9ubHkgU3RhbmRhcmQgRWRpdGlvbiBhbmQgV0FGIEVuaGFuY2VkIEVkaXRpb24gaW5zdGFuY2VzIHN1cHBvcnQgaXQuU2VydmVyIHR5cGUgYW5kIElQIHR5cGUgc2VydmVyIGdyb3VwcyBzdXBwb3J0IHNsb3cgc3RhcnQgY29uZmlndXJhdGlvbiwgYnV0IEZ1bmN0aW9uIENvbXB1dGUgdHlwZSBkb2VzIG5vdC5TbG93IHN0YXJ0IGNhbiBvbmx5IGJlIGVuYWJsZWQgd2hlbiB0aGUgYmFja2VuZCBzY2hlZHVsaW5nIGFsZ29yaXRobSBpcyB0aGUgd2VpZ2h0ZWQgcG9sbGluZyBhbGdvcml0aG0uXG4gICAgICovXG4gICAgcmVhZG9ubHkgc2xvd1N0YXJ0Q29uZmlnPzogUm9zU2VydmVyR3JvdXAuU2xvd1N0YXJ0Q29uZmlnUHJvcGVydHkgfCByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBQcm9wZXJ0eSBzdGlja3lTZXNzaW9uQ29uZmlnOiBUaGUgY29uZmlndXJhdGlvbiBvZiBzZXNzaW9uIHBlcnNpc3RlbmNlLlxuICAgICAqIE5vdGU6IFRoaXMgcGFyYW1ldGVyIGlzIHJlcXVpcmVkIGlmIHRoZSBTZXJ2ZXJHcm91cFR5cGUgcGFyYW1ldGVyIGlzIHNldCB0byBJbnN0YW5jZSBvciBJcC5cbiAgICAgKi9cbiAgICByZWFkb25seSBzdGlja3lTZXNzaW9uQ29uZmlnPzogUm9zU2VydmVyR3JvdXAuU3RpY2t5U2Vzc2lvbkNvbmZpZ1Byb3BlcnR5IHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogUHJvcGVydHkgdGFnczogVGFncyB0byBhdHRhY2ggdG8gaW5zdGFuY2UuIE1heCBzdXBwb3J0IDIwIHRhZ3MgdG8gYWRkIGR1cmluZyBjcmVhdGUgaW5zdGFuY2UuIEVhY2ggdGFnIHdpdGggdHdvIHByb3BlcnRpZXMgS2V5IGFuZCBWYWx1ZSwgYW5kIEtleSBpcyByZXF1aXJlZC5cbiAgICAgKi9cbiAgICByZWFkb25seSB0YWdzPzogUm9zU2VydmVyR3JvdXAuVGFnc1Byb3BlcnR5W107XG5cbiAgICAvKipcbiAgICAgKiBQcm9wZXJ0eSB1Y2hDb25maWc6IFVSTCBjb25zaXN0ZW5jeSBoYXNoIHBhcmFtZXRlciBjb25maWd1cmF0aW9uLlxuICAgICAqL1xuICAgIHJlYWRvbmx5IHVjaENvbmZpZz86IFJvc1NlcnZlckdyb3VwLlVjaENvbmZpZ1Byb3BlcnR5IHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogUHJvcGVydHkgdXBzdHJlYW1LZWVwYWxpdmVFbmFibGVkOiBXaGV0aGVyIHRvIGVuYWJsZSB1cHN0cmVhbSBrZWVwYWxpdmUuXG4gICAgICovXG4gICAgcmVhZG9ubHkgdXBzdHJlYW1LZWVwYWxpdmVFbmFibGVkPzogYm9vbGVhbiB8IHJvcy5JUmVzb2x2YWJsZTtcbn1cblxuLyoqXG4gKiBUaGlzIGNsYXNzIGVuY2Fwc3VsYXRlcyBhbmQgZXh0ZW5kcyB0aGUgUk9TIHJlc291cmNlIHR5cGUgYEFMSVlVTjo6QUxCOjpTZXJ2ZXJHcm91cGAsIHdoaWNoIGlzIHVzZWQgdG8gY3JlYXRlIGEgc2VydmVyIGdyb3VwLlxuICogQE5vdGUgVGhpcyBjbGFzcyBtYXkgaGF2ZSBzb21lIG5ldyBmdW5jdGlvbnMgdG8gZmFjaWxpdGF0ZSBkZXZlbG9wbWVudCwgc28gaXQgaXMgcmVjb21tZW5kZWQgdG8gdXNlIHRoaXMgY2xhc3MgaW5zdGVhZCBvZiBgUm9zU2VydmVyR3JvdXBgZm9yIGEgbW9yZSBjb252ZW5pZW50IGRldmVsb3BtZW50IGV4cGVyaWVuY2UuXG4gKiBTZWUgaHR0cHM6Ly93d3cuYWxpYmFiYWNsb3VkLmNvbS9oZWxwL3Jvcy9kZXZlbG9wZXItcmVmZXJlbmNlL2FsaXl1bi1hbGItc2VydmVyZ3JvdXBcbiAqL1xuZXhwb3J0IGNsYXNzIFNlcnZlckdyb3VwIGV4dGVuZHMgcm9zLlJlc291cmNlIHtcbiAgICBwcm90ZWN0ZWQgc2NvcGU6IHJvcy5Db25zdHJ1Y3Q7XG4gICAgcHJvdGVjdGVkIGlkOiBzdHJpbmc7XG4gICAgcHJvdGVjdGVkIHByb3BzOiBTZXJ2ZXJHcm91cFByb3BzO1xuICAgIHByb3RlY3RlZCBlbmFibGVSZXNvdXJjZVByb3BlcnR5Q29uc3RyYWludDogYm9vbGVhbjtcblxuICAgIC8qKlxuICAgICAqIEF0dHJpYnV0ZSBTZXJ2ZXJHcm91cElkOiBUaGUgSUQgb2YgdGhlIHNlcnZlciBncm91cC5cbiAgICAgKi9cbiAgICBwdWJsaWMgcmVhZG9ubHkgYXR0clNlcnZlckdyb3VwSWQ6IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIFBhcmFtIHNjb3BlIC0gc2NvcGUgaW4gd2hpY2ggdGhpcyByZXNvdXJjZSBpcyBkZWZpbmVkXG4gICAgICogUGFyYW0gaWQgICAgLSBzY29wZWQgaWQgb2YgdGhlIHJlc291cmNlXG4gICAgICogUGFyYW0gcHJvcHMgLSByZXNvdXJjZSBwcm9wZXJ0aWVzXG4gICAgICovXG4gICAgY29uc3RydWN0b3Ioc2NvcGU6IHJvcy5Db25zdHJ1Y3QsIGlkOiBzdHJpbmcsIHByb3BzOiBTZXJ2ZXJHcm91cFByb3BzLCBlbmFibGVSZXNvdXJjZVByb3BlcnR5Q29uc3RyYWludDpib29sZWFuID0gdHJ1ZSkge1xuICAgICAgICBzdXBlcihzY29wZSwgaWQpO1xuICAgICAgICB0aGlzLnNjb3BlID0gc2NvcGU7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy5wcm9wcyA9IHByb3BzO1xuICAgICAgICB0aGlzLmVuYWJsZVJlc291cmNlUHJvcGVydHlDb25zdHJhaW50ID0gZW5hYmxlUmVzb3VyY2VQcm9wZXJ0eUNvbnN0cmFpbnQ7XG5cbiAgICAgICAgY29uc3Qgcm9zU2VydmVyR3JvdXAgPSBuZXcgUm9zU2VydmVyR3JvdXAodGhpcywgaWQsICB7XG4gICAgICAgICAgICBjb25uZWN0aW9uRHJhaW5Db25maWc6IHByb3BzLmNvbm5lY3Rpb25EcmFpbkNvbmZpZyxcbiAgICAgICAgICAgIHJlc291cmNlR3JvdXBJZDogcHJvcHMucmVzb3VyY2VHcm91cElkLFxuICAgICAgICAgICAgdWNoQ29uZmlnOiBwcm9wcy51Y2hDb25maWcsXG4gICAgICAgICAgICB1cHN0cmVhbUtlZXBhbGl2ZUVuYWJsZWQ6IHByb3BzLnVwc3RyZWFtS2VlcGFsaXZlRW5hYmxlZCA9PT0gdW5kZWZpbmVkIHx8IHByb3BzLnVwc3RyZWFtS2VlcGFsaXZlRW5hYmxlZCA9PT0gbnVsbCA/IGZhbHNlIDogcHJvcHMudXBzdHJlYW1LZWVwYWxpdmVFbmFibGVkLFxuICAgICAgICAgICAgc2NoZWR1bGVyOiBwcm9wcy5zY2hlZHVsZXIsXG4gICAgICAgICAgICBzdGlja3lTZXNzaW9uQ29uZmlnOiBwcm9wcy5zdGlja3lTZXNzaW9uQ29uZmlnLFxuICAgICAgICAgICAgc2VydmVyR3JvdXBUeXBlOiBwcm9wcy5zZXJ2ZXJHcm91cFR5cGUsXG4gICAgICAgICAgICBzbG93U3RhcnRDb25maWc6IHByb3BzLnNsb3dTdGFydENvbmZpZyxcbiAgICAgICAgICAgIHZwY0lkOiBwcm9wcy52cGNJZCxcbiAgICAgICAgICAgIHNlcnZpY2VOYW1lOiBwcm9wcy5zZXJ2aWNlTmFtZSxcbiAgICAgICAgICAgIGhlYWx0aENoZWNrQ29uZmlnOiBwcm9wcy5oZWFsdGhDaGVja0NvbmZpZyxcbiAgICAgICAgICAgIHByb3RvY29sOiBwcm9wcy5wcm90b2NvbCxcbiAgICAgICAgICAgIHRhZ3M6IHByb3BzLnRhZ3MsXG4gICAgICAgICAgICBzZXJ2ZXJHcm91cE5hbWU6IHByb3BzLnNlcnZlckdyb3VwTmFtZSxcbiAgICAgICAgfSwgZW5hYmxlUmVzb3VyY2VQcm9wZXJ0eUNvbnN0cmFpbnQgJiYgdGhpcy5zdGFjay5lbmFibGVSZXNvdXJjZVByb3BlcnR5Q29uc3RyYWludCk7XG4gICAgICAgIHRoaXMucmVzb3VyY2UgPSByb3NTZXJ2ZXJHcm91cDtcbiAgICAgICAgdGhpcy5hdHRyU2VydmVyR3JvdXBJZCA9IHJvc1NlcnZlckdyb3VwLmF0dHJTZXJ2ZXJHcm91cElkO1xuICAgIH1cbn1cbiJdfQ==