"use strict";
// Generated from the AliCloud ROS Resource Specification
Object.defineProperty(exports, "__esModule", { value: true });
exports.RosInstance = void 0;
const ros = require("@alicloud/ros-cdk-core");
/**
 * Determine whether the given properties match those of a `RosInstanceProps`
 *
 * @param properties - the TypeScript properties of a `RosInstanceProps`
 *
 * @returns the result of the validation.
 */
function RosInstancePropsValidator(properties) {
    if (!ros.canInspect(properties)) {
        return ros.VALIDATION_SUCCESS;
    }
    const errors = new ros.ValidationResults();
    errors.collect(ros.propertyValidator('quotaForApplicationProtection', ros.validateNumber)(properties.quotaForApplicationProtection));
    errors.collect(ros.propertyValidator('threatAnalysis', ros.validateBoolean)(properties.threatAnalysis));
    errors.collect(ros.propertyValidator('quotaForMaliciousFileDetectionSdk', ros.validateNumber)(properties.quotaForMaliciousFileDetectionSdk));
    errors.collect(ros.propertyValidator('containerImageScan', ros.validateNumber)(properties.containerImageScan));
    errors.collect(ros.propertyValidator('threatAnalysisLogStorageCapacity', ros.validateNumber)(properties.threatAnalysisLogStorageCapacity));
    errors.collect(ros.propertyValidator('autoRenew', ros.validateBoolean)(properties.autoRenew));
    errors.collect(ros.propertyValidator('maliciousFileDetectionSdk', ros.validateBoolean)(properties.maliciousFileDetectionSdk));
    errors.collect(ros.propertyValidator('vCore', ros.validateNumber)(properties.vCore));
    errors.collect(ros.propertyValidator('period', ros.requiredValidator)(properties.period));
    if (properties.period && (typeof properties.period) !== 'object') {
        errors.collect(ros.propertyValidator('period', ros.validateAllowedValues)({
            data: properties.period,
            allowedValues: [1, 2, 3, 6],
        }));
    }
    errors.collect(ros.propertyValidator('period', ros.validateNumber)(properties.period));
    errors.collect(ros.propertyValidator('vulnerabilityFixing', ros.validateBoolean)(properties.vulnerabilityFixing));
    errors.collect(ros.propertyValidator('quotaForCloudHoneypot', ros.validateNumber)(properties.quotaForCloudHoneypot));
    errors.collect(ros.propertyValidator('quotaForWebTamperProofing', ros.validateNumber)(properties.quotaForWebTamperProofing));
    errors.collect(ros.propertyValidator('autoPay', ros.validateBoolean)(properties.autoPay));
    if (properties.edition && (typeof properties.edition) !== 'object') {
        errors.collect(ros.propertyValidator('edition', ros.validateAllowedValues)({
            data: properties.edition,
            allowedValues: ["Anti-virus", "Advanced", "Enterprise", "Ultimate"],
        }));
    }
    errors.collect(ros.propertyValidator('edition', ros.validateString)(properties.edition));
    errors.collect(ros.propertyValidator('configurationAssessment', ros.validateBoolean)(properties.configurationAssessment));
    errors.collect(ros.propertyValidator('logAnalysis', ros.validateNumber)(properties.logAnalysis));
    errors.collect(ros.propertyValidator('protectedServers', ros.validateNumber)(properties.protectedServers));
    errors.collect(ros.propertyValidator('cloudHoneypot', ros.validateBoolean)(properties.cloudHoneypot));
    errors.collect(ros.propertyValidator('webTamperProtection', ros.validateBoolean)(properties.webTamperProtection));
    errors.collect(ros.propertyValidator('quotaForConfigurationAssessment', ros.validateNumber)(properties.quotaForConfigurationAssessment));
    errors.collect(ros.propertyValidator('quotaForVulnerabilityFixing', ros.validateNumber)(properties.quotaForVulnerabilityFixing));
    errors.collect(ros.propertyValidator('antiRansomware', ros.validateNumber)(properties.antiRansomware));
    errors.collect(ros.propertyValidator('periodUnit', ros.requiredValidator)(properties.periodUnit));
    if (properties.periodUnit && (typeof properties.periodUnit) !== 'object') {
        errors.collect(ros.propertyValidator('periodUnit', ros.validateAllowedValues)({
            data: properties.periodUnit,
            allowedValues: ["Month", "Year"],
        }));
    }
    errors.collect(ros.propertyValidator('periodUnit', ros.validateString)(properties.periodUnit));
    return errors.wrap('supplied properties not correct for "RosInstanceProps"');
}
/**
 * Renders the AliCloud ROS Resource properties of an `ALIYUN::SAS::Instance` resource
 *
 * @param properties - the TypeScript properties of a `RosInstanceProps`
 *
 * @returns the AliCloud ROS Resource properties of an `ALIYUN::SAS::Instance` resource.
 */
// @ts-ignore TS6133
function rosInstancePropsToRosTemplate(properties, enableResourcePropertyConstraint) {
    if (!ros.canInspect(properties)) {
        return properties;
    }
    if (enableResourcePropertyConstraint) {
        RosInstancePropsValidator(properties).assertSuccess();
    }
    return {
        'Period': ros.numberToRosTemplate(properties.period),
        'PeriodUnit': ros.stringToRosTemplate(properties.periodUnit),
        'AntiRansomware': ros.numberToRosTemplate(properties.antiRansomware),
        'AutoPay': ros.booleanToRosTemplate(properties.autoPay),
        'AutoRenew': ros.booleanToRosTemplate(properties.autoRenew),
        'CloudHoneypot': ros.booleanToRosTemplate(properties.cloudHoneypot),
        'ConfigurationAssessment': ros.booleanToRosTemplate(properties.configurationAssessment),
        'ContainerImageScan': ros.numberToRosTemplate(properties.containerImageScan),
        'Edition': ros.stringToRosTemplate(properties.edition),
        'LogAnalysis': ros.numberToRosTemplate(properties.logAnalysis),
        'MaliciousFileDetectionSDK': ros.booleanToRosTemplate(properties.maliciousFileDetectionSdk),
        'ProtectedServers': ros.numberToRosTemplate(properties.protectedServers),
        'QuotaForApplicationProtection': ros.numberToRosTemplate(properties.quotaForApplicationProtection),
        'QuotaForCloudHoneypot': ros.numberToRosTemplate(properties.quotaForCloudHoneypot),
        'QuotaForConfigurationAssessment': ros.numberToRosTemplate(properties.quotaForConfigurationAssessment),
        'QuotaForMaliciousFileDetectionSDK': ros.numberToRosTemplate(properties.quotaForMaliciousFileDetectionSdk),
        'QuotaForVulnerabilityFixing': ros.numberToRosTemplate(properties.quotaForVulnerabilityFixing),
        'QuotaForWebTamperProofing': ros.numberToRosTemplate(properties.quotaForWebTamperProofing),
        'ThreatAnalysis': ros.booleanToRosTemplate(properties.threatAnalysis),
        'ThreatAnalysisLogStorageCapacity': ros.numberToRosTemplate(properties.threatAnalysisLogStorageCapacity),
        'VCore': ros.numberToRosTemplate(properties.vCore),
        'VulnerabilityFixing': ros.booleanToRosTemplate(properties.vulnerabilityFixing),
        'WebTamperProtection': ros.booleanToRosTemplate(properties.webTamperProtection),
    };
}
/**
 * This class is a base encapsulation around the ROS resource type `ALIYUN::SAS::Instance`, which is used to purchase Security Center.
 * @Note This class does not contain additional functions, so it is recommended to use the `Instance` class instead of this class for a more convenient development experience.
 * See https://www.alibabacloud.com/help/ros/developer-reference/aliyun-sas-instance
 */
class RosInstance extends ros.RosResource {
    /**
     * @param scope - scope in which this resource is defined
     * @param id    - scoped id of the resource
     * @param props - resource properties
     */
    constructor(scope, id, props, enableResourcePropertyConstraint) {
        super(scope, id, { type: RosInstance.ROS_RESOURCE_TYPE_NAME, properties: props });
        this.attrInstanceId = this.getAtt('InstanceId');
        this.enableResourcePropertyConstraint = enableResourcePropertyConstraint;
        this.period = props.period;
        this.periodUnit = props.periodUnit;
        this.antiRansomware = props.antiRansomware;
        this.autoPay = props.autoPay;
        this.autoRenew = props.autoRenew;
        this.cloudHoneypot = props.cloudHoneypot;
        this.configurationAssessment = props.configurationAssessment;
        this.containerImageScan = props.containerImageScan;
        this.edition = props.edition;
        this.logAnalysis = props.logAnalysis;
        this.maliciousFileDetectionSdk = props.maliciousFileDetectionSdk;
        this.protectedServers = props.protectedServers;
        this.quotaForApplicationProtection = props.quotaForApplicationProtection;
        this.quotaForCloudHoneypot = props.quotaForCloudHoneypot;
        this.quotaForConfigurationAssessment = props.quotaForConfigurationAssessment;
        this.quotaForMaliciousFileDetectionSdk = props.quotaForMaliciousFileDetectionSdk;
        this.quotaForVulnerabilityFixing = props.quotaForVulnerabilityFixing;
        this.quotaForWebTamperProofing = props.quotaForWebTamperProofing;
        this.threatAnalysis = props.threatAnalysis;
        this.threatAnalysisLogStorageCapacity = props.threatAnalysisLogStorageCapacity;
        this.vCore = props.vCore;
        this.vulnerabilityFixing = props.vulnerabilityFixing;
        this.webTamperProtection = props.webTamperProtection;
    }
    get rosProperties() {
        return {
            period: this.period,
            periodUnit: this.periodUnit,
            antiRansomware: this.antiRansomware,
            autoPay: this.autoPay,
            autoRenew: this.autoRenew,
            cloudHoneypot: this.cloudHoneypot,
            configurationAssessment: this.configurationAssessment,
            containerImageScan: this.containerImageScan,
            edition: this.edition,
            logAnalysis: this.logAnalysis,
            maliciousFileDetectionSdk: this.maliciousFileDetectionSdk,
            protectedServers: this.protectedServers,
            quotaForApplicationProtection: this.quotaForApplicationProtection,
            quotaForCloudHoneypot: this.quotaForCloudHoneypot,
            quotaForConfigurationAssessment: this.quotaForConfigurationAssessment,
            quotaForMaliciousFileDetectionSdk: this.quotaForMaliciousFileDetectionSdk,
            quotaForVulnerabilityFixing: this.quotaForVulnerabilityFixing,
            quotaForWebTamperProofing: this.quotaForWebTamperProofing,
            threatAnalysis: this.threatAnalysis,
            threatAnalysisLogStorageCapacity: this.threatAnalysisLogStorageCapacity,
            vCore: this.vCore,
            vulnerabilityFixing: this.vulnerabilityFixing,
            webTamperProtection: this.webTamperProtection,
        };
    }
    renderProperties(props) {
        return rosInstancePropsToRosTemplate(props, this.enableResourcePropertyConstraint);
    }
}
exports.RosInstance = RosInstance;
/**
 * The resource type name for this resource class.
 */
RosInstance.ROS_RESOURCE_TYPE_NAME = "ALIYUN::SAS::Instance";
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2FzLmdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbInNhcy5nZW5lcmF0ZWQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLHlEQUF5RDs7O0FBRXpELDhDQUE4QztBQWdJOUM7Ozs7OztHQU1HO0FBQ0gsU0FBUyx5QkFBeUIsQ0FBQyxVQUFlO0lBQzlDLElBQUksQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLFVBQVUsQ0FBQyxFQUFFO1FBQUUsT0FBTyxHQUFHLENBQUMsa0JBQWtCLENBQUM7S0FBRTtJQUNuRSxNQUFNLE1BQU0sR0FBRyxJQUFJLEdBQUcsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO0lBQzNDLE1BQU0sQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLGlCQUFpQixDQUFDLCtCQUErQixFQUFFLEdBQUcsQ0FBQyxjQUFjLENBQUMsQ0FBQyxVQUFVLENBQUMsNkJBQTZCLENBQUMsQ0FBQyxDQUFDO0lBQ3JJLE1BQU0sQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLGlCQUFpQixDQUFDLGdCQUFnQixFQUFFLEdBQUcsQ0FBQyxlQUFlLENBQUMsQ0FBQyxVQUFVLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQztJQUN4RyxNQUFNLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxpQkFBaUIsQ0FBQyxtQ0FBbUMsRUFBRSxHQUFHLENBQUMsY0FBYyxDQUFDLENBQUMsVUFBVSxDQUFDLGlDQUFpQyxDQUFDLENBQUMsQ0FBQztJQUM3SSxNQUFNLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxpQkFBaUIsQ0FBQyxvQkFBb0IsRUFBRSxHQUFHLENBQUMsY0FBYyxDQUFDLENBQUMsVUFBVSxDQUFDLGtCQUFrQixDQUFDLENBQUMsQ0FBQztJQUMvRyxNQUFNLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxpQkFBaUIsQ0FBQyxrQ0FBa0MsRUFBRSxHQUFHLENBQUMsY0FBYyxDQUFDLENBQUMsVUFBVSxDQUFDLGdDQUFnQyxDQUFDLENBQUMs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LEdBQUcsdUJBQXVCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBHZW5lcmF0ZWQgZnJvbSB0aGUgQWxpQ2xvdWQgUk9TIFJlc291cmNlIFNwZWNpZmljYXRpb25cblxuaW1wb3J0ICogYXMgcm9zIGZyb20gJ0BhbGljbG91ZC9yb3MtY2RrLWNvcmUnO1xuXG4vKipcbiAqIFByb3BlcnRpZXMgZm9yIGRlZmluaW5nIGEgYFJvc0luc3RhbmNlYC5cbiAqIFNlZSBodHRwczovL3d3dy5hbGliYWJhY2xvdWQuY29tL2hlbHAvcm9zL2RldmVsb3Blci1yZWZlcmVuY2UvYWxpeXVuLXNhcy1pbnN0YW5jZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJvc0luc3RhbmNlUHJvcHMge1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IHBlcmlvZDogVGhlIHN1YnNjcmlwdGlvbiBwZXJpb2Qgb2YgdGhlIGZpcmV3YWxsSWYgUGVyaW9kVW5pdCBpcyBtb250aCwgdGhlIHZhbGlkIHJhbmdlIGlzIDEsIDMsIDZcbiAgICAgKiBJZiBwZXJpb2RVbml0IGlzIHllYXIsIHRoZSB2YWxpZCByYW5nZSBpcyAxLCAyLCAzXG4gICAgICovXG4gICAgcmVhZG9ubHkgcGVyaW9kOiBudW1iZXIgfCByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgcGVyaW9kVW5pdDogVGhlIHVuaXQgb2YgdGhlIHN1YnNjcmlwdGlvbiBkdXJhdGlvbi4gVmFsaWQgdmFsdWVzOlxuICAgICAqIE1vbnRoXG4gICAgICogWWVhclxuICAgICAqXG4gICAgICovXG4gICAgcmVhZG9ubHkgcGVyaW9kVW5pdDogc3RyaW5nIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IGFudGlSYW5zb213YXJlOiBTZWN1cml0eSBDZW50ZXIgcHJvdmlkZXMgYSBjb21wcmVoZW5zaXZlIGFudGktcmFuc29td2FyZSBzb2x1dGlvbiB0byBwcm90ZWN0IHlvdXIgYnVzaW5lc3MuIFdlIHJlY29tbWVuZCB0aGF0IHlvdSBjb25maWd1cmUgYSBkYXRhIHByb3RlY3Rpb24gY2FwYWNpdHkgb2YgNTBHQiBmb3IgZWFjaCBzZXJ2ZXIuXG4gICAgICovXG4gICAgcmVhZG9ubHkgYW50aVJhbnNvbXdhcmU/OiBudW1iZXIgfCByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgYXV0b1BheTogV2hldGhlciB0byBhdXRvIHBheSB0aGUgYmlsbC5EZWZhdWx0OiBUcnVlXG4gICAgICovXG4gICAgcmVhZG9ubHkgYXV0b1BheT86IGJvb2xlYW4gfCByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgYXV0b1JlbmV3OiBXaGV0aGVyIHRvIGF1dG8gcmVuZXcgdGhlIHByZXBheSBpbnN0YW5jZS5EZWZhdWx0OiBGYWxzZVxuICAgICAqL1xuICAgIHJlYWRvbmx5IGF1dG9SZW5ldz86IGJvb2xlYW4gfCByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgY2xvdWRIb25leXBvdDogVGhlIGNsb3VkIGhvbmV5cG90IGZlYXR1cmUgY2FuIGNhcHR1cmUgYXR0YWNrcyBpbiBhIHRpbWVseSBhbmQgZWZmaWNpZW50IG1hbm5lci4gWW91IGNhbiB1c2UgdGhlIGZlYXR1cmUgdG8gcHJvdGVjdCB5b3VyIGNvcmUgYXNzZXRzIGFuZCBkZXRlY3QgYXR0YWNrcyBpbiBhdHRhY2sgYW5kIGRlZmVuc2Ugc2NlbmFyaW9zLlxuICAgICAqL1xuICAgIHJlYWRvbmx5IGNsb3VkSG9uZXlwb3Q/OiBib29sZWFuIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IGNvbmZpZ3VyYXRpb25Bc3Nlc3NtZW50OiBUaGUgY29uZmlndXJhdGlvbiBhc3Nlc3NtZW50IGZlYXR1cmUgZGV0ZWN0cyBjb25maWd1cmF0aW9uIGVycm9ycyBhbmQgc2VjdXJpdHkgcmlza3Mgb24gY2xvdWQgc2VydmljZXMgZnJvbSB0aGUgZm9sbG93aW5nIGRpbWVuc2lvbnM6IGlkZW50aXR5IGFuZCBwZXJtaXNzaW9uIG1hbmFnZW1lbnQsIHNlY3VyaXR5IHJpc2tzIGluIEFsaWJhYmEgQ2xvdWQgc2VydmljZXMsIGFuZCBjb21wbGlhbmNlIHJpc2tzLlRoaXMgZW5zdXJlcyB0aGUgc2VjdXJpdHkgb2YgdGhlIHJ1bm5pbmcgZW52aXJvbm1lbnQgb2YgeW91ciBjbG91ZCBzZXJ2aWNlcy5cbiAgICAgKi9cbiAgICByZWFkb25seSBjb25maWd1cmF0aW9uQXNzZXNzbWVudD86IGJvb2xlYW4gfCByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgY29udGFpbmVySW1hZ2VTY2FuOiBTZWN1cml0eSBDZW50ZXIgcHJvdmlkZXMgdGhlIGNvbnRhaW5lciBpbWFnZSBzY2FuIGZlYXR1cmUgdG8gcHJvdGVjdCBjb250YWluZXJzLiBTZWN1cml0eSBDZW50ZXIgY2FuIGRldGVjdCBDVkVzLCBhcHBsaWNhdGlvbiB2dWxuZXJhYmlsaXRpZXMsIHZpcnVzZXMsIGFuZCBtYWxpY2lvdXMgc2FtcGxlcyBhbmQgYWxsb3dzIHlvdSB0byBoYW5kbGUgdGhlIGRldGVjdGVkIHJpc2tzLiBZb3UgY2FuIGNvbmZpZ3VyZSB0aGlzIHBhcmFtZXRlciBiYXNlZCBvbiB0aGUgbnVtYmVyIG9mIGltYWdlcyBvciBkaWdlc3RzLiBGb3IgZXhhbXBsZSwgaWYgdGhlIG51bWJlciBvZiBpbWFnZXMgb3IgZGlnZXN0cyB0aGF0IGFyZSB1cGRhdGVkIGluIHRoZSBwcmV2aW91cyBkYXkgaXMgMTAsIHlvdSBjYW4gc2V0IHRoaXMgcGFyYW1ldGVyIHRvIDMwMCBmb3IgYSBtb250aGx5IHN1YnNjcmlwdGlvbiBvciB0byAzNjUwIGZvciBhIHllYXJseSBzdWJzY3JpcHRpb24uIFRoaXMgaXMgbW9yZSBjb3N0LWVmZmVjdGl2ZS5cbiAgICAgKi9cbiAgICByZWFkb25seSBjb250YWluZXJJbWFnZVNjYW4/OiBudW1iZXIgfCByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgZWRpdGlvbjogVGhlIHZlcnNpb24gb2YgU2VjdXJpdHkgY2VudGVyLlxuICAgICAqL1xuICAgIHJlYWRvbmx5IGVkaXRpb24/OiBzdHJpbmcgfCByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgbG9nQW5hbHlzaXM6IEluIHJlc3BvbnNlIHRvIHRoZSByZXF1aXJlbWVudHMgb2YgdGhlIG5ldHdvcmsgc2VjdXJpdHkgbGF3LCB3aGljaCByZXF1aXJlcyBsb2dzIHRvIGJlIHN0b3JlZCBmb3IgYXQgbGVhc3QgMTgwIGRheXMsIHdlIHJlY29tbWVuZCB0aGF0IHlvdSBjb25maWd1cmUgYSA0MEdCIGxvZyBzdG9yYWdlIGVhY2ggc2VydmVyLiBMb2cgYW5hbHlzaXMgc3VwcG9ydHMgbXVsdGktZGltZW5zaW9uYWwgc2VjdXJpdHkgbG9ncyBvZiBjbG91ZCBhc3NldHMsIG91dC1vZi10aGUtYm94IHJlcG9ydHMsIGFuZCBwb3dlcmZ1bCBTUUwgc3ludGF4IGFuYWx5c2lzLCBzbyBhcyB0byBtb25pdG9yIGJ1c2luZXNzIHN0YXR1cywgdHJvdWJsZXNob290IGF0dGFja3MsIHNlY3VyaXR5IG9wZXJhdGlvbnMgc3VjaCBhcyB0cmFjZWFiaWxpdHkgYW5kIHBvc2l0aW9uaW5nIGFyZSBlYXNpZXIuXG4gICAgICovXG4gICAgcmVhZG9ubHkgbG9nQW5hbHlzaXM/OiBudW1iZXIgfCByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgbWFsaWNpb3VzRmlsZURldGVjdGlvblNkazogVGhlIGNvbmZpZ3VyYXRpb24gYXNzZXNzbWVudCBmZWF0dXJlIGRldGVjdHMgY29uZmlndXJhdGlvbiBlcnJvcnMgYW5kIHNlY3VyaXR5IHJpc2tzIG9uIGNsb3VkIHNlcnZpY2VzIGZyb20gdGhlIGZvbGxvd2luZyBkaW1lbnNpb25zOiBpZGVudGl0eSBhbmQgcGVybWlzc2lvbiBtYW5hZ2VtZW50LCBzZWN1cml0eSByaXNrcyBpbiBBbGliYWJhIENsb3VkIHNlcnZpY2VzLCBhbmQgY29tcGxpYW5jZSByaXNrcy4gVGhpcyBlbnN1cmVzIHRoZSBzZWN1cml0eSBvZiB0aGUgcnVubmluZyBlbnZpcm9ubWVudCBvZiB5b3VyIGNsb3VkIHNlcnZpY2VzLlxuICAgICAqL1xuICAgIHJlYWRvbmx5IG1hbGljaW91c0ZpbGVEZXRlY3Rpb25TZGs/OiBib29sZWFuIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IHByb3RlY3RlZFNlcnZlcnM6IEF1dGhvcml6YXRpb24gaXMgdGhlIHNhbWUgYXMgdGhlIG51bWJlciBvZiBzZXJ2ZXJzIHlvdSBoYXZlLlxuICAgICAqL1xuICAgIHJlYWRvbmx5IHByb3RlY3RlZFNlcnZlcnM/OiBudW1iZXIgfCByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgcXVvdGFGb3JBcHBsaWNhdGlvblByb3RlY3Rpb246IFRoZSBhcHBsaWNhdGlvbiBwcm90ZWN0aW9uIGZlYXR1cmUgY2FuIGRldGVjdCBhdHRhY2tzIG9uIGFwcGxpY2F0aW9ucyBhbmQgcHJvdmlkZSBzZWxmLXByb3RlY3Rpb24gZHVyaW5nIGFwcGxpY2F0aW9uIHJ1bnRpbWUuIFRoZSBmZWF0dXJlIHN1cHBvcnRzIHNpbXBsZSBhbmQgY29udmVuaWVudCBPJk0gYW5kIGNhbiBlZmZlY3RpdmVseSBkZWZlbmQgYWdhaW5zdCB6ZXJvLWRheSBhbmQgT1dBU1AgVG9wIHZ1bG5lcmFiaWxpdGllcy4gVGhlIGZlYXR1cmUgaXMgYSB2YWx1ZS1hZGRlZCBmZWF0dXJlLiBZb3UgYXJlIGNoYXJnZWQgYmFzZWQgb24gdGhlIG51bWJlciBvZiBhc3NldHMgb24gd2hpY2ggdGhlIFJBU1AgYWdlbnQgaXMgaW5zdGFsbGVkLiBZb3UgbXVzdCBjb25maWd1cmUgcHJvdGVjdGlvbiBwb2xpY2llcyBhZnRlciB5b3UgcHVyY2hhc2UgdGhlIGZlYXR1cmUuXG4gICAgICovXG4gICAgcmVhZG9ubHkgcXVvdGFGb3JBcHBsaWNhdGlvblByb3RlY3Rpb24/OiBudW1iZXIgfCByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgcXVvdGFGb3JDbG91ZEhvbmV5cG90OlxuICAgICAqL1xuICAgIHJlYWRvbmx5IHF1b3RhRm9yQ2xvdWRIb25leXBvdD86IG51bWJlciB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIEBQcm9wZXJ0eSBxdW90YUZvckNvbmZpZ3VyYXRpb25Bc3Nlc3NtZW50OlxuICAgICAqL1xuICAgIHJlYWRvbmx5IHF1b3RhRm9yQ29uZmlndXJhdGlvbkFzc2Vzc21lbnQ/OiBudW1iZXIgfCByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgcXVvdGFGb3JNYWxpY2lvdXNGaWxlRGV0ZWN0aW9uU2RrOlxuICAgICAqL1xuICAgIHJlYWRvbmx5IHF1b3RhRm9yTWFsaWNpb3VzRmlsZURldGVjdGlvblNkaz86IG51bWJlciB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIEBQcm9wZXJ0eSBxdW90YUZvclZ1bG5lcmFiaWxpdHlGaXhpbmc6IFNwZWNpZnkgdGhlIHF1b3RhIGZvciB2dWxuZXJhYmlsaXR5IGZpeGluZyBiYXNlZCBvbiB0aGUgbnVtYmVyIG9mIHZ1bG5lcmFiaWxpdGllcyB0aGF0IHlvdSB3YW50IHRvIGZpeCBlYWNoIG1vbnRoLiBUaGUgcXVvdGEgaXMgZXF1YWwgdG8gdGhlIHRvdGFsIG51bWJlciBvZiB2dWxuZXJhYmlsaXRpZXMgdGhhdCB5b3Ugd2FudCB0byBmaXggb24gYWxsIHNlcnZlcnMgcmVnYXJkbGVzcyBvZiB0aGUgdnVsbmVyYWJpbGl0eSBuYW1lcy4gRm9yIGV4YW1wbGUsIGlmIHlvdSB1c2UgU2VjdXJpdHkgQ2VudGVyIHRvIGZpeCB0aGUgc2FtZSB2dWxuZXJhYmlsaXR5IG9uIDEwIHNlcnZlcnMsIHRoZSBxdW90YSBpcyBkZWR1Y3RlZCBieSAxMC5cbiAgICAgKi9cbiAgICByZWFkb25seSBxdW90YUZvclZ1bG5lcmFiaWxpdHlGaXhpbmc/OiBudW1iZXIgfCByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgcXVvdGFGb3JXZWJUYW1wZXJQcm9vZmluZzpcbiAgICAgKi9cbiAgICByZWFkb25seSBxdW90YUZvcldlYlRhbXBlclByb29maW5nPzogbnVtYmVyIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IHRocmVhdEFuYWx5c2lzOiBUaGUgdGhyZWF0IGFuYWx5c2lzIGZlYXR1cmUgYWxsb3dzIHlvdSB0byBoYW5kbGUgYWxlcnRzIHRoYXQgYXJlIGdlbmVyYXRlZCBmb3IgYXNzZXRzIGluIHRoZSBjbG91ZCB3aXRoaW4gZGlmZmVyZW50IGFjY291bnRzIGFuZCBhc3NldHMgb2YgbXVsdGlwbGUgY2xvdWQgc2VydmljZXMgaW4gYSBjZW50cmFsaXplZCBtYW5uZXIuIFRoZSBmZWF0dXJlIGFsc28gYWxsb3dzIHlvdSB0byBoYW5kbGUgcmlza3Mgd2l0aCBhIGZldyBjbGlja3MuIFRoZSBmZWF0dXJlIHByb3ZpZGVzIGF1dG9tYXRpYyBvcmNoZXN0cmF0aW9uIGFuZCByZXNwb25zZSBjYXBhYmlsaXRpZXMuXG4gICAgICovXG4gICAgcmVhZG9ubHkgdGhyZWF0QW5hbHlzaXM/OiBib29sZWFuIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IHRocmVhdEFuYWx5c2lzTG9nU3RvcmFnZUNhcGFjaXR5OlxuICAgICAqL1xuICAgIHJlYWRvbmx5IHRocmVhdEFuYWx5c2lzTG9nU3RvcmFnZUNhcGFjaXR5PzogbnVtYmVyIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IHZDb3JlOiBUaGlzIHBhcmFtZXRlciBpbmRpY2F0ZXMgdGhlIG51bWJlciBvZiBzZXJ2ZXIgdkNQVXMuXG4gICAgICovXG4gICAgcmVhZG9ubHkgdkNvcmU/OiBudW1iZXIgfCByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgdnVsbmVyYWJpbGl0eUZpeGluZzogVGhlIHZ1bG5lcmFiaWxpdHkgZml4aW5nIGZlYXR1cmUgYWxsb3dzIHlvdSB0byBmaXggc3lzdGVtIHZ1bG5lcmFiaWxpdGllcyB3aXRoIGEgZmV3IGNsaWNrcy4gVGhpcyBpbXByb3ZlcyBPJk0gZWZmaWNpZW5jeS4gWW91IGNhbiBzZXBhcmF0ZWx5IHB1cmNoYXNlIHRoZSB2dWxuZXJhYmlsaXR5IGZpeGluZyBmZWF0dXJlLiBZb3UgYXJlIGNoYXJnZWQgYmFzZWQgb24gdGhlIG51bWJlciBvZiB0aW1lcyB0aGF0IHlvdSBwZXJmb3JtIHZ1bG5lcmFiaWxpdHkgZml4aW5nLlxuICAgICAqL1xuICAgIHJlYWRvbmx5IHZ1bG5lcmFiaWxpdHlGaXhpbmc/OiBib29sZWFuIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IHdlYlRhbXBlclByb3RlY3Rpb246IFRvIGVuc3VyZSB0aGF0IHRoZSB3ZWJzaXRlIGluZm9ybWF0aW9uIG9mIGltcG9ydGFudCBzeXN0ZW1zIGlzIG5vdCBtYWxpY2lvdXNseSB0YW1wZXJlZCB3aXRoLCB0aGVyZSBhcmUgYmFkIGNvbnRlbnQgc3VjaCBhcyBoYW5naW5nIGhvcnNlcywgYmxhY2sgY2hhaW5zLCBpbGxlZ2FsIGltcGxhbnRhdGlvbiBvZiB0ZXJyb3Jpc3QgdGhyZWF0cywgcG9ybm9ncmFwaHksIGV0Yy5cbiAgICAgKi9cbiAgICByZWFkb25seSB3ZWJUYW1wZXJQcm90ZWN0aW9uPzogYm9vbGVhbiB8IHJvcy5JUmVzb2x2YWJsZTtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgd2hldGhlciB0aGUgZ2l2ZW4gcHJvcGVydGllcyBtYXRjaCB0aG9zZSBvZiBhIGBSb3NJbnN0YW5jZVByb3BzYFxuICpcbiAqIEBwYXJhbSBwcm9wZXJ0aWVzIC0gdGhlIFR5cGVTY3JpcHQgcHJvcGVydGllcyBvZiBhIGBSb3NJbnN0YW5jZVByb3BzYFxuICpcbiAqIEByZXR1cm5zIHRoZSByZXN1bHQgb2YgdGhlIHZhbGlkYXRpb24uXG4gKi9cbmZ1bmN0aW9uIFJvc0luc3RhbmNlUHJvcHNWYWxpZGF0b3IocHJvcGVydGllczogYW55KTogcm9zLlZhbGlkYXRpb25SZXN1bHQge1xuICAgIGlmICghcm9zLmNhbkluc3BlY3QocHJvcGVydGllcykpIHsgcmV0dXJuIHJvcy5WQUxJREFUSU9OX1NVQ0NFU1M7IH1cbiAgICBjb25zdCBlcnJvcnMgPSBuZXcgcm9zLlZhbGlkYXRpb25SZXN1bHRzKCk7XG4gICAgZXJyb3JzLmNvbGxlY3Qocm9zLnByb3BlcnR5VmFsaWRhdG9yKCdxdW90YUZvckFwcGxpY2F0aW9uUHJvdGVjdGlvbicsIHJvcy52YWxpZGF0ZU51bWJlcikocHJvcGVydGllcy5xdW90YUZvckFwcGxpY2F0aW9uUHJvdGVjdGlvbikpO1xuICAgIGVycm9ycy5jb2xsZWN0KHJvcy5wcm9wZXJ0eVZhbGlkYXRvcigndGhyZWF0QW5hbHlzaXMnLCByb3MudmFsaWRhdGVCb29sZWFuKShwcm9wZXJ0aWVzLnRocmVhdEFuYWx5c2lzKSk7XG4gICAgZXJyb3JzLmNvbGxlY3Qocm9zLnByb3BlcnR5VmFsaWRhdG9yKCdxdW90YUZvck1hbGljaW91c0ZpbGVEZXRlY3Rpb25TZGsnLCByb3MudmFsaWRhdGVOdW1iZXIpKHByb3BlcnRpZXMucXVvdGFGb3JNYWxpY2lvdXNGaWxlRGV0ZWN0aW9uU2RrKSk7XG4gICAgZXJyb3JzLmNvbGxlY3Qocm9zLnByb3BlcnR5VmFsaWRhdG9yKCdjb250YWluZXJJbWFnZVNjYW4nLCByb3MudmFsaWRhdGVOdW1iZXIpKHByb3BlcnRpZXMuY29udGFpbmVySW1hZ2VTY2FuKSk7XG4gICAgZXJyb3JzLmNvbGxlY3Qocm9zLnByb3BlcnR5VmFsaWRhdG9yKCd0aHJlYXRBbmFseXNpc0xvZ1N0b3JhZ2VDYXBhY2l0eScsIHJvcy52YWxpZGF0ZU51bWJlcikocHJvcGVydGllcy50aHJlYXRBbmFseXNpc0xvZ1N0b3JhZ2VDYXBhY2l0eSkpO1xuICAgIGVycm9ycy5jb2xsZWN0KHJvcy5wcm9wZXJ0eVZhbGlkYXRvcignYXV0b1JlbmV3Jywgcm9zLnZhbGlkYXRlQm9vbGVhbikocHJvcGVydGllcy5hdXRvUmVuZXcpKTtcbiAgICBlcnJvcnMuY29sbGVjdChyb3MucHJvcGVydHlWYWxpZGF0b3IoJ21hbGljaW91c0ZpbGVEZXRlY3Rpb25TZGsnLCByb3MudmFsaWRhdGVCb29sZWFuKShwcm9wZXJ0aWVzLm1hbGljaW91c0ZpbGVEZXRlY3Rpb25TZGspKTtcbiAgICBlcnJvcnMuY29sbGVjdChyb3MucHJvcGVydHlWYWxpZGF0b3IoJ3ZDb3JlJywgcm9zLnZhbGlkYXRlTnVtYmVyKShwcm9wZXJ0aWVzLnZDb3JlKSk7XG4gICAgZXJyb3JzLmNvbGxlY3Qocm9zLnByb3BlcnR5VmFsaWRhdG9yKCdwZXJpb2QnLCByb3MucmVxdWlyZWRWYWxpZGF0b3IpKHByb3BlcnRpZXMucGVyaW9kKSk7XG4gICAgaWYocHJvcGVydGllcy5wZXJpb2QgJiYgKHR5cGVvZiBwcm9wZXJ0aWVzLnBlcmlvZCkgIT09ICdvYmplY3QnKSB7XG4gICAgICAgIGVycm9ycy5jb2xsZWN0KHJvcy5wcm9wZXJ0eVZhbGlkYXRvcigncGVyaW9kJywgcm9zLnZhbGlkYXRlQWxsb3dlZFZhbHVlcykoe1xuICAgICAgICAgIGRhdGE6IHByb3BlcnRpZXMucGVyaW9kLFxuICAgICAgICAgIGFsbG93ZWRWYWx1ZXM6IFsxLDIsMyw2XSxcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBlcnJvcnMuY29sbGVjdChyb3MucHJvcGVydHlWYWxpZGF0b3IoJ3BlcmlvZCcsIHJvcy52YWxpZGF0ZU51bWJlcikocHJvcGVydGllcy5wZXJpb2QpKTtcbiAgICBlcnJvcnMuY29sbGVjdChyb3MucHJvcGVydHlWYWxpZGF0b3IoJ3Z1bG5lcmFiaWxpdHlGaXhpbmcnLCByb3MudmFsaWRhdGVCb29sZWFuKShwcm9wZXJ0aWVzLnZ1bG5lcmFiaWxpdHlGaXhpbmcpKTtcbiAgICBlcnJvcnMuY29sbGVjdChyb3MucHJvcGVydHlWYWxpZGF0b3IoJ3F1b3RhRm9yQ2xvdWRIb25leXBvdCcsIHJvcy52YWxpZGF0ZU51bWJlcikocHJvcGVydGllcy5xdW90YUZvckNsb3VkSG9uZXlwb3QpKTtcbiAgICBlcnJvcnMuY29sbGVjdChyb3MucHJvcGVydHlWYWxpZGF0b3IoJ3F1b3RhRm9yV2ViVGFtcGVyUHJvb2ZpbmcnLCByb3MudmFsaWRhdGVOdW1iZXIpKHByb3BlcnRpZXMucXVvdGFGb3JXZWJUYW1wZXJQcm9vZmluZykpO1xuICAgIGVycm9ycy5jb2xsZWN0KHJvcy5wcm9wZXJ0eVZhbGlkYXRvcignYXV0b1BheScsIHJvcy52YWxpZGF0ZUJvb2xlYW4pKHByb3BlcnRpZXMuYXV0b1BheSkpO1xuICAgIGlmKHByb3BlcnRpZXMuZWRpdGlvbiAmJiAodHlwZW9mIHByb3BlcnRpZXMuZWRpdGlvbikgIT09ICdvYmplY3QnKSB7XG4gICAgICAgIGVycm9ycy5jb2xsZWN0KHJvcy5wcm9wZXJ0eVZhbGlkYXRvcignZWRpdGlvbicsIHJvcy52YWxpZGF0ZUFsbG93ZWRWYWx1ZXMpKHtcbiAgICAgICAgICBkYXRhOiBwcm9wZXJ0aWVzLmVkaXRpb24sXG4gICAgICAgICAgYWxsb3dlZFZhbHVlczogW1wiQW50aS12aXJ1c1wiLFwiQWR2YW5jZWRcIixcIkVudGVycHJpc2VcIixcIlVsdGltYXRlXCJdLFxuICAgICAgICB9KSk7XG4gICAgfVxuICAgIGVycm9ycy5jb2xsZWN0KHJvcy5wcm9wZXJ0eVZhbGlkYXRvcignZWRpdGlvbicsIHJvcy52YWxpZGF0ZVN0cmluZykocHJvcGVydGllcy5lZGl0aW9uKSk7XG4gICAgZXJyb3JzLmNvbGxlY3Qocm9zLnByb3BlcnR5VmFsaWRhdG9yKCdjb25maWd1cmF0aW9uQXNzZXNzbWVudCcsIHJvcy52YWxpZGF0ZUJvb2xlYW4pKHByb3BlcnRpZXMuY29uZmlndXJhdGlvbkFzc2Vzc21lbnQpKTtcbiAgICBlcnJvcnMuY29sbGVjdChyb3MucHJvcGVydHlWYWxpZGF0b3IoJ2xvZ0FuYWx5c2lzJywgcm9zLnZhbGlkYXRlTnVtYmVyKShwcm9wZXJ0aWVzLmxvZ0FuYWx5c2lzKSk7XG4gICAgZXJyb3JzLmNvbGxlY3Qocm9zLnByb3BlcnR5VmFsaWRhdG9yKCdwcm90ZWN0ZWRTZXJ2ZXJzJywgcm9zLnZhbGlkYXRlTnVtYmVyKShwcm9wZXJ0aWVzLnByb3RlY3RlZFNlcnZlcnMpKTtcbiAgICBlcnJvcnMuY29sbGVjdChyb3MucHJvcGVydHlWYWxpZGF0b3IoJ2Nsb3VkSG9uZXlwb3QnLCByb3MudmFsaWRhdGVCb29sZWFuKShwcm9wZXJ0aWVzLmNsb3VkSG9uZXlwb3QpKTtcbiAgICBlcnJvcnMuY29sbGVjdChyb3MucHJvcGVydHlWYWxpZGF0b3IoJ3dlYlRhbXBlclByb3RlY3Rpb24nLCByb3MudmFsaWRhdGVCb29sZWFuKShwcm9wZXJ0aWVzLndlYlRhbXBlclByb3RlY3Rpb24pKTtcbiAgICBlcnJvcnMuY29sbGVjdChyb3MucHJvcGVydHlWYWxpZGF0b3IoJ3F1b3RhRm9yQ29uZmlndXJhdGlvbkFzc2Vzc21lbnQnLCByb3MudmFsaWRhdGVOdW1iZXIpKHByb3BlcnRpZXMucXVvdGFGb3JDb25maWd1cmF0aW9uQXNzZXNzbWVudCkpO1xuICAgIGVycm9ycy5jb2xsZWN0KHJvcy5wcm9wZXJ0eVZhbGlkYXRvcigncXVvdGFGb3JWdWxuZXJhYmlsaXR5Rml4aW5nJywgcm9zLnZhbGlkYXRlTnVtYmVyKShwcm9wZXJ0aWVzLnF1b3RhRm9yVnVsbmVyYWJpbGl0eUZpeGluZykpO1xuICAgIGVycm9ycy5jb2xsZWN0KHJvcy5wcm9wZXJ0eVZhbGlkYXRvcignYW50aVJhbnNvbXdhcmUnLCByb3MudmFsaWRhdGVOdW1iZXIpKHByb3BlcnRpZXMuYW50aVJhbnNvbXdhcmUpKTtcbiAgICBlcnJvcnMuY29sbGVjdChyb3MucHJvcGVydHlWYWxpZGF0b3IoJ3BlcmlvZFVuaXQnLCByb3MucmVxdWlyZWRWYWxpZGF0b3IpKHByb3BlcnRpZXMucGVyaW9kVW5pdCkpO1xuICAgIGlmKHByb3BlcnRpZXMucGVyaW9kVW5pdCAmJiAodHlwZW9mIHByb3BlcnRpZXMucGVyaW9kVW5pdCkgIT09ICdvYmplY3QnKSB7XG4gICAgICAgIGVycm9ycy5jb2xsZWN0KHJvcy5wcm9wZXJ0eVZhbGlkYXRvcigncGVyaW9kVW5pdCcsIHJvcy52YWxpZGF0ZUFsbG93ZWRWYWx1ZXMpKHtcbiAgICAgICAgICBkYXRhOiBwcm9wZXJ0aWVzLnBlcmlvZFVuaXQsXG4gICAgICAgICAgYWxsb3dlZFZhbHVlczogW1wiTW9udGhcIixcIlllYXJcIl0sXG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgZXJyb3JzLmNvbGxlY3Qocm9zLnByb3BlcnR5VmFsaWRhdG9yKCdwZXJpb2RVbml0Jywgcm9zLnZhbGlkYXRlU3RyaW5nKShwcm9wZXJ0aWVzLnBlcmlvZFVuaXQpKTtcbiAgICByZXR1cm4gZXJyb3JzLndyYXAoJ3N1cHBsaWVkIHByb3BlcnRpZXMgbm90IGNvcnJlY3QgZm9yIFwiUm9zSW5zdGFuY2VQcm9wc1wiJyk7XG59XG5cbi8qKlxuICogUmVuZGVycyB0aGUgQWxpQ2xvdWQgUk9TIFJlc291cmNlIHByb3BlcnRpZXMgb2YgYW4gYEFMSVlVTjo6U0FTOjpJbnN0YW5jZWAgcmVzb3VyY2VcbiAqXG4gKiBAcGFyYW0gcHJvcGVydGllcyAtIHRoZSBUeXBlU2NyaXB0IHByb3BlcnRpZXMgb2YgYSBgUm9zSW5zdGFuY2VQcm9wc2BcbiAqXG4gKiBAcmV0dXJucyB0aGUgQWxpQ2xvdWQgUk9TIFJlc291cmNlIHByb3BlcnRpZXMgb2YgYW4gYEFMSVlVTjo6U0FTOjpJbnN0YW5jZWAgcmVzb3VyY2UuXG4gKi9cbi8vIEB0cy1pZ25vcmUgVFM2MTMzXG5mdW5jdGlvbiByb3NJbnN0YW5jZVByb3BzVG9Sb3NUZW1wbGF0ZShwcm9wZXJ0aWVzOiBhbnksIGVuYWJsZVJlc291cmNlUHJvcGVydHlDb25zdHJhaW50OiBib29sZWFuKTogYW55IHtcbiAgICBpZiAoIXJvcy5jYW5JbnNwZWN0KHByb3BlcnRpZXMpKSB7IHJldHVybiBwcm9wZXJ0aWVzOyB9XG4gICAgaWYoZW5hYmxlUmVzb3VyY2VQcm9wZXJ0eUNvbnN0cmFpbnQpIHtcbiAgICAgICAgUm9zSW5zdGFuY2VQcm9wc1ZhbGlkYXRvcihwcm9wZXJ0aWVzKS5hc3NlcnRTdWNjZXNzKCk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAnUGVyaW9kJzogcm9zLm51bWJlclRvUm9zVGVtcGxhdGUocHJvcGVydGllcy5wZXJpb2QpLFxuICAgICAgJ1BlcmlvZFVuaXQnOiByb3Muc3RyaW5nVG9Sb3NUZW1wbGF0ZShwcm9wZXJ0aWVzLnBlcmlvZFVuaXQpLFxuICAgICAgJ0FudGlSYW5zb213YXJlJzogcm9zLm51bWJlclRvUm9zVGVtcGxhdGUocHJvcGVydGllcy5hbnRpUmFuc29td2FyZSksXG4gICAgICAnQXV0b1BheSc6IHJvcy5ib29sZWFuVG9Sb3NUZW1wbGF0ZShwcm9wZXJ0aWVzLmF1dG9QYXkpLFxuICAgICAgJ0F1dG9SZW5ldyc6IHJvcy5ib29sZWFuVG9Sb3NUZW1wbGF0ZShwcm9wZXJ0aWVzLmF1dG9SZW5ldyksXG4gICAgICAnQ2xvdWRIb25leXBvdCc6IHJvcy5ib29sZWFuVG9Sb3NUZW1wbGF0ZShwcm9wZXJ0aWVzLmNsb3VkSG9uZXlwb3QpLFxuICAgICAgJ0NvbmZpZ3VyYXRpb25Bc3Nlc3NtZW50Jzogcm9zLmJvb2xlYW5Ub1Jvc1RlbXBsYXRlKHByb3BlcnRpZXMuY29uZmlndXJhdGlvbkFzc2Vzc21lbnQpLFxuICAgICAgJ0NvbnRhaW5lckltYWdlU2Nhbic6IHJvcy5udW1iZXJUb1Jvc1RlbXBsYXRlKHByb3BlcnRpZXMuY29udGFpbmVySW1hZ2VTY2FuKSxcbiAgICAgICdFZGl0aW9uJzogcm9zLnN0cmluZ1RvUm9zVGVtcGxhdGUocHJvcGVydGllcy5lZGl0aW9uKSxcbiAgICAgICdMb2dBbmFseXNpcyc6IHJvcy5udW1iZXJUb1Jvc1RlbXBsYXRlKHByb3BlcnRpZXMubG9nQW5hbHlzaXMpLFxuICAgICAgJ01hbGljaW91c0ZpbGVEZXRlY3Rpb25TREsnOiByb3MuYm9vbGVhblRvUm9zVGVtcGxhdGUocHJvcGVydGllcy5tYWxpY2lvdXNGaWxlRGV0ZWN0aW9uU2RrKSxcbiAgICAgICdQcm90ZWN0ZWRTZXJ2ZXJzJzogcm9zLm51bWJlclRvUm9zVGVtcGxhdGUocHJvcGVydGllcy5wcm90ZWN0ZWRTZXJ2ZXJzKSxcbiAgICAgICdRdW90YUZvckFwcGxpY2F0aW9uUHJvdGVjdGlvbic6IHJvcy5udW1iZXJUb1Jvc1RlbXBsYXRlKHByb3BlcnRpZXMucXVvdGFGb3JBcHBsaWNhdGlvblByb3RlY3Rpb24pLFxuICAgICAgJ1F1b3RhRm9yQ2xvdWRIb25leXBvdCc6IHJvcy5udW1iZXJUb1Jvc1RlbXBsYXRlKHByb3BlcnRpZXMucXVvdGFGb3JDbG91ZEhvbmV5cG90KSxcbiAgICAgICdRdW90YUZvckNvbmZpZ3VyYXRpb25Bc3Nlc3NtZW50Jzogcm9zLm51bWJlclRvUm9zVGVtcGxhdGUocHJvcGVydGllcy5xdW90YUZvckNvbmZpZ3VyYXRpb25Bc3Nlc3NtZW50KSxcbiAgICAgICdRdW90YUZvck1hbGljaW91c0ZpbGVEZXRlY3Rpb25TREsnOiByb3MubnVtYmVyVG9Sb3NUZW1wbGF0ZShwcm9wZXJ0aWVzLnF1b3RhRm9yTWFsaWNpb3VzRmlsZURldGVjdGlvblNkayksXG4gICAgICAnUXVvdGFGb3JWdWxuZXJhYmlsaXR5Rml4aW5nJzogcm9zLm51bWJlclRvUm9zVGVtcGxhdGUocHJvcGVydGllcy5xdW90YUZvclZ1bG5lcmFiaWxpdHlGaXhpbmcpLFxuICAgICAgJ1F1b3RhRm9yV2ViVGFtcGVyUHJvb2ZpbmcnOiByb3MubnVtYmVyVG9Sb3NUZW1wbGF0ZShwcm9wZXJ0aWVzLnF1b3RhRm9yV2ViVGFtcGVyUHJvb2ZpbmcpLFxuICAgICAgJ1RocmVhdEFuYWx5c2lzJzogcm9zLmJvb2xlYW5Ub1Jvc1RlbXBsYXRlKHByb3BlcnRpZXMudGhyZWF0QW5hbHlzaXMpLFxuICAgICAgJ1RocmVhdEFuYWx5c2lzTG9nU3RvcmFnZUNhcGFjaXR5Jzogcm9zLm51bWJlclRvUm9zVGVtcGxhdGUocHJvcGVydGllcy50aHJlYXRBbmFseXNpc0xvZ1N0b3JhZ2VDYXBhY2l0eSksXG4gICAgICAnVkNvcmUnOiByb3MubnVtYmVyVG9Sb3NUZW1wbGF0ZShwcm9wZXJ0aWVzLnZDb3JlKSxcbiAgICAgICdWdWxuZXJhYmlsaXR5Rml4aW5nJzogcm9zLmJvb2xlYW5Ub1Jvc1RlbXBsYXRlKHByb3BlcnRpZXMudnVsbmVyYWJpbGl0eUZpeGluZyksXG4gICAgICAnV2ViVGFtcGVyUHJvdGVjdGlvbic6IHJvcy5ib29sZWFuVG9Sb3NUZW1wbGF0ZShwcm9wZXJ0aWVzLndlYlRhbXBlclByb3RlY3Rpb24pLFxuICAgIH07XG59XG5cbi8qKlxuICogVGhpcyBjbGFzcyBpcyBhIGJhc2UgZW5jYXBzdWxhdGlvbiBhcm91bmQgdGhlIFJPUyByZXNvdXJjZSB0eXBlIGBBTElZVU46OlNBUzo6SW5zdGFuY2VgLCB3aGljaCBpcyB1c2VkIHRvIHB1cmNoYXNlIFNlY3VyaXR5IENlbnRlci5cbiAqIEBOb3RlIFRoaXMgY2xhc3MgZG9lcyBub3QgY29udGFpbiBhZGRpdGlvbmFsIGZ1bmN0aW9ucywgc28gaXQgaXMgcmVjb21tZW5kZWQgdG8gdXNlIHRoZSBgSW5zdGFuY2VgIGNsYXNzIGluc3RlYWQgb2YgdGhpcyBjbGFzcyBmb3IgYSBtb3JlIGNvbnZlbmllbnQgZGV2ZWxvcG1lbnQgZXhwZXJpZW5jZS5cbiAqIFNlZSBodHRwczovL3d3dy5hbGliYWJhY2xvdWQuY29tL2hlbHAvcm9zL2RldmVsb3Blci1yZWZlcmVuY2UvYWxpeXVuLXNhcy1pbnN0YW5jZVxuICovXG5leHBvcnQgY2xhc3MgUm9zSW5zdGFuY2UgZXh0ZW5kcyByb3MuUm9zUmVzb3VyY2Uge1xuICAgIC8qKlxuICAgICAqIFRoZSByZXNvdXJjZSB0eXBlIG5hbWUgZm9yIHRoaXMgcmVzb3VyY2UgY2xhc3MuXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBST1NfUkVTT1VSQ0VfVFlQRV9OQU1FID0gXCJBTElZVU46OlNBUzo6SW5zdGFuY2VcIjtcblxuICAgIC8qKlxuICAgICAqIEBBdHRyaWJ1dGUgSW5zdGFuY2VJZDogSW5zdGFuY2UgSWQuXG4gICAgICovXG4gICAgcHVibGljIHJlYWRvbmx5IGF0dHJJbnN0YW5jZUlkOiByb3MuSVJlc29sdmFibGU7XG5cbiAgICBwdWJsaWMgZW5hYmxlUmVzb3VyY2VQcm9wZXJ0eUNvbnN0cmFpbnQ6IGJvb2xlYW47XG5cblxuICAgIC8qKlxuICAgICAqIEBQcm9wZXJ0eSBwZXJpb2Q6IFRoZSBzdWJzY3JpcHRpb24gcGVyaW9kIG9mIHRoZSBmaXJld2FsbElmIFBlcmlvZFVuaXQgaXMgbW9udGgsIHRoZSB2YWxpZCByYW5nZSBpcyAxLCAzLCA2XG4gICAgICogSWYgcGVyaW9kVW5pdCBpcyB5ZWFyLCB0aGUgdmFsaWQgcmFuZ2UgaXMgMSwgMiwgM1xuICAgICAqL1xuICAgIHB1YmxpYyBwZXJpb2Q6IG51bWJlciB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIEBQcm9wZXJ0eSBwZXJpb2RVbml0OiBUaGUgdW5pdCBvZiB0aGUgc3Vic2NyaXB0aW9uIGR1cmF0aW9uLiBWYWxpZCB2YWx1ZXM6XG4gICAgICogTW9udGhcbiAgICAgKiBZZWFyXG4gICAgICpcbiAgICAgKi9cbiAgICBwdWJsaWMgcGVyaW9kVW5pdDogc3RyaW5nIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IGFudGlSYW5zb213YXJlOiBTZWN1cml0eSBDZW50ZXIgcHJvdmlkZXMgYSBjb21wcmVoZW5zaXZlIGFudGktcmFuc29td2FyZSBzb2x1dGlvbiB0byBwcm90ZWN0IHlvdXIgYnVzaW5lc3MuIFdlIHJlY29tbWVuZCB0aGF0IHlvdSBjb25maWd1cmUgYSBkYXRhIHByb3RlY3Rpb24gY2FwYWNpdHkgb2YgNTBHQiBmb3IgZWFjaCBzZXJ2ZXIuXG4gICAgICovXG4gICAgcHVibGljIGFudGlSYW5zb213YXJlOiBudW1iZXIgfCByb3MuSVJlc29sdmFibGUgfCB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgYXV0b1BheTogV2hldGhlciB0byBhdXRvIHBheSB0aGUgYmlsbC5EZWZhdWx0OiBUcnVlXG4gICAgICovXG4gICAgcHVibGljIGF1dG9QYXk6IGJvb2xlYW4gfCByb3MuSVJlc29sdmFibGUgfCB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgYXV0b1JlbmV3OiBXaGV0aGVyIHRvIGF1dG8gcmVuZXcgdGhlIHByZXBheSBpbnN0YW5jZS5EZWZhdWx0OiBGYWxzZVxuICAgICAqL1xuICAgIHB1YmxpYyBhdXRvUmVuZXc6IGJvb2xlYW4gfCByb3MuSVJlc29sdmFibGUgfCB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgY2xvdWRIb25leXBvdDogVGhlIGNsb3VkIGhvbmV5cG90IGZlYXR1cmUgY2FuIGNhcHR1cmUgYXR0YWNrcyBpbiBhIHRpbWVseSBhbmQgZWZmaWNpZW50IG1hbm5lci4gWW91IGNhbiB1c2UgdGhlIGZlYXR1cmUgdG8gcHJvdGVjdCB5b3VyIGNvcmUgYXNzZXRzIGFuZCBkZXRlY3QgYXR0YWNrcyBpbiBhdHRhY2sgYW5kIGRlZmVuc2Ugc2NlbmFyaW9zLlxuICAgICAqL1xuICAgIHB1YmxpYyBjbG91ZEhvbmV5cG90OiBib29sZWFuIHwgcm9zLklSZXNvbHZhYmxlIHwgdW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IGNvbmZpZ3VyYXRpb25Bc3Nlc3NtZW50OiBUaGUgY29uZmlndXJhdGlvbiBhc3Nlc3NtZW50IGZlYXR1cmUgZGV0ZWN0cyBjb25maWd1cmF0aW9uIGVycm9ycyBhbmQgc2VjdXJpdHkgcmlza3Mgb24gY2xvdWQgc2VydmljZXMgZnJvbSB0aGUgZm9sbG93aW5nIGRpbWVuc2lvbnM6IGlkZW50aXR5IGFuZCBwZXJtaXNzaW9uIG1hbmFnZW1lbnQsIHNlY3VyaXR5IHJpc2tzIGluIEFsaWJhYmEgQ2xvdWQgc2VydmljZXMsIGFuZCBjb21wbGlhbmNlIHJpc2tzLlRoaXMgZW5zdXJlcyB0aGUgc2VjdXJpdHkgb2YgdGhlIHJ1bm5pbmcgZW52aXJvbm1lbnQgb2YgeW91ciBjbG91ZCBzZXJ2aWNlcy5cbiAgICAgKi9cbiAgICBwdWJsaWMgY29uZmlndXJhdGlvbkFzc2Vzc21lbnQ6IGJvb2xlYW4gfCByb3MuSVJlc29sdmFibGUgfCB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgY29udGFpbmVySW1hZ2VTY2FuOiBTZWN1cml0eSBDZW50ZXIgcHJvdmlkZXMgdGhlIGNvbnRhaW5lciBpbWFnZSBzY2FuIGZlYXR1cmUgdG8gcHJvdGVjdCBjb250YWluZXJzLiBTZWN1cml0eSBDZW50ZXIgY2FuIGRldGVjdCBDVkVzLCBhcHBsaWNhdGlvbiB2dWxuZXJhYmlsaXRpZXMsIHZpcnVzZXMsIGFuZCBtYWxpY2lvdXMgc2FtcGxlcyBhbmQgYWxsb3dzIHlvdSB0byBoYW5kbGUgdGhlIGRldGVjdGVkIHJpc2tzLiBZb3UgY2FuIGNvbmZpZ3VyZSB0aGlzIHBhcmFtZXRlciBiYXNlZCBvbiB0aGUgbnVtYmVyIG9mIGltYWdlcyBvciBkaWdlc3RzLiBGb3IgZXhhbXBsZSwgaWYgdGhlIG51bWJlciBvZiBpbWFnZXMgb3IgZGlnZXN0cyB0aGF0IGFyZSB1cGRhdGVkIGluIHRoZSBwcmV2aW91cyBkYXkgaXMgMTAsIHlvdSBjYW4gc2V0IHRoaXMgcGFyYW1ldGVyIHRvIDMwMCBmb3IgYSBtb250aGx5IHN1YnNjcmlwdGlvbiBvciB0byAzNjUwIGZvciBhIHllYXJseSBzdWJzY3JpcHRpb24uIFRoaXMgaXMgbW9yZSBjb3N0LWVmZmVjdGl2ZS5cbiAgICAgKi9cbiAgICBwdWJsaWMgY29udGFpbmVySW1hZ2VTY2FuOiBudW1iZXIgfCByb3MuSVJlc29sdmFibGUgfCB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgZWRpdGlvbjogVGhlIHZlcnNpb24gb2YgU2VjdXJpdHkgY2VudGVyLlxuICAgICAqL1xuICAgIHB1YmxpYyBlZGl0aW9uOiBzdHJpbmcgfCByb3MuSVJlc29sdmFibGUgfCB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgbG9nQW5hbHlzaXM6IEluIHJlc3BvbnNlIHRvIHRoZSByZXF1aXJlbWVudHMgb2YgdGhlIG5ldHdvcmsgc2VjdXJpdHkgbGF3LCB3aGljaCByZXF1aXJlcyBsb2dzIHRvIGJlIHN0b3JlZCBmb3IgYXQgbGVhc3QgMTgwIGRheXMsIHdlIHJlY29tbWVuZCB0aGF0IHlvdSBjb25maWd1cmUgYSA0MEdCIGxvZyBzdG9yYWdlIGVhY2ggc2VydmVyLiBMb2cgYW5hbHlzaXMgc3VwcG9ydHMgbXVsdGktZGltZW5zaW9uYWwgc2VjdXJpdHkgbG9ncyBvZiBjbG91ZCBhc3NldHMsIG91dC1vZi10aGUtYm94IHJlcG9ydHMsIGFuZCBwb3dlcmZ1bCBTUUwgc3ludGF4IGFuYWx5c2lzLCBzbyBhcyB0byBtb25pdG9yIGJ1c2luZXNzIHN0YXR1cywgdHJvdWJsZXNob290IGF0dGFja3MsIHNlY3VyaXR5IG9wZXJhdGlvbnMgc3VjaCBhcyB0cmFjZWFiaWxpdHkgYW5kIHBvc2l0aW9uaW5nIGFyZSBlYXNpZXIuXG4gICAgICovXG4gICAgcHVibGljIGxvZ0FuYWx5c2lzOiBudW1iZXIgfCByb3MuSVJlc29sdmFibGUgfCB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgbWFsaWNpb3VzRmlsZURldGVjdGlvblNkazogVGhlIGNvbmZpZ3VyYXRpb24gYXNzZXNzbWVudCBmZWF0dXJlIGRldGVjdHMgY29uZmlndXJhdGlvbiBlcnJvcnMgYW5kIHNlY3VyaXR5IHJpc2tzIG9uIGNsb3VkIHNlcnZpY2VzIGZyb20gdGhlIGZvbGxvd2luZyBkaW1lbnNpb25zOiBpZGVudGl0eSBhbmQgcGVybWlzc2lvbiBtYW5hZ2VtZW50LCBzZWN1cml0eSByaXNrcyBpbiBBbGliYWJhIENsb3VkIHNlcnZpY2VzLCBhbmQgY29tcGxpYW5jZSByaXNrcy4gVGhpcyBlbnN1cmVzIHRoZSBzZWN1cml0eSBvZiB0aGUgcnVubmluZyBlbnZpcm9ubWVudCBvZiB5b3VyIGNsb3VkIHNlcnZpY2VzLlxuICAgICAqL1xuICAgIHB1YmxpYyBtYWxpY2lvdXNGaWxlRGV0ZWN0aW9uU2RrOiBib29sZWFuIHwgcm9zLklSZXNvbHZhYmxlIHwgdW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IHByb3RlY3RlZFNlcnZlcnM6IEF1dGhvcml6YXRpb24gaXMgdGhlIHNhbWUgYXMgdGhlIG51bWJlciBvZiBzZXJ2ZXJzIHlvdSBoYXZlLlxuICAgICAqL1xuICAgIHB1YmxpYyBwcm90ZWN0ZWRTZXJ2ZXJzOiBudW1iZXIgfCByb3MuSVJlc29sdmFibGUgfCB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgcXVvdGFGb3JBcHBsaWNhdGlvblByb3RlY3Rpb246IFRoZSBhcHBsaWNhdGlvbiBwcm90ZWN0aW9uIGZlYXR1cmUgY2FuIGRldGVjdCBhdHRhY2tzIG9uIGFwcGxpY2F0aW9ucyBhbmQgcHJvdmlkZSBzZWxmLXByb3RlY3Rpb24gZHVyaW5nIGFwcGxpY2F0aW9uIHJ1bnRpbWUuIFRoZSBmZWF0dXJlIHN1cHBvcnRzIHNpbXBsZSBhbmQgY29udmVuaWVudCBPJk0gYW5kIGNhbiBlZmZlY3RpdmVseSBkZWZlbmQgYWdhaW5zdCB6ZXJvLWRheSBhbmQgT1dBU1AgVG9wIHZ1bG5lcmFiaWxpdGllcy4gVGhlIGZlYXR1cmUgaXMgYSB2YWx1ZS1hZGRlZCBmZWF0dXJlLiBZb3UgYXJlIGNoYXJnZWQgYmFzZWQgb24gdGhlIG51bWJlciBvZiBhc3NldHMgb24gd2hpY2ggdGhlIFJBU1AgYWdlbnQgaXMgaW5zdGFsbGVkLiBZb3UgbXVzdCBjb25maWd1cmUgcHJvdGVjdGlvbiBwb2xpY2llcyBhZnRlciB5b3UgcHVyY2hhc2UgdGhlIGZlYXR1cmUuXG4gICAgICovXG4gICAgcHVibGljIHF1b3RhRm9yQXBwbGljYXRpb25Qcm90ZWN0aW9uOiBudW1iZXIgfCByb3MuSVJlc29sdmFibGUgfCB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgcXVvdGFGb3JDbG91ZEhvbmV5cG90OlxuICAgICAqL1xuICAgIHB1YmxpYyBxdW90YUZvckNsb3VkSG9uZXlwb3Q6IG51bWJlciB8IHJvcy5JUmVzb2x2YWJsZSB8IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIEBQcm9wZXJ0eSBxdW90YUZvckNvbmZpZ3VyYXRpb25Bc3Nlc3NtZW50OlxuICAgICAqL1xuICAgIHB1YmxpYyBxdW90YUZvckNvbmZpZ3VyYXRpb25Bc3Nlc3NtZW50OiBudW1iZXIgfCByb3MuSVJlc29sdmFibGUgfCB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgcXVvdGFGb3JNYWxpY2lvdXNGaWxlRGV0ZWN0aW9uU2RrOlxuICAgICAqL1xuICAgIHB1YmxpYyBxdW90YUZvck1hbGljaW91c0ZpbGVEZXRlY3Rpb25TZGs6IG51bWJlciB8IHJvcy5JUmVzb2x2YWJsZSB8IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIEBQcm9wZXJ0eSBxdW90YUZvclZ1bG5lcmFiaWxpdHlGaXhpbmc6IFNwZWNpZnkgdGhlIHF1b3RhIGZvciB2dWxuZXJhYmlsaXR5IGZpeGluZyBiYXNlZCBvbiB0aGUgbnVtYmVyIG9mIHZ1bG5lcmFiaWxpdGllcyB0aGF0IHlvdSB3YW50IHRvIGZpeCBlYWNoIG1vbnRoLiBUaGUgcXVvdGEgaXMgZXF1YWwgdG8gdGhlIHRvdGFsIG51bWJlciBvZiB2dWxuZXJhYmlsaXRpZXMgdGhhdCB5b3Ugd2FudCB0byBmaXggb24gYWxsIHNlcnZlcnMgcmVnYXJkbGVzcyBvZiB0aGUgdnVsbmVyYWJpbGl0eSBuYW1lcy4gRm9yIGV4YW1wbGUsIGlmIHlvdSB1c2UgU2VjdXJpdHkgQ2VudGVyIHRvIGZpeCB0aGUgc2FtZSB2dWxuZXJhYmlsaXR5IG9uIDEwIHNlcnZlcnMsIHRoZSBxdW90YSBpcyBkZWR1Y3RlZCBieSAxMC5cbiAgICAgKi9cbiAgICBwdWJsaWMgcXVvdGFGb3JWdWxuZXJhYmlsaXR5Rml4aW5nOiBudW1iZXIgfCByb3MuSVJlc29sdmFibGUgfCB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgcXVvdGFGb3JXZWJUYW1wZXJQcm9vZmluZzpcbiAgICAgKi9cbiAgICBwdWJsaWMgcXVvdGFGb3JXZWJUYW1wZXJQcm9vZmluZzogbnVtYmVyIHwgcm9zLklSZXNvbHZhYmxlIHwgdW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IHRocmVhdEFuYWx5c2lzOiBUaGUgdGhyZWF0IGFuYWx5c2lzIGZlYXR1cmUgYWxsb3dzIHlvdSB0byBoYW5kbGUgYWxlcnRzIHRoYXQgYXJlIGdlbmVyYXRlZCBmb3IgYXNzZXRzIGluIHRoZSBjbG91ZCB3aXRoaW4gZGlmZmVyZW50IGFjY291bnRzIGFuZCBhc3NldHMgb2YgbXVsdGlwbGUgY2xvdWQgc2VydmljZXMgaW4gYSBjZW50cmFsaXplZCBtYW5uZXIuIFRoZSBmZWF0dXJlIGFsc28gYWxsb3dzIHlvdSB0byBoYW5kbGUgcmlza3Mgd2l0aCBhIGZldyBjbGlja3MuIFRoZSBmZWF0dXJlIHByb3ZpZGVzIGF1dG9tYXRpYyBvcmNoZXN0cmF0aW9uIGFuZCByZXNwb25zZSBjYXBhYmlsaXRpZXMuXG4gICAgICovXG4gICAgcHVibGljIHRocmVhdEFuYWx5c2lzOiBib29sZWFuIHwgcm9zLklSZXNvbHZhYmxlIHwgdW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IHRocmVhdEFuYWx5c2lzTG9nU3RvcmFnZUNhcGFjaXR5OlxuICAgICAqL1xuICAgIHB1YmxpYyB0aHJlYXRBbmFseXNpc0xvZ1N0b3JhZ2VDYXBhY2l0eTogbnVtYmVyIHwgcm9zLklSZXNvbHZhYmxlIHwgdW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IHZDb3JlOiBUaGlzIHBhcmFtZXRlciBpbmRpY2F0ZXMgdGhlIG51bWJlciBvZiBzZXJ2ZXIgdkNQVXMuXG4gICAgICovXG4gICAgcHVibGljIHZDb3JlOiBudW1iZXIgfCByb3MuSVJlc29sdmFibGUgfCB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgdnVsbmVyYWJpbGl0eUZpeGluZzogVGhlIHZ1bG5lcmFiaWxpdHkgZml4aW5nIGZlYXR1cmUgYWxsb3dzIHlvdSB0byBmaXggc3lzdGVtIHZ1bG5lcmFiaWxpdGllcyB3aXRoIGEgZmV3IGNsaWNrcy4gVGhpcyBpbXByb3ZlcyBPJk0gZWZmaWNpZW5jeS4gWW91IGNhbiBzZXBhcmF0ZWx5IHB1cmNoYXNlIHRoZSB2dWxuZXJhYmlsaXR5IGZpeGluZyBmZWF0dXJlLiBZb3UgYXJlIGNoYXJnZWQgYmFzZWQgb24gdGhlIG51bWJlciBvZiB0aW1lcyB0aGF0IHlvdSBwZXJmb3JtIHZ1bG5lcmFiaWxpdHkgZml4aW5nLlxuICAgICAqL1xuICAgIHB1YmxpYyB2dWxuZXJhYmlsaXR5Rml4aW5nOiBib29sZWFuIHwgcm9zLklSZXNvbHZhYmxlIHwgdW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IHdlYlRhbXBlclByb3RlY3Rpb246IFRvIGVuc3VyZSB0aGF0IHRoZSB3ZWJzaXRlIGluZm9ybWF0aW9uIG9mIGltcG9ydGFudCBzeXN0ZW1zIGlzIG5vdCBtYWxpY2lvdXNseSB0YW1wZXJlZCB3aXRoLCB0aGVyZSBhcmUgYmFkIGNvbnRlbnQgc3VjaCBhcyBoYW5naW5nIGhvcnNlcywgYmxhY2sgY2hhaW5zLCBpbGxlZ2FsIGltcGxhbnRhdGlvbiBvZiB0ZXJyb3Jpc3QgdGhyZWF0cywgcG9ybm9ncmFwaHksIGV0Yy5cbiAgICAgKi9cbiAgICBwdWJsaWMgd2ViVGFtcGVyUHJvdGVjdGlvbjogYm9vbGVhbiB8IHJvcy5JUmVzb2x2YWJsZSB8IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBzY29wZSAtIHNjb3BlIGluIHdoaWNoIHRoaXMgcmVzb3VyY2UgaXMgZGVmaW5lZFxuICAgICAqIEBwYXJhbSBpZCAgICAtIHNjb3BlZCBpZCBvZiB0aGUgcmVzb3VyY2VcbiAgICAgKiBAcGFyYW0gcHJvcHMgLSByZXNvdXJjZSBwcm9wZXJ0aWVzXG4gICAgICovXG4gICAgY29uc3RydWN0b3Ioc2NvcGU6IHJvcy5Db25zdHJ1Y3QsIGlkOiBzdHJpbmcsIHByb3BzOiBSb3NJbnN0YW5jZVByb3BzLCBlbmFibGVSZXNvdXJjZVByb3BlcnR5Q29uc3RyYWludDogYm9vbGVhbikge1xuICAgICAgICBzdXBlcihzY29wZSwgaWQsIHsgdHlwZTogUm9zSW5zdGFuY2UuUk9TX1JFU09VUkNFX1RZUEVfTkFNRSwgcHJvcGVydGllczogcHJvcHMgfSk7XG4gICAgICAgIHRoaXMuYXR0ckluc3RhbmNlSWQgPSB0aGlzLmdldEF0dCgnSW5zdGFuY2VJZCcpO1xuXG4gICAgICAgIHRoaXMuZW5hYmxlUmVzb3VyY2VQcm9wZXJ0eUNvbnN0cmFpbnQgPSBlbmFibGVSZXNvdXJjZVByb3BlcnR5Q29uc3RyYWludDtcbiAgICAgICAgdGhpcy5wZXJpb2QgPSBwcm9wcy5wZXJpb2Q7XG4gICAgICAgIHRoaXMucGVyaW9kVW5pdCA9IHByb3BzLnBlcmlvZFVuaXQ7XG4gICAgICAgIHRoaXMuYW50aVJhbnNvbXdhcmUgPSBwcm9wcy5hbnRpUmFuc29td2FyZTtcbiAgICAgICAgdGhpcy5hdXRvUGF5ID0gcHJvcHMuYXV0b1BheTtcbiAgICAgICAgdGhpcy5hdXRvUmVuZXcgPSBwcm9wcy5hdXRvUmVuZXc7XG4gICAgICAgIHRoaXMuY2xvdWRIb25leXBvdCA9IHByb3BzLmNsb3VkSG9uZXlwb3Q7XG4gICAgICAgIHRoaXMuY29uZmlndXJhdGlvbkFzc2Vzc21lbnQgPSBwcm9wcy5jb25maWd1cmF0aW9uQXNzZXNzbWVudDtcbiAgICAgICAgdGhpcy5jb250YWluZXJJbWFnZVNjYW4gPSBwcm9wcy5jb250YWluZXJJbWFnZVNjYW47XG4gICAgICAgIHRoaXMuZWRpdGlvbiA9IHByb3BzLmVkaXRpb247XG4gICAgICAgIHRoaXMubG9nQW5hbHlzaXMgPSBwcm9wcy5sb2dBbmFseXNpcztcbiAgICAgICAgdGhpcy5tYWxpY2lvdXNGaWxlRGV0ZWN0aW9uU2RrID0gcHJvcHMubWFsaWNpb3VzRmlsZURldGVjdGlvblNkaztcbiAgICAgICAgdGhpcy5wcm90ZWN0ZWRTZXJ2ZXJzID0gcHJvcHMucHJvdGVjdGVkU2VydmVycztcbiAgICAgICAgdGhpcy5xdW90YUZvckFwcGxpY2F0aW9uUHJvdGVjdGlvbiA9IHByb3BzLnF1b3RhRm9yQXBwbGljYXRpb25Qcm90ZWN0aW9uO1xuICAgICAgICB0aGlzLnF1b3RhRm9yQ2xvdWRIb25leXBvdCA9IHByb3BzLnF1b3RhRm9yQ2xvdWRIb25leXBvdDtcbiAgICAgICAgdGhpcy5xdW90YUZvckNvbmZpZ3VyYXRpb25Bc3Nlc3NtZW50ID0gcHJvcHMucXVvdGFGb3JDb25maWd1cmF0aW9uQXNzZXNzbWVudDtcbiAgICAgICAgdGhpcy5xdW90YUZvck1hbGljaW91c0ZpbGVEZXRlY3Rpb25TZGsgPSBwcm9wcy5xdW90YUZvck1hbGljaW91c0ZpbGVEZXRlY3Rpb25TZGs7XG4gICAgICAgIHRoaXMucXVvdGFGb3JWdWxuZXJhYmlsaXR5Rml4aW5nID0gcHJvcHMucXVvdGFGb3JWdWxuZXJhYmlsaXR5Rml4aW5nO1xuICAgICAgICB0aGlzLnF1b3RhRm9yV2ViVGFtcGVyUHJvb2ZpbmcgPSBwcm9wcy5xdW90YUZvcldlYlRhbXBlclByb29maW5nO1xuICAgICAgICB0aGlzLnRocmVhdEFuYWx5c2lzID0gcHJvcHMudGhyZWF0QW5hbHlzaXM7XG4gICAgICAgIHRoaXMudGhyZWF0QW5hbHlzaXNMb2dTdG9yYWdlQ2FwYWNpdHkgPSBwcm9wcy50aHJlYXRBbmFseXNpc0xvZ1N0b3JhZ2VDYXBhY2l0eTtcbiAgICAgICAgdGhpcy52Q29yZSA9IHByb3BzLnZDb3JlO1xuICAgICAgICB0aGlzLnZ1bG5lcmFiaWxpdHlGaXhpbmcgPSBwcm9wcy52dWxuZXJhYmlsaXR5Rml4aW5nO1xuICAgICAgICB0aGlzLndlYlRhbXBlclByb3RlY3Rpb24gPSBwcm9wcy53ZWJUYW1wZXJQcm90ZWN0aW9uO1xuICAgIH1cblxuXG4gICAgcHJvdGVjdGVkIGdldCByb3NQcm9wZXJ0aWVzKCk6IHsgW2tleTogc3RyaW5nXTogYW55IH0gIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHBlcmlvZDogdGhpcy5wZXJpb2QsXG4gICAgICAgICAgICBwZXJpb2RVbml0OiB0aGlzLnBlcmlvZFVuaXQsXG4gICAgICAgICAgICBhbnRpUmFuc29td2FyZTogdGhpcy5hbnRpUmFuc29td2FyZSxcbiAgICAgICAgICAgIGF1dG9QYXk6IHRoaXMuYXV0b1BheSxcbiAgICAgICAgICAgIGF1dG9SZW5ldzogdGhpcy5hdXRvUmVuZXcsXG4gICAgICAgICAgICBjbG91ZEhvbmV5cG90OiB0aGlzLmNsb3VkSG9uZXlwb3QsXG4gICAgICAgICAgICBjb25maWd1cmF0aW9uQXNzZXNzbWVudDogdGhpcy5jb25maWd1cmF0aW9uQXNzZXNzbWVudCxcbiAgICAgICAgICAgIGNvbnRhaW5lckltYWdlU2NhbjogdGhpcy5jb250YWluZXJJbWFnZVNjYW4sXG4gICAgICAgICAgICBlZGl0aW9uOiB0aGlzLmVkaXRpb24sXG4gICAgICAgICAgICBsb2dBbmFseXNpczogdGhpcy5sb2dBbmFseXNpcyxcbiAgICAgICAgICAgIG1hbGljaW91c0ZpbGVEZXRlY3Rpb25TZGs6IHRoaXMubWFsaWNpb3VzRmlsZURldGVjdGlvblNkayxcbiAgICAgICAgICAgIHByb3RlY3RlZFNlcnZlcnM6IHRoaXMucHJvdGVjdGVkU2VydmVycyxcbiAgICAgICAgICAgIHF1b3RhRm9yQXBwbGljYXRpb25Qcm90ZWN0aW9uOiB0aGlzLnF1b3RhRm9yQXBwbGljYXRpb25Qcm90ZWN0aW9uLFxuICAgICAgICAgICAgcXVvdGFGb3JDbG91ZEhvbmV5cG90OiB0aGlzLnF1b3RhRm9yQ2xvdWRIb25leXBvdCxcbiAgICAgICAgICAgIHF1b3RhRm9yQ29uZmlndXJhdGlvbkFzc2Vzc21lbnQ6IHRoaXMucXVvdGFGb3JDb25maWd1cmF0aW9uQXNzZXNzbWVudCxcbiAgICAgICAgICAgIHF1b3RhRm9yTWFsaWNpb3VzRmlsZURldGVjdGlvblNkazogdGhpcy5xdW90YUZvck1hbGljaW91c0ZpbGVEZXRlY3Rpb25TZGssXG4gICAgICAgICAgICBxdW90YUZvclZ1bG5lcmFiaWxpdHlGaXhpbmc6IHRoaXMucXVvdGFGb3JWdWxuZXJhYmlsaXR5Rml4aW5nLFxuICAgICAgICAgICAgcXVvdGFGb3JXZWJUYW1wZXJQcm9vZmluZzogdGhpcy5xdW90YUZvcldlYlRhbXBlclByb29maW5nLFxuICAgICAgICAgICAgdGhyZWF0QW5hbHlzaXM6IHRoaXMudGhyZWF0QW5hbHlzaXMsXG4gICAgICAgICAgICB0aHJlYXRBbmFseXNpc0xvZ1N0b3JhZ2VDYXBhY2l0eTogdGhpcy50aHJlYXRBbmFseXNpc0xvZ1N0b3JhZ2VDYXBhY2l0eSxcbiAgICAgICAgICAgIHZDb3JlOiB0aGlzLnZDb3JlLFxuICAgICAgICAgICAgdnVsbmVyYWJpbGl0eUZpeGluZzogdGhpcy52dWxuZXJhYmlsaXR5Rml4aW5nLFxuICAgICAgICAgICAgd2ViVGFtcGVyUHJvdGVjdGlvbjogdGhpcy53ZWJUYW1wZXJQcm90ZWN0aW9uLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBwcm90ZWN0ZWQgcmVuZGVyUHJvcGVydGllcyhwcm9wczoge1trZXk6IHN0cmluZ106IGFueX0pOiB7IFtrZXk6IHN0cmluZ106IGFueSB9ICB7XG4gICAgICAgIHJldHVybiByb3NJbnN0YW5jZVByb3BzVG9Sb3NUZW1wbGF0ZShwcm9wcywgdGhpcy5lbmFibGVSZXNvdXJjZVByb3BlcnR5Q29uc3RyYWludCk7XG4gICAgfVxufVxuIl19