"use strict";
// Generated from the AliCloud ROS Resource Specification
Object.defineProperty(exports, "__esModule", { value: true });
exports.RosUploadMedia = exports.RosSearchLib = exports.RosMediaInfo = exports.RosInsertMediaToSearchLib = exports.RosCategory = void 0;
const ros = require("@alicloud/ros-cdk-core");
/**
 * Determine whether the given properties match those of a `RosCategoryProps`
 *
 * @param properties - the TypeScript properties of a `RosCategoryProps`
 *
 * @returns the result of the validation.
 */
function RosCategoryPropsValidator(properties) {
    if (!ros.canInspect(properties)) {
        return ros.VALIDATION_SUCCESS;
    }
    const errors = new ros.ValidationResults();
    errors.collect(ros.propertyValidator('parentId', ros.validateNumber)(properties.parentId));
    if (properties.type && (typeof properties.type) !== 'object') {
        errors.collect(ros.propertyValidator('type', ros.validateAllowedValues)({
            data: properties.type,
            allowedValues: ["material", "default"],
        }));
    }
    errors.collect(ros.propertyValidator('type', ros.validateString)(properties.type));
    errors.collect(ros.propertyValidator('cateName', ros.requiredValidator)(properties.cateName));
    errors.collect(ros.propertyValidator('cateName', ros.validateString)(properties.cateName));
    return errors.wrap('supplied properties not correct for "RosCategoryProps"');
}
/**
 * Renders the AliCloud ROS Resource properties of an `ALIYUN::ICE::Category` resource
 *
 * @param properties - the TypeScript properties of a `RosCategoryProps`
 *
 * @returns the AliCloud ROS Resource properties of an `ALIYUN::ICE::Category` resource.
 */
// @ts-ignore TS6133
function rosCategoryPropsToRosTemplate(properties, enableResourcePropertyConstraint) {
    if (!ros.canInspect(properties)) {
        return properties;
    }
    if (enableResourcePropertyConstraint) {
        RosCategoryPropsValidator(properties).assertSuccess();
    }
    return {
        'CateName': ros.stringToRosTemplate(properties.cateName),
        'ParentId': ros.numberToRosTemplate(properties.parentId),
        'Type': ros.stringToRosTemplate(properties.type),
    };
}
/**
 * This class is a base encapsulation around the ROS resource type `ALIYUN::ICE::Category`.
 * @Note This class does not contain additional functions, so it is recommended to use the `Category` class instead of this class for a more convenient development experience.
 * See https://www.alibabacloud.com/help/ros/developer-reference/aliyun-ice-category
 */
class RosCategory extends ros.RosResource {
    /**
     * @param scope - scope in which this resource is defined
     * @param id    - scoped id of the resource
     * @param props - resource properties
     */
    constructor(scope, id, props, enableResourcePropertyConstraint) {
        super(scope, id, { type: RosCategory.ROS_RESOURCE_TYPE_NAME, properties: props });
        this.attrCateId = this.getAtt('CateId');
        this.attrLevel = this.getAtt('Level');
        this.attrParentId = this.getAtt('ParentId');
        this.enableResourcePropertyConstraint = enableResourcePropertyConstraint;
        this.cateName = props.cateName;
        this.parentId = props.parentId;
        this.type = props.type;
    }
    get rosProperties() {
        return {
            cateName: this.cateName,
            parentId: this.parentId,
            type: this.type,
        };
    }
    renderProperties(props) {
        return rosCategoryPropsToRosTemplate(props, this.enableResourcePropertyConstraint);
    }
}
exports.RosCategory = RosCategory;
/**
 * The resource type name for this resource class.
 */
RosCategory.ROS_RESOURCE_TYPE_NAME = "ALIYUN::ICE::Category";
/**
 * Determine whether the given properties match those of a `RosInsertMediaToSearchLibProps`
 *
 * @param properties - the TypeScript properties of a `RosInsertMediaToSearchLibProps`
 *
 * @returns the result of the validation.
 */
function RosInsertMediaToSearchLibPropsValidator(properties) {
    if (!ros.canInspect(properties)) {
        return ros.VALIDATION_SUCCESS;
    }
    const errors = new ros.ValidationResults();
    errors.collect(ros.propertyValidator('input', ros.requiredValidator)(properties.input));
    errors.collect(ros.propertyValidator('input', ros.validateString)(properties.input));
    errors.collect(ros.propertyValidator('mediaId', ros.validateString)(properties.mediaId));
    errors.collect(ros.propertyValidator('searchLibName', ros.validateString)(properties.searchLibName));
    if (properties.mediaType && (typeof properties.mediaType) !== 'object') {
        errors.collect(ros.propertyValidator('mediaType', ros.validateAllowedValues)({
            data: properties.mediaType,
            allowedValues: ["video", "image", "audio"],
        }));
    }
    errors.collect(ros.propertyValidator('mediaType', ros.validateString)(properties.mediaType));
    errors.collect(ros.propertyValidator('msgBody', ros.hashValidator(ros.validateAny))(properties.msgBody));
    return errors.wrap('supplied properties not correct for "RosInsertMediaToSearchLibProps"');
}
/**
 * Renders the AliCloud ROS Resource properties of an `ALIYUN::ICE::InsertMediaToSearchLib` resource
 *
 * @param properties - the TypeScript properties of a `RosInsertMediaToSearchLibProps`
 *
 * @returns the AliCloud ROS Resource properties of an `ALIYUN::ICE::InsertMediaToSearchLib` resource.
 */
// @ts-ignore TS6133
function rosInsertMediaToSearchLibPropsToRosTemplate(properties, enableResourcePropertyConstraint) {
    if (!ros.canInspect(properties)) {
        return properties;
    }
    if (enableResourcePropertyConstraint) {
        RosInsertMediaToSearchLibPropsValidator(properties).assertSuccess();
    }
    return {
        'Input': ros.stringToRosTemplate(properties.input),
        'MediaId': ros.stringToRosTemplate(properties.mediaId),
        'MediaType': ros.stringToRosTemplate(properties.mediaType),
        'MsgBody': ros.hashMapper(ros.objectToRosTemplate)(properties.msgBody),
        'SearchLibName': ros.stringToRosTemplate(properties.searchLibName),
    };
}
/**
 * This class is a base encapsulation around the ROS resource type `ALIYUN::ICE::InsertMediaToSearchLib`.
 * @Note This class does not contain additional functions, so it is recommended to use the `InsertMediaToSearchLib` class instead of this class for a more convenient development experience.
 * See https://www.alibabacloud.com/help/ros/developer-reference/aliyun-ice-insertmediatosearchlib
 */
class RosInsertMediaToSearchLib extends ros.RosResource {
    /**
     * @param scope - scope in which this resource is defined
     * @param id    - scoped id of the resource
     * @param props - resource properties
     */
    constructor(scope, id, props, enableResourcePropertyConstraint) {
        super(scope, id, { type: RosInsertMediaToSearchLib.ROS_RESOURCE_TYPE_NAME, properties: props });
        this.attrMediaId = this.getAtt('MediaId');
        this.enableResourcePropertyConstraint = enableResourcePropertyConstraint;
        this.input = props.input;
        this.mediaId = props.mediaId;
        this.mediaType = props.mediaType;
        this.msgBody = props.msgBody;
        this.searchLibName = props.searchLibName;
    }
    get rosProperties() {
        return {
            input: this.input,
            mediaId: this.mediaId,
            mediaType: this.mediaType,
            msgBody: this.msgBody,
            searchLibName: this.searchLibName,
        };
    }
    renderProperties(props) {
        return rosInsertMediaToSearchLibPropsToRosTemplate(props, this.enableResourcePropertyConstraint);
    }
}
exports.RosInsertMediaToSearchLib = RosInsertMediaToSearchLib;
/**
 * The resource type name for this resource class.
 */
RosInsertMediaToSearchLib.ROS_RESOURCE_TYPE_NAME = "ALIYUN::ICE::InsertMediaToSearchLib";
/**
 * Determine whether the given properties match those of a `RosMediaInfoProps`
 *
 * @param properties - the TypeScript properties of a `RosMediaInfoProps`
 *
 * @returns the result of the validation.
 */
function RosMediaInfoPropsValidator(properties) {
    if (!ros.canInspect(properties)) {
        return ros.VALIDATION_SUCCESS;
    }
    const errors = new ros.ValidationResults();
    errors.collect(ros.propertyValidator('registerConfig', ros.validateString)(properties.registerConfig));
    errors.collect(ros.propertyValidator('overwrite', ros.validateBoolean)(properties.overwrite));
    if (properties.description && (Array.isArray(properties.description) || (typeof properties.description) === 'string')) {
        errors.collect(ros.propertyValidator('description', ros.validateLength)({
            data: properties.description.length,
            min: undefined,
            max: 1024,
        }));
    }
    errors.collect(ros.propertyValidator('description', ros.validateString)(properties.description));
    errors.collect(ros.propertyValidator('userData', ros.hashValidator(ros.validateAny))(properties.userData));
    if (properties.businessType && (typeof properties.businessType) !== 'object') {
        errors.collect(ros.propertyValidator('businessType', ros.validateAllowedValues)({
            data: properties.businessType,
            allowedValues: ["subtitles", "watermark", "opening", "ending", "general"],
        }));
    }
    errors.collect(ros.propertyValidator('businessType', ros.validateString)(properties.businessType));
    if (properties.title && (Array.isArray(properties.title) || (typeof properties.title) === 'string')) {
        errors.collect(ros.propertyValidator('title', ros.validateLength)({
            data: properties.title.length,
            min: undefined,
            max: 128,
        }));
    }
    errors.collect(ros.propertyValidator('title', ros.validateString)(properties.title));
    errors.collect(ros.propertyValidator('cateId', ros.validateNumber)(properties.cateId));
    errors.collect(ros.propertyValidator('workflowId', ros.validateString)(properties.workflowId));
    errors.collect(ros.propertyValidator('inputUrl', ros.requiredValidator)(properties.inputUrl));
    errors.collect(ros.propertyValidator('inputUrl', ros.validateString)(properties.inputUrl));
    if (properties.smartTagTemplateId && (typeof properties.smartTagTemplateId) !== 'object') {
        errors.collect(ros.propertyValidator('smartTagTemplateId', ros.validateAllowedValues)({
            data: properties.smartTagTemplateId,
            allowedValues: ["S00000101-300080", "S00000103-000001", "S00000103-000002"],
        }));
    }
    errors.collect(ros.propertyValidator('smartTagTemplateId', ros.validateString)(properties.smartTagTemplateId));
    if (properties.referenceId && (Array.isArray(properties.referenceId) || (typeof properties.referenceId) === 'string')) {
        errors.collect(ros.propertyValidator('referenceId', ros.validateLength)({
            data: properties.referenceId.length,
            min: 6,
            max: 64,
        }));
    }
    errors.collect(ros.propertyValidator('referenceId', ros.validateString)(properties.referenceId));
    if (properties.mediaType && (typeof properties.mediaType) !== 'object') {
        errors.collect(ros.propertyValidator('mediaType', ros.validateAllowedValues)({
            data: properties.mediaType,
            allowedValues: ["image", "video", "audio", "text"],
        }));
    }
    errors.collect(ros.propertyValidator('mediaType', ros.validateString)(properties.mediaType));
    if (properties.coverUrl && (Array.isArray(properties.coverUrl) || (typeof properties.coverUrl) === 'string')) {
        errors.collect(ros.propertyValidator('coverUrl', ros.validateLength)({
            data: properties.coverUrl.length,
            min: undefined,
            max: 128,
        }));
    }
    errors.collect(ros.propertyValidator('coverUrl', ros.validateString)(properties.coverUrl));
    if (properties.mediaTags && (Array.isArray(properties.mediaTags) || (typeof properties.mediaTags) === 'string')) {
        errors.collect(ros.propertyValidator('mediaTags', ros.validateLength)({
            data: properties.mediaTags.length,
            min: undefined,
            max: 16,
        }));
    }
    errors.collect(ros.propertyValidator('mediaTags', ros.listValidator(ros.validateString))(properties.mediaTags));
    return errors.wrap('supplied properties not correct for "RosMediaInfoProps"');
}
/**
 * Renders the AliCloud ROS Resource properties of an `ALIYUN::ICE::MediaInfo` resource
 *
 * @param properties - the TypeScript properties of a `RosMediaInfoProps`
 *
 * @returns the AliCloud ROS Resource properties of an `ALIYUN::ICE::MediaInfo` resource.
 */
// @ts-ignore TS6133
function rosMediaInfoPropsToRosTemplate(properties, enableResourcePropertyConstraint) {
    if (!ros.canInspect(properties)) {
        return properties;
    }
    if (enableResourcePropertyConstraint) {
        RosMediaInfoPropsValidator(properties).assertSuccess();
    }
    return {
        'InputURL': ros.stringToRosTemplate(properties.inputUrl),
        'BusinessType': ros.stringToRosTemplate(properties.businessType),
        'CateId': ros.numberToRosTemplate(properties.cateId),
        'CoverURL': ros.stringToRosTemplate(properties.coverUrl),
        'Description': ros.stringToRosTemplate(properties.description),
        'MediaTags': ros.listMapper(ros.stringToRosTemplate)(properties.mediaTags),
        'MediaType': ros.stringToRosTemplate(properties.mediaType),
        'Overwrite': ros.booleanToRosTemplate(properties.overwrite),
        'ReferenceId': ros.stringToRosTemplate(properties.referenceId),
        'RegisterConfig': ros.stringToRosTemplate(properties.registerConfig),
        'SmartTagTemplateId': ros.stringToRosTemplate(properties.smartTagTemplateId),
        'Title': ros.stringToRosTemplate(properties.title),
        'UserData': ros.hashMapper(ros.objectToRosTemplate)(properties.userData),
        'WorkflowId': ros.stringToRosTemplate(properties.workflowId),
    };
}
/**
 * This class is a base encapsulation around the ROS resource type `ALIYUN::ICE::MediaInfo`.
 * @Note This class does not contain additional functions, so it is recommended to use the `MediaInfo` class instead of this class for a more convenient development experience.
 * See https://www.alibabacloud.com/help/ros/developer-reference/aliyun-ice-mediainfo
 */
class RosMediaInfo extends ros.RosResource {
    /**
     * @param scope - scope in which this resource is defined
     * @param id    - scoped id of the resource
     * @param props - resource properties
     */
    constructor(scope, id, props, enableResourcePropertyConstraint) {
        super(scope, id, { type: RosMediaInfo.ROS_RESOURCE_TYPE_NAME, properties: props });
        this.attrMediaId = this.getAtt('MediaId');
        this.enableResourcePropertyConstraint = enableResourcePropertyConstraint;
        this.inputUrl = props.inputUrl;
        this.businessType = props.businessType;
        this.cateId = props.cateId;
        this.coverUrl = props.coverUrl;
        this.description = props.description;
        this.mediaTags = props.mediaTags;
        this.mediaType = props.mediaType;
        this.overwrite = props.overwrite;
        this.referenceId = props.referenceId;
        this.registerConfig = props.registerConfig;
        this.smartTagTemplateId = props.smartTagTemplateId;
        this.title = props.title;
        this.userData = props.userData;
        this.workflowId = props.workflowId;
    }
    get rosProperties() {
        return {
            inputUrl: this.inputUrl,
            businessType: this.businessType,
            cateId: this.cateId,
            coverUrl: this.coverUrl,
            description: this.description,
            mediaTags: this.mediaTags,
            mediaType: this.mediaType,
            overwrite: this.overwrite,
            referenceId: this.referenceId,
            registerConfig: this.registerConfig,
            smartTagTemplateId: this.smartTagTemplateId,
            title: this.title,
            userData: this.userData,
            workflowId: this.workflowId,
        };
    }
    renderProperties(props) {
        return rosMediaInfoPropsToRosTemplate(props, this.enableResourcePropertyConstraint);
    }
}
exports.RosMediaInfo = RosMediaInfo;
/**
 * The resource type name for this resource class.
 */
RosMediaInfo.ROS_RESOURCE_TYPE_NAME = "ALIYUN::ICE::MediaInfo";
/**
 * Determine whether the given properties match those of a `RosSearchLibProps`
 *
 * @param properties - the TypeScript properties of a `RosSearchLibProps`
 *
 * @returns the result of the validation.
 */
function RosSearchLibPropsValidator(properties) {
    if (!ros.canInspect(properties)) {
        return ros.VALIDATION_SUCCESS;
    }
    const errors = new ros.ValidationResults();
    errors.collect(ros.propertyValidator('searchLibName', ros.requiredValidator)(properties.searchLibName));
    errors.collect(ros.propertyValidator('searchLibName', ros.validateString)(properties.searchLibName));
    return errors.wrap('supplied properties not correct for "RosSearchLibProps"');
}
/**
 * Renders the AliCloud ROS Resource properties of an `ALIYUN::ICE::SearchLib` resource
 *
 * @param properties - the TypeScript properties of a `RosSearchLibProps`
 *
 * @returns the AliCloud ROS Resource properties of an `ALIYUN::ICE::SearchLib` resource.
 */
// @ts-ignore TS6133
function rosSearchLibPropsToRosTemplate(properties, enableResourcePropertyConstraint) {
    if (!ros.canInspect(properties)) {
        return properties;
    }
    if (enableResourcePropertyConstraint) {
        RosSearchLibPropsValidator(properties).assertSuccess();
    }
    return {
        'SearchLibName': ros.stringToRosTemplate(properties.searchLibName),
    };
}
/**
 * This class is a base encapsulation around the ROS resource type `ALIYUN::ICE::SearchLib`.
 * @Note This class does not contain additional functions, so it is recommended to use the `SearchLib` class instead of this class for a more convenient development experience.
 * See https://www.alibabacloud.com/help/ros/developer-reference/aliyun-ice-searchlib
 */
class RosSearchLib extends ros.RosResource {
    /**
     * @param scope - scope in which this resource is defined
     * @param id    - scoped id of the resource
     * @param props - resource properties
     */
    constructor(scope, id, props, enableResourcePropertyConstraint) {
        super(scope, id, { type: RosSearchLib.ROS_RESOURCE_TYPE_NAME, properties: props });
        this.attrSearchLibName = this.getAtt('SearchLibName');
        this.enableResourcePropertyConstraint = enableResourcePropertyConstraint;
        this.searchLibName = props.searchLibName;
    }
    get rosProperties() {
        return {
            searchLibName: this.searchLibName,
        };
    }
    renderProperties(props) {
        return rosSearchLibPropsToRosTemplate(props, this.enableResourcePropertyConstraint);
    }
}
exports.RosSearchLib = RosSearchLib;
/**
 * The resource type name for this resource class.
 */
RosSearchLib.ROS_RESOURCE_TYPE_NAME = "ALIYUN::ICE::SearchLib";
/**
 * Determine whether the given properties match those of a `RosUploadMediaProps`
 *
 * @param properties - the TypeScript properties of a `RosUploadMediaProps`
 *
 * @returns the result of the validation.
 */
function RosUploadMediaPropsValidator(properties) {
    if (!ros.canInspect(properties)) {
        return ros.VALIDATION_SUCCESS;
    }
    const errors = new ros.ValidationResults();
    errors.collect(ros.propertyValidator('entityId', ros.validateString)(properties.entityId));
    errors.collect(ros.propertyValidator('appId', ros.validateString)(properties.appId));
    errors.collect(ros.propertyValidator('fileInfo', ros.hashValidator(ros.validateAny))(properties.fileInfo));
    errors.collect(ros.propertyValidator('userData', ros.hashValidator(ros.validateAny))(properties.userData));
    errors.collect(ros.propertyValidator('uploadTargetConfig', ros.hashValidator(ros.validateAny))(properties.uploadTargetConfig));
    errors.collect(ros.propertyValidator('mediaMetaData', ros.hashValidator(ros.validateAny))(properties.mediaMetaData));
    errors.collect(ros.propertyValidator('postProcessConfig', ros.hashValidator(ros.validateAny))(properties.postProcessConfig));
    return errors.wrap('supplied properties not correct for "RosUploadMediaProps"');
}
/**
 * Renders the AliCloud ROS Resource properties of an `ALIYUN::ICE::UploadMedia` resource
 *
 * @param properties - the TypeScript properties of a `RosUploadMediaProps`
 *
 * @returns the AliCloud ROS Resource properties of an `ALIYUN::ICE::UploadMedia` resource.
 */
// @ts-ignore TS6133
function rosUploadMediaPropsToRosTemplate(properties, enableResourcePropertyConstraint) {
    if (!ros.canInspect(properties)) {
        return properties;
    }
    if (enableResourcePropertyConstraint) {
        RosUploadMediaPropsValidator(properties).assertSuccess();
    }
    return {
        'AppId': ros.stringToRosTemplate(properties.appId),
        'EntityId': ros.stringToRosTemplate(properties.entityId),
        'FileInfo': ros.hashMapper(ros.objectToRosTemplate)(properties.fileInfo),
        'MediaMetaData': ros.hashMapper(ros.objectToRosTemplate)(properties.mediaMetaData),
        'PostProcessConfig': ros.hashMapper(ros.objectToRosTemplate)(properties.postProcessConfig),
        'UploadTargetConfig': ros.hashMapper(ros.objectToRosTemplate)(properties.uploadTargetConfig),
        'UserData': ros.hashMapper(ros.objectToRosTemplate)(properties.userData),
    };
}
/**
 * This class is a base encapsulation around the ROS resource type `ALIYUN::ICE::UploadMedia`.
 * @Note This class does not contain additional functions, so it is recommended to use the `UploadMedia` class instead of this class for a more convenient development experience.
 * See https://www.alibabacloud.com/help/ros/developer-reference/aliyun-ice-uploadmedia
 */
class RosUploadMedia extends ros.RosResource {
    /**
     * @param scope - scope in which this resource is defined
     * @param id    - scoped id of the resource
     * @param props - resource properties
     */
    constructor(scope, id, props, enableResourcePropertyConstraint) {
        super(scope, id, { type: RosUploadMedia.ROS_RESOURCE_TYPE_NAME, properties: props });
        this.attrFileUrl = this.getAtt('FileURL');
        this.attrMediaId = this.getAtt('MediaId');
        this.attrMediaUrl = this.getAtt('MediaURL');
        this.attrUploadAddress = this.getAtt('UploadAddress');
        this.attrUploadAuth = this.getAtt('UploadAuth');
        this.enableResourcePropertyConstraint = enableResourcePropertyConstraint;
        this.appId = props.appId;
        this.entityId = props.entityId;
        this.fileInfo = props.fileInfo;
        this.mediaMetaData = props.mediaMetaData;
        this.postProcessConfig = props.postProcessConfig;
        this.uploadTargetConfig = props.uploadTargetConfig;
        this.userData = props.userData;
    }
    get rosProperties() {
        return {
            appId: this.appId,
            entityId: this.entityId,
            fileInfo: this.fileInfo,
            mediaMetaData: this.mediaMetaData,
            postProcessConfig: this.postProcessConfig,
            uploadTargetConfig: this.uploadTargetConfig,
            userData: this.userData,
        };
    }
    renderProperties(props) {
        return rosUploadMediaPropsToRosTemplate(props, this.enableResourcePropertyConstraint);
    }
}
exports.RosUploadMedia = RosUploadMedia;
/**
 * The resource type name for this resource class.
 */
RosUploadMedia.ROS_RESOURCE_TYPE_NAME = "ALIYUN::ICE::UploadMedia";
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaWNlLmdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImljZS5nZW5lcmF0ZWQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLHlEQUF5RDs7O0FBRXpELDhDQUE4QztBQTRCOUM7Ozs7OztHQU1HO0FBQ0gsU0FBUyx5QkFBeUIsQ0FBQyxVQUFlO0lBQzlDLElBQUksQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLFVBQVUsQ0FBQyxFQUFFO1FBQUUsT0FBTyxHQUFHLENBQUMsa0JBQWtCLENBQUM7S0FBRTtJQUNuRSxNQUFNLE1BQU0sR0FBRyxJQUFJLEdBQUcsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO0lBQzNDLE1BQU0sQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLGlCQUFpQixDQUFDLFVBQVUsRUFBRSxHQUFHLENBQUMsY0FBYyxDQUFDLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7SUFDM0YsSUFBRyxVQUFVLENBQUMsSUFBSSxJQUFJLENBQUMsT0FBTyxVQUFVLENBQUMsSUFBSSxDQUFDLEtBQUssUUFBUSxFQUFFO1FBQ3pELE1BQU0sQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLGlCQUFpQixDQUFDLE1BQU0sRUFBRSxHQUFHLENBQUMscUJBQXFCLENBQUMsQ0FBQztZQUN0RSxJQUFJLEVBQUUsVUFBVSxDQUFDLElBQUk7WUFDckIsYUFBYSxFQUFFLENBQUMsVUFBVSxFQUFDLFNBQVMsQ0FBQztTQUN0QyxDQUFDLENBQUMsQ0FBQztLQUNQO0lBQ0QsTUFBTSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsaUJBQWlCLENBQUMsTUFBTSxFQUFFLEdBQUcsQ0FBQyxjQUFjLENBQUMsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztJQUNuRixNQUFNLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLEVBQUUsR0FBRyxDQUFDLGlCQUFpQixDQUFDLENBQUMsVUFBVSxDQUFD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LENBQUM7UUFDekIsSUFBSSxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUMsUUFBUSxDQUFDO1FBQy9CLElBQUksQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDLFFBQVEsQ0FBQztRQUMvQixJQUFJLENBQUMsYUFBYSxHQUFHLEtBQUssQ0FBQyxhQUFhLENBQUM7UUFDekMsSUFBSSxDQUFDLGlCQUFpQixHQUFHLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQztRQUNqRCxJQUFJLENBQUMsa0JBQWtCLEdBQUcsS0FBSyxDQUFDLGtCQUFrQixDQUFDO1FBQ25ELElBQUksQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDLFFBQVEsQ0FBQztJQUNuQyxDQUFDO0lBR0QsSUFBYyxhQUFhO1FBQ3ZCLE9BQU87WUFDSCxLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUs7WUFDakIsUUFBUSxFQUFFLElBQUksQ0FBQyxRQUFRO1lBQ3ZCLFFBQVEsRUFBRSxJQUFJLENBQUMsUUFBUTtZQUN2QixhQUFhLEVBQUUsSUFBSSxDQUFDLGFBQWE7WUFDakMsaUJBQWlCLEVBQUUsSUFBSSxDQUFDLGlCQUFpQjtZQUN6QyxrQkFBa0IsRUFBRSxJQUFJLENBQUMsa0JBQWtCO1lBQzNDLFFBQVEsRUFBRSxJQUFJLENBQUMsUUFBUTtTQUMxQixDQUFDO0lBQ04sQ0FBQztJQUNTLGdCQUFnQixDQUFDLEtBQTJCO1FBQ2xELE9BQU8sZ0NBQWdDLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxnQ0FBZ0MsQ0FBQyxDQUFDO0lBQzFGLENBQUM7O0FBbElMLHdDQW1JQztBQWxJRzs7R0FFRztBQUNvQixxQ0FBc0IsR0FBRywwQkFBMEIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8vIEdlbmVyYXRlZCBmcm9tIHRoZSBBbGlDbG91ZCBST1MgUmVzb3VyY2UgU3BlY2lmaWNhdGlvblxuXG5pbXBvcnQgKiBhcyByb3MgZnJvbSAnQGFsaWNsb3VkL3Jvcy1jZGstY29yZSc7XG5cbi8qKlxuICogUHJvcGVydGllcyBmb3IgZGVmaW5pbmcgYSBgUm9zQ2F0ZWdvcnlgLlxuICogU2VlIGh0dHBzOi8vd3d3LmFsaWJhYmFjbG91ZC5jb20vaGVscC9yb3MvZGV2ZWxvcGVyLXJlZmVyZW5jZS9hbGl5dW4taWNlLWNhdGVnb3J5XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUm9zQ2F0ZWdvcnlQcm9wcyB7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgY2F0ZU5hbWU6IFRoZSBjYXRlZ29yeSBuYW1lLlxuICAgICAqIFRoZSB2YWx1ZSBjYW4gYmUgdXAgdG8gNjQgYnl0ZXMgaW4gbGVuZ3RoLlxuICAgICAqIFRoZSB2YWx1ZSBtdXN0IGJlIGVuY29kZWQgaW4gVVRGLTguXG4gICAgICovXG4gICAgcmVhZG9ubHkgY2F0ZU5hbWU6IHN0cmluZyB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIEBQcm9wZXJ0eSBwYXJlbnRJZDogVGhlIElEIG9mIHRoZSBwYXJlbnQgY2F0ZWdvcnkuXG4gICAgICovXG4gICAgcmVhZG9ubHkgcGFyZW50SWQ/OiBudW1iZXIgfCByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgdHlwZTogVGhlIHR5cGUgb2YgdGhlIGNhdGVnb3J5LiBWYWxpZCB2YWx1ZXM6XG4gICAgICogZGVmYXVsdDogYXVkaW8sIHZpZGVvLCBhbmQgaW1hZ2UgZmlsZXMuIFRoaXMgaXMgdGhlIGRlZmF1bHQgdmFsdWUuXG4gICAgICogbWF0ZXJpYWw6IHNob3J0IHZpZGVvIG1hdGVyaWFscy5cbiAgICAgKi9cbiAgICByZWFkb25seSB0eXBlPzogc3RyaW5nIHwgcm9zLklSZXNvbHZhYmxlO1xufVxuXG4vKipcbiAqIERldGVybWluZSB3aGV0aGVyIHRoZSBnaXZlbiBwcm9wZXJ0aWVzIG1hdGNoIHRob3NlIG9mIGEgYFJvc0NhdGVnb3J5UHJvcHNgXG4gKlxuICogQHBhcmFtIHByb3BlcnRpZXMgLSB0aGUgVHlwZVNjcmlwdCBwcm9wZXJ0aWVzIG9mIGEgYFJvc0NhdGVnb3J5UHJvcHNgXG4gKlxuICogQHJldHVybnMgdGhlIHJlc3VsdCBvZiB0aGUgdmFsaWRhdGlvbi5cbiAqL1xuZnVuY3Rpb24gUm9zQ2F0ZWdvcnlQcm9wc1ZhbGlkYXRvcihwcm9wZXJ0aWVzOiBhbnkpOiByb3MuVmFsaWRhdGlvblJlc3VsdCB7XG4gICAgaWYgKCFyb3MuY2FuSW5zcGVjdChwcm9wZXJ0aWVzKSkgeyByZXR1cm4gcm9zLlZBTElEQVRJT05fU1VDQ0VTUzsgfVxuICAgIGNvbnN0IGVycm9ycyA9IG5ldyByb3MuVmFsaWRhdGlvblJlc3VsdHMoKTtcbiAgICBlcnJvcnMuY29sbGVjdChyb3MucHJvcGVydHlWYWxpZGF0b3IoJ3BhcmVudElkJywgcm9zLnZhbGlkYXRlTnVtYmVyKShwcm9wZXJ0aWVzLnBhcmVudElkKSk7XG4gICAgaWYocHJvcGVydGllcy50eXBlICYmICh0eXBlb2YgcHJvcGVydGllcy50eXBlKSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgZXJyb3JzLmNvbGxlY3Qocm9zLnByb3BlcnR5VmFsaWRhdG9yKCd0eXBlJywgcm9zLnZhbGlkYXRlQWxsb3dlZFZhbHVlcykoe1xuICAgICAgICAgIGRhdGE6IHByb3BlcnRpZXMudHlwZSxcbiAgICAgICAgICBhbGxvd2VkVmFsdWVzOiBbXCJtYXRlcmlhbFwiLFwiZGVmYXVsdFwiXSxcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBlcnJvcnMuY29sbGVjdChyb3MucHJvcGVydHlWYWxpZGF0b3IoJ3R5cGUnLCByb3MudmFsaWRhdGVTdHJpbmcpKHByb3BlcnRpZXMudHlwZSkpO1xuICAgIGVycm9ycy5jb2xsZWN0KHJvcy5wcm9wZXJ0eVZhbGlkYXRvcignY2F0ZU5hbWUnLCByb3MucmVxdWlyZWRWYWxpZGF0b3IpKHByb3BlcnRpZXMuY2F0ZU5hbWUpKTtcbiAgICBlcnJvcnMuY29sbGVjdChyb3MucHJvcGVydHlWYWxpZGF0b3IoJ2NhdGVOYW1lJywgcm9zLnZhbGlkYXRlU3RyaW5nKShwcm9wZXJ0aWVzLmNhdGVOYW1lKSk7XG4gICAgcmV0dXJuIGVycm9ycy53cmFwKCdzdXBwbGllZCBwcm9wZXJ0aWVzIG5vdCBjb3JyZWN0IGZvciBcIlJvc0NhdGVnb3J5UHJvcHNcIicpO1xufVxuXG4vKipcbiAqIFJlbmRlcnMgdGhlIEFsaUNsb3VkIFJPUyBSZXNvdXJjZSBwcm9wZXJ0aWVzIG9mIGFuIGBBTElZVU46OklDRTo6Q2F0ZWdvcnlgIHJlc291cmNlXG4gKlxuICogQHBhcmFtIHByb3BlcnRpZXMgLSB0aGUgVHlwZVNjcmlwdCBwcm9wZXJ0aWVzIG9mIGEgYFJvc0NhdGVnb3J5UHJvcHNgXG4gKlxuICogQHJldHVybnMgdGhlIEFsaUNsb3VkIFJPUyBSZXNvdXJjZSBwcm9wZXJ0aWVzIG9mIGFuIGBBTElZVU46OklDRTo6Q2F0ZWdvcnlgIHJlc291cmNlLlxuICovXG4vLyBAdHMtaWdub3JlIFRTNjEzM1xuZnVuY3Rpb24gcm9zQ2F0ZWdvcnlQcm9wc1RvUm9zVGVtcGxhdGUocHJvcGVydGllczogYW55LCBlbmFibGVSZXNvdXJjZVByb3BlcnR5Q29uc3RyYWludDogYm9vbGVhbik6IGFueSB7XG4gICAgaWYgKCFyb3MuY2FuSW5zcGVjdChwcm9wZXJ0aWVzKSkgeyByZXR1cm4gcHJvcGVydGllczsgfVxuICAgIGlmKGVuYWJsZVJlc291cmNlUHJvcGVydHlDb25zdHJhaW50KSB7XG4gICAgICAgIFJvc0NhdGVnb3J5UHJvcHNWYWxpZGF0b3IocHJvcGVydGllcykuYXNzZXJ0U3VjY2VzcygpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgJ0NhdGVOYW1lJzogcm9zLnN0cmluZ1RvUm9zVGVtcGxhdGUocHJvcGVydGllcy5jYXRlTmFtZSksXG4gICAgICAnUGFyZW50SWQnOiByb3MubnVtYmVyVG9Sb3NUZW1wbGF0ZShwcm9wZXJ0aWVzLnBhcmVudElkKSxcbiAgICAgICdUeXBlJzogcm9zLnN0cmluZ1RvUm9zVGVtcGxhdGUocHJvcGVydGllcy50eXBlKSxcbiAgICB9O1xufVxuXG4vKipcbiAqIFRoaXMgY2xhc3MgaXMgYSBiYXNlIGVuY2Fwc3VsYXRpb24gYXJvdW5kIHRoZSBST1MgcmVzb3VyY2UgdHlwZSBgQUxJWVVOOjpJQ0U6OkNhdGVnb3J5YC5cbiAqIEBOb3RlIFRoaXMgY2xhc3MgZG9lcyBub3QgY29udGFpbiBhZGRpdGlvbmFsIGZ1bmN0aW9ucywgc28gaXQgaXMgcmVjb21tZW5kZWQgdG8gdXNlIHRoZSBgQ2F0ZWdvcnlgIGNsYXNzIGluc3RlYWQgb2YgdGhpcyBjbGFzcyBmb3IgYSBtb3JlIGNvbnZlbmllbnQgZGV2ZWxvcG1lbnQgZXhwZXJpZW5jZS5cbiAqIFNlZSBodHRwczovL3d3dy5hbGliYWJhY2xvdWQuY29tL2hlbHAvcm9zL2RldmVsb3Blci1yZWZlcmVuY2UvYWxpeXVuLWljZS1jYXRlZ29yeVxuICovXG5leHBvcnQgY2xhc3MgUm9zQ2F0ZWdvcnkgZXh0ZW5kcyByb3MuUm9zUmVzb3VyY2Uge1xuICAgIC8qKlxuICAgICAqIFRoZSByZXNvdXJjZSB0eXBlIG5hbWUgZm9yIHRoaXMgcmVzb3VyY2UgY2xhc3MuXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBST1NfUkVTT1VSQ0VfVFlQRV9OQU1FID0gXCJBTElZVU46OklDRTo6Q2F0ZWdvcnlcIjtcblxuICAgIC8qKlxuICAgICAqIEBBdHRyaWJ1dGUgQ2F0ZUlkOiBUaGUgSUQgb2YgdGhlIGNhdGVnb3J5LlxuICAgICAqL1xuICAgIHB1YmxpYyByZWFkb25seSBhdHRyQ2F0ZUlkOiByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBAQXR0cmlidXRlIExldmVsOiBUaGUgbGV2ZWwgb2YgdGhlIGNhdGVnb3J5LiBUaGUgcHJpbWFyeSBjbGFzc2lmaWNhdGlvbiBsZXZlbCBpcyAwLCB0aGUgc2Vjb25kYXJ5IGNsYXNzaWZpY2F0aW9uIGxldmVsIGlzIDEsIGFuZCB0aGUgdGVydGlhcnkgY2xhc3NpZmljYXRpb24gbGV2ZWwgaXMgMi5cbiAgICAgKi9cbiAgICBwdWJsaWMgcmVhZG9ubHkgYXR0ckxldmVsOiByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBAQXR0cmlidXRlIFBhcmVudElkOiBUaGUgSUQgb2YgdGhlIHBhcmVudCBjYXRlZ29yeS5cbiAgICAgKi9cbiAgICBwdWJsaWMgcmVhZG9ubHkgYXR0clBhcmVudElkOiByb3MuSVJlc29sdmFibGU7XG5cbiAgICBwdWJsaWMgZW5hYmxlUmVzb3VyY2VQcm9wZXJ0eUNvbnN0cmFpbnQ6IGJvb2xlYW47XG5cblxuICAgIC8qKlxuICAgICAqIEBQcm9wZXJ0eSBjYXRlTmFtZTogVGhlIGNhdGVnb3J5IG5hbWUuXG4gICAgICogVGhlIHZhbHVlIGNhbiBiZSB1cCB0byA2NCBieXRlcyBpbiBsZW5ndGguXG4gICAgICogVGhlIHZhbHVlIG11c3QgYmUgZW5jb2RlZCBpbiBVVEYtOC5cbiAgICAgKi9cbiAgICBwdWJsaWMgY2F0ZU5hbWU6IHN0cmluZyB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIEBQcm9wZXJ0eSBwYXJlbnRJZDogVGhlIElEIG9mIHRoZSBwYXJlbnQgY2F0ZWdvcnkuXG4gICAgICovXG4gICAgcHVibGljIHBhcmVudElkOiBudW1iZXIgfCByb3MuSVJlc29sdmFibGUgfCB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgdHlwZTogVGhlIHR5cGUgb2YgdGhlIGNhdGVnb3J5LiBWYWxpZCB2YWx1ZXM6XG4gICAgICogZGVmYXVsdDogYXVkaW8sIHZpZGVvLCBhbmQgaW1hZ2UgZmlsZXMuIFRoaXMgaXMgdGhlIGRlZmF1bHQgdmFsdWUuXG4gICAgICogbWF0ZXJpYWw6IHNob3J0IHZpZGVvIG1hdGVyaWFscy5cbiAgICAgKi9cbiAgICBwdWJsaWMgdHlwZTogc3RyaW5nIHwgcm9zLklSZXNvbHZhYmxlIHwgdW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHNjb3BlIC0gc2NvcGUgaW4gd2hpY2ggdGhpcyByZXNvdXJjZSBpcyBkZWZpbmVkXG4gICAgICogQHBhcmFtIGlkICAgIC0gc2NvcGVkIGlkIG9mIHRoZSByZXNvdXJjZVxuICAgICAqIEBwYXJhbSBwcm9wcyAtIHJlc291cmNlIHByb3BlcnRpZXNcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihzY29wZTogcm9zLkNvbnN0cnVjdCwgaWQ6IHN0cmluZywgcHJvcHM6IFJvc0NhdGVnb3J5UHJvcHMsIGVuYWJsZVJlc291cmNlUHJvcGVydHlDb25zdHJhaW50OiBib29sZWFuKSB7XG4gICAgICAgIHN1cGVyKHNjb3BlLCBpZCwgeyB0eXBlOiBSb3NDYXRlZ29yeS5ST1NfUkVTT1VSQ0VfVFlQRV9OQU1FLCBwcm9wZXJ0aWVzOiBwcm9wcyB9KTtcbiAgICAgICAgdGhpcy5hdHRyQ2F0ZUlkID0gdGhpcy5nZXRBdHQoJ0NhdGVJZCcpO1xuICAgICAgICB0aGlzLmF0dHJMZXZlbCA9IHRoaXMuZ2V0QXR0KCdMZXZlbCcpO1xuICAgICAgICB0aGlzLmF0dHJQYXJlbnRJZCA9IHRoaXMuZ2V0QXR0KCdQYXJlbnRJZCcpO1xuXG4gICAgICAgIHRoaXMuZW5hYmxlUmVzb3VyY2VQcm9wZXJ0eUNvbnN0cmFpbnQgPSBlbmFibGVSZXNvdXJjZVByb3BlcnR5Q29uc3RyYWludDtcbiAgICAgICAgdGhpcy5jYXRlTmFtZSA9IHByb3BzLmNhdGVOYW1lO1xuICAgICAgICB0aGlzLnBhcmVudElkID0gcHJvcHMucGFyZW50SWQ7XG4gICAgICAgIHRoaXMudHlwZSA9IHByb3BzLnR5cGU7XG4gICAgfVxuXG5cbiAgICBwcm90ZWN0ZWQgZ2V0IHJvc1Byb3BlcnRpZXMoKTogeyBba2V5OiBzdHJpbmddOiBhbnkgfSAge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY2F0ZU5hbWU6IHRoaXMuY2F0ZU5hbWUsXG4gICAgICAgICAgICBwYXJlbnRJZDogdGhpcy5wYXJlbnRJZCxcbiAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcHJvdGVjdGVkIHJlbmRlclByb3BlcnRpZXMocHJvcHM6IHtba2V5OiBzdHJpbmddOiBhbnl9KTogeyBba2V5OiBzdHJpbmddOiBhbnkgfSAge1xuICAgICAgICByZXR1cm4gcm9zQ2F0ZWdvcnlQcm9wc1RvUm9zVGVtcGxhdGUocHJvcHMsIHRoaXMuZW5hYmxlUmVzb3VyY2VQcm9wZXJ0eUNvbnN0cmFpbnQpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBQcm9wZXJ0aWVzIGZvciBkZWZpbmluZyBhIGBSb3NJbnNlcnRNZWRpYVRvU2VhcmNoTGliYC5cbiAqIFNlZSBodHRwczovL3d3dy5hbGliYWJhY2xvdWQuY29tL2hlbHAvcm9zL2RldmVsb3Blci1yZWZlcmVuY2UvYWxpeXVuLWljZS1pbnNlcnRtZWRpYXRvc2VhcmNobGliXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUm9zSW5zZXJ0TWVkaWFUb1NlYXJjaExpYlByb3BzIHtcblxuICAgIC8qKlxuICAgICAqIEBQcm9wZXJ0eSBpbnB1dDogVGhlIFVSTCBvZiB0aGUgdmlkZW8sIGF1ZGlvLCBvciBpbWFnZSBmaWxlIHRoYXQgeW91IHdhbnQgdG8gaW1wb3J0IHRvIHRoZSBzZWFyY2ggbGlicmFyeS5cbiAgICAgKiBOb3RlOiBNYWtlIHN1cmUgdGhhdCB5b3Ugc3BlY2lmeSBhIGNvcnJlY3QgZmlsZSBuYW1lIGFuZCB0aGUgYnVja2V0IGluIHdoaWNoIHRoZSBmaWxlIHJlc2lkZXMgaXMgaW4gdGhlIHNhbWUgcmVnaW9uIHdoZXJlIHRoaXMgb3BlcmF0aW9uIGlzIGNhbGxlZC4gT3RoZXJ3aXNlLCB0aGUgZmlsZSBjYW5ub3QgYmUgZm91bmQgb3IgdGhlIG9wZXJhdGlvbiBtYXkgZmFpbC5cbiAgICAgKiBTcGVjaWZ5IGFuIE9iamVjdCBTdG9yYWdlIFNlcnZpY2UgKE9TUykgVVJMIGluIHRoZSBmb2xsb3dpbmcgZm9ybWF0OiBvc3M6XFwvXFwvW0J1Y2tldCBuYW1lXVxcL1tGaWxlIHBhdGhdLiBGb3IgZXhhbXBsZSwgeW91IGNhbiBzcGVjaWZ5IG9zczpcXC9cXC9bZXhhbXBsZS1idWNrZXQtXVxcL1tvYmplY3RfcGF0aC1dLlxuICAgICAqIFNwZWNpZnkgYW4gSFRUUCBVUkwgaW4gdGhlIGZvbGxvd2luZyBmb3JtYXQ6IHB1YmxpYyBlbmRwb2ludC4gRm9yIGV4YW1wbGUsIHlvdSBjYW4gc3BlY2lmeSBodHRwOlxcL1xcL2V4YW1wbGUtdGVzdC0qKioqLm1wNC5cbiAgICAgKi9cbiAgICByZWFkb25seSBpbnB1dDogc3RyaW5nIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IG1lZGlhSWQ6IFRoZSBJRCBvZiB0aGUgbWVkaWEgYXNzZXQuIEVhY2ggbWVkaWEgSUQgaXMgdW5pcXVlLiBJZiB5b3UgbGVhdmUgdGhpcyBwYXJhbWV0ZXIgZW1wdHksIGEgbWVkaWEgSUQgaXMgYXV0b21hdGljYWxseSBnZW5lcmF0ZWQgZm9yIHRoaXMgcGFyYW1ldGVyLlxuICAgICAqL1xuICAgIHJlYWRvbmx5IG1lZGlhSWQ/OiBzdHJpbmcgfCByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgbWVkaWFUeXBlOiBUaGUgdHlwZSBvZiB0aGUgbWVkaWEgYXNzZXQuIFZhbGlkIHZhbHVlczpcbiAgICAgKiB2aWRlbyAoZGVmYXVsdClcbiAgICAgKiBpbWFnZVxuICAgICAqIGF1ZGlvXG4gICAgICovXG4gICAgcmVhZG9ubHkgbWVkaWFUeXBlPzogc3RyaW5nIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IG1zZ0JvZHk6IFRoZSBtZXNzYWdlIGJvZHkuXG4gICAgICovXG4gICAgcmVhZG9ubHkgbXNnQm9keT86IHsgW2tleTogc3RyaW5nXTogKGFueSB8IHJvcy5JUmVzb2x2YWJsZSkgfSB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIEBQcm9wZXJ0eSBzZWFyY2hMaWJOYW1lOiBUaGUgbmFtZSBvZiB0aGUgc2VhcmNoIGxpYnJhcnkuIERlZmF1bHQgdmFsdWU6IGltcy1kZWZhdWx0LXNlYXJjaC1saWIuXG4gICAgICovXG4gICAgcmVhZG9ubHkgc2VhcmNoTGliTmFtZT86IHN0cmluZyB8IHJvcy5JUmVzb2x2YWJsZTtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgd2hldGhlciB0aGUgZ2l2ZW4gcHJvcGVydGllcyBtYXRjaCB0aG9zZSBvZiBhIGBSb3NJbnNlcnRNZWRpYVRvU2VhcmNoTGliUHJvcHNgXG4gKlxuICogQHBhcmFtIHByb3BlcnRpZXMgLSB0aGUgVHlwZVNjcmlwdCBwcm9wZXJ0aWVzIG9mIGEgYFJvc0luc2VydE1lZGlhVG9TZWFyY2hMaWJQcm9wc2BcbiAqXG4gKiBAcmV0dXJucyB0aGUgcmVzdWx0IG9mIHRoZSB2YWxpZGF0aW9uLlxuICovXG5mdW5jdGlvbiBSb3NJbnNlcnRNZWRpYVRvU2VhcmNoTGliUHJvcHNWYWxpZGF0b3IocHJvcGVydGllczogYW55KTogcm9zLlZhbGlkYXRpb25SZXN1bHQge1xuICAgIGlmICghcm9zLmNhbkluc3BlY3QocHJvcGVydGllcykpIHsgcmV0dXJuIHJvcy5WQUxJREFUSU9OX1NVQ0NFU1M7IH1cbiAgICBjb25zdCBlcnJvcnMgPSBuZXcgcm9zLlZhbGlkYXRpb25SZXN1bHRzKCk7XG4gICAgZXJyb3JzLmNvbGxlY3Qocm9zLnByb3BlcnR5VmFsaWRhdG9yKCdpbnB1dCcsIHJvcy5yZXF1aXJlZFZhbGlkYXRvcikocHJvcGVydGllcy5pbnB1dCkpO1xuICAgIGVycm9ycy5jb2xsZWN0KHJvcy5wcm9wZXJ0eVZhbGlkYXRvcignaW5wdXQnLCByb3MudmFsaWRhdGVTdHJpbmcpKHByb3BlcnRpZXMuaW5wdXQpKTtcbiAgICBlcnJvcnMuY29sbGVjdChyb3MucHJvcGVydHlWYWxpZGF0b3IoJ21lZGlhSWQnLCByb3MudmFsaWRhdGVTdHJpbmcpKHByb3BlcnRpZXMubWVkaWFJZCkpO1xuICAgIGVycm9ycy5jb2xsZWN0KHJvcy5wcm9wZXJ0eVZhbGlkYXRvcignc2VhcmNoTGliTmFtZScsIHJvcy52YWxpZGF0ZVN0cmluZykocHJvcGVydGllcy5zZWFyY2hMaWJOYW1lKSk7XG4gICAgaWYocHJvcGVydGllcy5tZWRpYVR5cGUgJiYgKHR5cGVvZiBwcm9wZXJ0aWVzLm1lZGlhVHlwZSkgIT09ICdvYmplY3QnKSB7XG4gICAgICAgIGVycm9ycy5jb2xsZWN0KHJvcy5wcm9wZXJ0eVZhbGlkYXRvcignbWVkaWFUeXBlJywgcm9zLnZhbGlkYXRlQWxsb3dlZFZhbHVlcykoe1xuICAgICAgICAgIGRhdGE6IHByb3BlcnRpZXMubWVkaWFUeXBlLFxuICAgICAgICAgIGFsbG93ZWRWYWx1ZXM6IFtcInZpZGVvXCIsXCJpbWFnZVwiLFwiYXVkaW9cIl0sXG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgZXJyb3JzLmNvbGxlY3Qocm9zLnByb3BlcnR5VmFsaWRhdG9yKCdtZWRpYVR5cGUnLCByb3MudmFsaWRhdGVTdHJpbmcpKHByb3BlcnRpZXMubWVkaWFUeXBlKSk7XG4gICAgZXJyb3JzLmNvbGxlY3Qocm9zLnByb3BlcnR5VmFsaWRhdG9yKCdtc2dCb2R5Jywgcm9zLmhhc2hWYWxpZGF0b3Iocm9zLnZhbGlkYXRlQW55KSkocHJvcGVydGllcy5tc2dCb2R5KSk7XG4gICAgcmV0dXJuIGVycm9ycy53cmFwKCdzdXBwbGllZCBwcm9wZXJ0aWVzIG5vdCBjb3JyZWN0IGZvciBcIlJvc0luc2VydE1lZGlhVG9TZWFyY2hMaWJQcm9wc1wiJyk7XG59XG5cbi8qKlxuICogUmVuZGVycyB0aGUgQWxpQ2xvdWQgUk9TIFJlc291cmNlIHByb3BlcnRpZXMgb2YgYW4gYEFMSVlVTjo6SUNFOjpJbnNlcnRNZWRpYVRvU2VhcmNoTGliYCByZXNvdXJjZVxuICpcbiAqIEBwYXJhbSBwcm9wZXJ0aWVzIC0gdGhlIFR5cGVTY3JpcHQgcHJvcGVydGllcyBvZiBhIGBSb3NJbnNlcnRNZWRpYVRvU2VhcmNoTGliUHJvcHNgXG4gKlxuICogQHJldHVybnMgdGhlIEFsaUNsb3VkIFJPUyBSZXNvdXJjZSBwcm9wZXJ0aWVzIG9mIGFuIGBBTElZVU46OklDRTo6SW5zZXJ0TWVkaWFUb1NlYXJjaExpYmAgcmVzb3VyY2UuXG4gKi9cbi8vIEB0cy1pZ25vcmUgVFM2MTMzXG5mdW5jdGlvbiByb3NJbnNlcnRNZWRpYVRvU2VhcmNoTGliUHJvcHNUb1Jvc1RlbXBsYXRlKHByb3BlcnRpZXM6IGFueSwgZW5hYmxlUmVzb3VyY2VQcm9wZXJ0eUNvbnN0cmFpbnQ6IGJvb2xlYW4pOiBhbnkge1xuICAgIGlmICghcm9zLmNhbkluc3BlY3QocHJvcGVydGllcykpIHsgcmV0dXJuIHByb3BlcnRpZXM7IH1cbiAgICBpZihlbmFibGVSZXNvdXJjZVByb3BlcnR5Q29uc3RyYWludCkge1xuICAgICAgICBSb3NJbnNlcnRNZWRpYVRvU2VhcmNoTGliUHJvcHNWYWxpZGF0b3IocHJvcGVydGllcykuYXNzZXJ0U3VjY2VzcygpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgJ0lucHV0Jzogcm9zLnN0cmluZ1RvUm9zVGVtcGxhdGUocHJvcGVydGllcy5pbnB1dCksXG4gICAgICAnTWVkaWFJZCc6IHJvcy5zdHJpbmdUb1Jvc1RlbXBsYXRlKHByb3BlcnRpZXMubWVkaWFJZCksXG4gICAgICAnTWVkaWFUeXBlJzogcm9zLnN0cmluZ1RvUm9zVGVtcGxhdGUocHJvcGVydGllcy5tZWRpYVR5cGUpLFxuICAgICAgJ01zZ0JvZHknOiByb3MuaGFzaE1hcHBlcihyb3Mub2JqZWN0VG9Sb3NUZW1wbGF0ZSkocHJvcGVydGllcy5tc2dCb2R5KSxcbiAgICAgICdTZWFyY2hMaWJOYW1lJzogcm9zLnN0cmluZ1RvUm9zVGVtcGxhdGUocHJvcGVydGllcy5zZWFyY2hMaWJOYW1lKSxcbiAgICB9O1xufVxuXG4vKipcbiAqIFRoaXMgY2xhc3MgaXMgYSBiYXNlIGVuY2Fwc3VsYXRpb24gYXJvdW5kIHRoZSBST1MgcmVzb3VyY2UgdHlwZSBgQUxJWVVOOjpJQ0U6Okluc2VydE1lZGlhVG9TZWFyY2hMaWJgLlxuICogQE5vdGUgVGhpcyBjbGFzcyBkb2VzIG5vdCBjb250YWluIGFkZGl0aW9uYWwgZnVuY3Rpb25zLCBzbyBpdCBpcyByZWNvbW1lbmRlZCB0byB1c2UgdGhlIGBJbnNlcnRNZWRpYVRvU2VhcmNoTGliYCBjbGFzcyBpbnN0ZWFkIG9mIHRoaXMgY2xhc3MgZm9yIGEgbW9yZSBjb252ZW5pZW50IGRldmVsb3BtZW50IGV4cGVyaWVuY2UuXG4gKiBTZWUgaHR0cHM6Ly93d3cuYWxpYmFiYWNsb3VkLmNvbS9oZWxwL3Jvcy9kZXZlbG9wZXItcmVmZXJlbmNlL2FsaXl1bi1pY2UtaW5zZXJ0bWVkaWF0b3NlYXJjaGxpYlxuICovXG5leHBvcnQgY2xhc3MgUm9zSW5zZXJ0TWVkaWFUb1NlYXJjaExpYiBleHRlbmRzIHJvcy5Sb3NSZXNvdXJjZSB7XG4gICAgLyoqXG4gICAgICogVGhlIHJlc291cmNlIHR5cGUgbmFtZSBmb3IgdGhpcyByZXNvdXJjZSBjbGFzcy5cbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFJPU19SRVNPVVJDRV9UWVBFX05BTUUgPSBcIkFMSVlVTjo6SUNFOjpJbnNlcnRNZWRpYVRvU2VhcmNoTGliXCI7XG5cbiAgICAvKipcbiAgICAgKiBAQXR0cmlidXRlIE1lZGlhSWQ6IFRoZSBJRCBvZiB0aGUgbWVkaWEgYXNzZXQuXG4gICAgICovXG4gICAgcHVibGljIHJlYWRvbmx5IGF0dHJNZWRpYUlkOiByb3MuSVJlc29sdmFibGU7XG5cbiAgICBwdWJsaWMgZW5hYmxlUmVzb3VyY2VQcm9wZXJ0eUNvbnN0cmFpbnQ6IGJvb2xlYW47XG5cblxuICAgIC8qKlxuICAgICAqIEBQcm9wZXJ0eSBpbnB1dDogVGhlIFVSTCBvZiB0aGUgdmlkZW8sIGF1ZGlvLCBvciBpbWFnZSBmaWxlIHRoYXQgeW91IHdhbnQgdG8gaW1wb3J0IHRvIHRoZSBzZWFyY2ggbGlicmFyeS5cbiAgICAgKiBOb3RlOiBNYWtlIHN1cmUgdGhhdCB5b3Ugc3BlY2lmeSBhIGNvcnJlY3QgZmlsZSBuYW1lIGFuZCB0aGUgYnVja2V0IGluIHdoaWNoIHRoZSBmaWxlIHJlc2lkZXMgaXMgaW4gdGhlIHNhbWUgcmVnaW9uIHdoZXJlIHRoaXMgb3BlcmF0aW9uIGlzIGNhbGxlZC4gT3RoZXJ3aXNlLCB0aGUgZmlsZSBjYW5ub3QgYmUgZm91bmQgb3IgdGhlIG9wZXJhdGlvbiBtYXkgZmFpbC5cbiAgICAgKiBTcGVjaWZ5IGFuIE9iamVjdCBTdG9yYWdlIFNlcnZpY2UgKE9TUykgVVJMIGluIHRoZSBmb2xsb3dpbmcgZm9ybWF0OiBvc3M6XFwvXFwvW0J1Y2tldCBuYW1lXVxcL1tGaWxlIHBhdGhdLiBGb3IgZXhhbXBsZSwgeW91IGNhbiBzcGVjaWZ5IG9zczpcXC9cXC9bZXhhbXBsZS1idWNrZXQtXVxcL1tvYmplY3RfcGF0aC1dLlxuICAgICAqIFNwZWNpZnkgYW4gSFRUUCBVUkwgaW4gdGhlIGZvbGxvd2luZyBmb3JtYXQ6IHB1YmxpYyBlbmRwb2ludC4gRm9yIGV4YW1wbGUsIHlvdSBjYW4gc3BlY2lmeSBodHRwOlxcL1xcL2V4YW1wbGUtdGVzdC0qKioqLm1wNC5cbiAgICAgKi9cbiAgICBwdWJsaWMgaW5wdXQ6IHN0cmluZyB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIEBQcm9wZXJ0eSBtZWRpYUlkOiBUaGUgSUQgb2YgdGhlIG1lZGlhIGFzc2V0LiBFYWNoIG1lZGlhIElEIGlzIHVuaXF1ZS4gSWYgeW91IGxlYXZlIHRoaXMgcGFyYW1ldGVyIGVtcHR5LCBhIG1lZGlhIElEIGlzIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkIGZvciB0aGlzIHBhcmFtZXRlci5cbiAgICAgKi9cbiAgICBwdWJsaWMgbWVkaWFJZDogc3RyaW5nIHwgcm9zLklSZXNvbHZhYmxlIHwgdW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IG1lZGlhVHlwZTogVGhlIHR5cGUgb2YgdGhlIG1lZGlhIGFzc2V0LiBWYWxpZCB2YWx1ZXM6XG4gICAgICogdmlkZW8gKGRlZmF1bHQpXG4gICAgICogaW1hZ2VcbiAgICAgKiBhdWRpb1xuICAgICAqL1xuICAgIHB1YmxpYyBtZWRpYVR5cGU6IHN0cmluZyB8IHJvcy5JUmVzb2x2YWJsZSB8IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIEBQcm9wZXJ0eSBtc2dCb2R5OiBUaGUgbWVzc2FnZSBib2R5LlxuICAgICAqL1xuICAgIHB1YmxpYyBtc2dCb2R5OiB7IFtrZXk6IHN0cmluZ106IChhbnkgfCByb3MuSVJlc29sdmFibGUpIH0gfCByb3MuSVJlc29sdmFibGUgfCB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgc2VhcmNoTGliTmFtZTogVGhlIG5hbWUgb2YgdGhlIHNlYXJjaCBsaWJyYXJ5LiBEZWZhdWx0IHZhbHVlOiBpbXMtZGVmYXVsdC1zZWFyY2gtbGliLlxuICAgICAqL1xuICAgIHB1YmxpYyBzZWFyY2hMaWJOYW1lOiBzdHJpbmcgfCByb3MuSVJlc29sdmFibGUgfCB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gc2NvcGUgLSBzY29wZSBpbiB3aGljaCB0aGlzIHJlc291cmNlIGlzIGRlZmluZWRcbiAgICAgKiBAcGFyYW0gaWQgICAgLSBzY29wZWQgaWQgb2YgdGhlIHJlc291cmNlXG4gICAgICogQHBhcmFtIHByb3BzIC0gcmVzb3VyY2UgcHJvcGVydGllc1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHNjb3BlOiByb3MuQ29uc3RydWN0LCBpZDogc3RyaW5nLCBwcm9wczogUm9zSW5zZXJ0TWVkaWFUb1NlYXJjaExpYlByb3BzLCBlbmFibGVSZXNvdXJjZVByb3BlcnR5Q29uc3RyYWludDogYm9vbGVhbikge1xuICAgICAgICBzdXBlcihzY29wZSwgaWQsIHsgdHlwZTogUm9zSW5zZXJ0TWVkaWFUb1NlYXJjaExpYi5ST1NfUkVTT1VSQ0VfVFlQRV9OQU1FLCBwcm9wZXJ0aWVzOiBwcm9wcyB9KTtcbiAgICAgICAgdGhpcy5hdHRyTWVkaWFJZCA9IHRoaXMuZ2V0QXR0KCdNZWRpYUlkJyk7XG5cbiAgICAgICAgdGhpcy5lbmFibGVSZXNvdXJjZVByb3BlcnR5Q29uc3RyYWludCA9IGVuYWJsZVJlc291cmNlUHJvcGVydHlDb25zdHJhaW50O1xuICAgICAgICB0aGlzLmlucHV0ID0gcHJvcHMuaW5wdXQ7XG4gICAgICAgIHRoaXMubWVkaWFJZCA9IHByb3BzLm1lZGlhSWQ7XG4gICAgICAgIHRoaXMubWVkaWFUeXBlID0gcHJvcHMubWVkaWFUeXBlO1xuICAgICAgICB0aGlzLm1zZ0JvZHkgPSBwcm9wcy5tc2dCb2R5O1xuICAgICAgICB0aGlzLnNlYXJjaExpYk5hbWUgPSBwcm9wcy5zZWFyY2hMaWJOYW1lO1xuICAgIH1cblxuXG4gICAgcHJvdGVjdGVkIGdldCByb3NQcm9wZXJ0aWVzKCk6IHsgW2tleTogc3RyaW5nXTogYW55IH0gIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGlucHV0OiB0aGlzLmlucHV0LFxuICAgICAgICAgICAgbWVkaWFJZDogdGhpcy5tZWRpYUlkLFxuICAgICAgICAgICAgbWVkaWFUeXBlOiB0aGlzLm1lZGlhVHlwZSxcbiAgICAgICAgICAgIG1zZ0JvZHk6IHRoaXMubXNnQm9keSxcbiAgICAgICAgICAgIHNlYXJjaExpYk5hbWU6IHRoaXMuc2VhcmNoTGliTmFtZSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcHJvdGVjdGVkIHJlbmRlclByb3BlcnRpZXMocHJvcHM6IHtba2V5OiBzdHJpbmddOiBhbnl9KTogeyBba2V5OiBzdHJpbmddOiBhbnkgfSAge1xuICAgICAgICByZXR1cm4gcm9zSW5zZXJ0TWVkaWFUb1NlYXJjaExpYlByb3BzVG9Sb3NUZW1wbGF0ZShwcm9wcywgdGhpcy5lbmFibGVSZXNvdXJjZVByb3BlcnR5Q29uc3RyYWludCk7XG4gICAgfVxufVxuXG4vKipcbiAqIFByb3BlcnRpZXMgZm9yIGRlZmluaW5nIGEgYFJvc01lZGlhSW5mb2AuXG4gKiBTZWUgaHR0cHM6Ly93d3cuYWxpYmFiYWNsb3VkLmNvbS9oZWxwL3Jvcy9kZXZlbG9wZXItcmVmZXJlbmNlL2FsaXl1bi1pY2UtbWVkaWFpbmZvXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUm9zTWVkaWFJbmZvUHJvcHMge1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IGlucHV0VXJsOiBUaGUgVVJMIG9mIHRoZSBtZWRpYSBhc3NldCBpbiBhbm90aGVyIHNlcnZpY2UuIFRoZSBVUkwgaXMgYXNzb2NpYXRlZCB3aXRoIHRoZSBJRCBvZiB0aGUgbWVkaWEgYXNzZXQgaW4gSU1TLiBUaGUgVVJMIGNhbm5vdCBiZSBtb2RpZmllZCBvbmNlIHJlZ2lzdGVyZWQuIFRoZSBmb2xsb3dpbmcgdHlwZXMgb2YgVVJMcyBhcmUgc3VwcG9ydGVkOlxuICAgICAqIE9TUyBVUkwgaW4gb25lIG9mIHRoZSBmb2xsb3dpbmcgZm9ybWF0czpcbiAgICAgKiBodHRwKHMpOlxcL1xcL2V4YW1wbGUtYnVja2V0Lm9zcy1jbi1zaGFuZ2hhaS5hbGl5dW5jcy5jb21cXC9leGFtcGxlLm1wNFxuICAgICAqIG9zczpcXC9cXC9leGFtcGxlLWJ1Y2tldFxcL2V4YW1wbGUubXA0OiBJbiB0aGlzIGZvcm1hdCwgaXQgaXMgY29uc2lkZXJlZCBieSBkZWZhdWx0IHRoYXQgdGhlIHJlZ2lvbiBvZiB0aGUgT1NTIGJ1Y2tldCBpbiB3aGljaCB0aGUgbWVkaWEgYXNzZXQgcmVzaWRlcyBpcyB0aGUgc2FtZSBhcyB0aGUgcmVnaW9uIGluIHdoaWNoIElNUyBpcyBhY3RpdmF0ZWQuXG4gICAgICogVVJMIG9mIGFuIEFwc2FyYVZpZGVvIFZPRCBtZWRpYSBhc3NldFxuICAgICAqIHZvZDpcXC9cXC8qKioyMGI0OGZiMDQ0ODM5MTVkNGYyY2Q4YWMqKioqXG4gICAgICovXG4gICAgcmVhZG9ubHkgaW5wdXRVcmw6IHN0cmluZyB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIEBQcm9wZXJ0eSBidXNpbmVzc1R5cGU6IFRoZSBidXNpbmVzcyB0eXBlIG9mIHRoZSBtZWRpYSBhc3NldC4gVmFsaWQgdmFsdWVzOlxuICAgICAqIHN1YnRpdGxlc1xuICAgICAqIHdhdGVybWFya1xuICAgICAqIG9wZW5pbmdcbiAgICAgKiBlbmRpbmdcbiAgICAgKiBnZW5lcmFsXG4gICAgICovXG4gICAgcmVhZG9ubHkgYnVzaW5lc3NUeXBlPzogc3RyaW5nIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IGNhdGVJZDogVGhlIGNhdGVnb3J5IElELlxuICAgICAqL1xuICAgIHJlYWRvbmx5IGNhdGVJZD86IG51bWJlciB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIEBQcm9wZXJ0eSBjb3ZlclVybDogVGhlIHRodW1ibmFpbCBVUkwgb2YgdGhlIG1lZGlhIGFzc2V0LlxuICAgICAqIFRoZSB2YWx1ZSBjYW4gYmUgdXAgdG8gMTI4IGJ5dGVzIGluIGxlbmd0aC5cbiAgICAgKiBUaGUgdmFsdWUgbXVzdCBiZSBlbmNvZGVkIGluIFVURi04LlxuICAgICAqL1xuICAgIHJlYWRvbmx5IGNvdmVyVXJsPzogc3RyaW5nIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IGRlc2NyaXB0aW9uOiBUaGUgZGVzY3JpcHRpb24gb2YgdGhlIG1lZGlhIGFzc2V0LlxuICAgICAqIFRoZSB2YWx1ZSBjYW4gYmUgdXAgdG8gMSwwMjQgYnl0ZXMgaW4gbGVuZ3RoLlxuICAgICAqIFRoZSB2YWx1ZSBtdXN0IGJlIGVuY29kZWQgaW4gVVRGLTguXG4gICAgICovXG4gICAgcmVhZG9ubHkgZGVzY3JpcHRpb24/OiBzdHJpbmcgfCByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgbWVkaWFUYWdzOiBUaGUgdGFncyBvZiB0aGUgbWVkaWEgYXNzZXQuXG4gICAgICogVXAgdG8gMTYgdGFncyBhcmUgc3VwcG9ydGVkLlxuICAgICAqIFNlcGFyYXRlIG11bHRpcGxlIHRhZ3Mgd2l0aCBjb21tYXMgKCwpLlxuICAgICAqIEVhY2ggdGFnIGNhbiBiZSB1cCB0byAzMiBieXRlcyBpbiBsZW5ndGguXG4gICAgICogVGhlIHZhbHVlIG11c3QgYmUgZW5jb2RlZCBpbiBVVEYtOC5cbiAgICAgKi9cbiAgICByZWFkb25seSBtZWRpYVRhZ3M/OiBBcnJheTxzdHJpbmcgfCByb3MuSVJlc29sdmFibGU+IHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IG1lZGlhVHlwZTogVGhlIHR5cGUgb2YgdGhlIG1lZGlhIGFzc2V0LiBWYWxpZCB2YWx1ZXM6XG4gICAgICogaW1hZ2VcbiAgICAgKiB2aWRlb1xuICAgICAqIGF1ZGlvXG4gICAgICogdGV4dFxuICAgICAqIFdlIHJlY29tbWVuZCB0aGF0IHlvdSBzcGVjaWZ5IHRoaXMgcGFyYW1ldGVyIGJhc2VkIG9uIHlvdXIgYnVzaW5lc3MgcmVxdWlyZW1lbnRzLiBJZiB5b3Ugc2V0IElucHV0VVJMIHRvIGFuIE9TUyBVUkwsIHRoZSBtZWRpYSBhc3NldCB0eXBlIGNhbiBiZSBhdXRvbWF0aWNhbGx5IGRldGVybWluZWQgYmFzZWQgb24gdGhlIGZpbGUgbmFtZSBleHRlbnNpb24uIEZvciBtb3JlIGluZm9ybWF0aW9uXG4gICAgICogLlxuICAgICAqL1xuICAgIHJlYWRvbmx5IG1lZGlhVHlwZT86IHN0cmluZyB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIEBQcm9wZXJ0eSBvdmVyd3JpdGU6IFNwZWNpZmllcyB3aGV0aGVyIHRvIG92ZXJ3cml0ZSB0aGUgbWVkaWEgYXNzZXQgdGhhdCBoYXMgYmVlbiByZWdpc3RlcmVkIGJ5IHVzaW5nIHRoZSBzYW1lIFVSTC4gRGVmYXVsdCB2YWx1ZTogZmFsc2UuIFZhbGlkIHZhbHVlczpcbiAgICAgKiAtIHRydWU6IElmIGEgbWVkaWEgYXNzZXQgaGFzIGJlZW4gcmVnaXN0ZXJlZCBieSB1c2luZyB0aGUgc2FtZSBVUkwsIHRoZSBvcmlnaW5hbCBtZWRpYSBhc3NldCBpcyBkZWxldGVkIGFuZCB0aGUgbmV3IG1lZGlhIGFzc2V0IGlzIHJlZ2lzdGVyZWQuXG4gICAgICogLSBmYWxzZTogSWYgYSBtZWRpYSBhc3NldCBoYXMgYmVlbiByZWdpc3RlcmVkIGJ5IHVzaW5nIHRoZSBzYW1lIFVSTCwgdGhlIG5ldyBtZWRpYSBhc3NldCBpcyBub3QgcmVnaXN0ZXJlZC4gQSBVUkwgY2Fubm90IGJlIHVzZWQgdG8gcmVnaXN0ZXIgbXVsdGlwbGUgbWVkaWEgYXNzZXRzLlxuICAgICAqL1xuICAgIHJlYWRvbmx5IG92ZXJ3cml0ZT86IGJvb2xlYW4gfCByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgcmVmZXJlbmNlSWQ6IFRoZSBjdXN0b20gSUQuIFRoZSBJRCBjYW4gYmUgNiB0byA2NCBjaGFyYWN0ZXJzIGluIGxlbmd0aCBhbmQgY2FuIGNvbnRhaW4gb25seSBsZXR0ZXJzLCBkaWdpdHMsIGh5cGhlbnMgKC0pLCBhbmQgdW5kZXJzY29yZXMgKF8pLiBNYWtlIHN1cmUgdGhhdCB0aGUgSUQgaXMgdW5pcXVlIGFtb25nIHVzZXJzLlxuICAgICAqL1xuICAgIHJlYWRvbmx5IHJlZmVyZW5jZUlkPzogc3RyaW5nIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IHJlZ2lzdGVyQ29uZmlnOiBUaGUgcmVnaXN0cmF0aW9uIGNvbmZpZ3VyYXRpb25zLlxuICAgICAqIEJ5IGRlZmF1bHQsIGEgc3ByaXRlIGlzIGdlbmVyYXRlZCBmb3IgdGhlIG1lZGlhIGFzc2V0LiBZb3UgY2FuIHNldCBOZWVkU3ByaXRlIHRvIGZhbHNlIHRvIGRpc2FibGUgYXV0b21hdGljIHNwcml0ZSBnZW5lcmF0aW9uLlxuICAgICAqIEJ5IGRlZmF1bHQsIGEgc25hcHNob3QgaXMgZ2VuZXJhdGVkIGZvciB0aGUgbWVkaWEgYXNzZXQuIFlvdSBjYW4gc2V0IE5lZWRTbmFwc2hvdCB0byBmYWxzZSB0byBkaXNhYmxlIGF1dG9tYXRpYyBzbmFwc2hvdCBnZW5lcmF0aW9uLlxuICAgICAqL1xuICAgIHJlYWRvbmx5IHJlZ2lzdGVyQ29uZmlnPzogc3RyaW5nIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IHNtYXJ0VGFnVGVtcGxhdGVJZDogVGhlIElEIG9mIHRoZSBzbWFydCB0YWdnaW5nIHRlbXBsYXRlLiBWYWxpZCB2YWx1ZXM6XG4gICAgICogUzAwMDAwMTAxLTMwMDA4MDogdGhlIHN5c3RlbSB0ZW1wbGF0ZSB0aGF0IHN1cHBvcnRzIG5hdHVyYWwgbGFuZ3VhZ2UgcHJvY2Vzc2luZyAoTkxQKSBmb3IgY29udGVudCByZWNvZ25pdGlvbi5cbiAgICAgKiBTMDAwMDAxMDMtMDAwMDAxOiB0aGUgc3lzdGVtIHRlbXBsYXRlIHRoYXQgc3VwcG9ydHMgTkxQIGZvciBjb250ZW50IHJlY29nbml0aW9uIGFuZCBhbGwgdGFnZ2luZyBjYXBhYmlsaXRpZXMuXG4gICAgICogUzAwMDAwMTAzLTAwMDAwMjogdGhlIHN5c3RlbSB0ZW1wbGF0ZSB0aGF0IHN1cHBvcnRzIGFsbCB0YWdnaW5nIGNhcGFiaWxpdGllcyBidXQgZG9lcyBub3Qgc3VwcG9ydCBOTFAgZm9yIGNvbnRlbnQgcmVjb2duaXRpb24uXG4gICAgICogQWZ0ZXIgeW91IGNvbmZpZ3VyZSB0aGlzIHBhcmFtZXRlciwgYSBzbWFydCB0YWcgYW5hbHlzaXMgdGFzayBpcyBhdXRvbWF0aWNhbGx5IGluaXRpYXRlZCBhZnRlciB0aGUgbWVkaWEgYXNzZXQgaXMgcmVnaXN0ZXJlZC4gRm9yIG1vcmUgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGJpbGxhYmxlIGl0ZW1zLlxuICAgICAqL1xuICAgIHJlYWRvbmx5IHNtYXJ0VGFnVGVtcGxhdGVJZD86IHN0cmluZyB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIEBQcm9wZXJ0eSB0aXRsZTogVGhlIHRpdGxlLiBJZiB5b3UgZG8gbm90IHNwZWNpZnkgdGhpcyBwYXJhbWV0ZXIsIGEgZGVmYXVsdCB0aXRsZSBpcyBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlZCBiYXNlZCBvbiB0aGUgZGF0ZS5cbiAgICAgKiBUaGUgdmFsdWUgY2FuIGJlIHVwIHRvIDEyOCBieXRlcyBpbiBsZW5ndGguXG4gICAgICogVGhlIHZhbHVlIG11c3QgYmUgZW5jb2RlZCBpbiBVVEYtOC5cbiAgICAgKi9cbiAgICByZWFkb25seSB0aXRsZT86IHN0cmluZyB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIEBQcm9wZXJ0eSB1c2VyRGF0YTogVGhlIHVzZXIgZGF0YS4gWW91IGNhbiBzcGVjaWZ5IGEgY3VzdG9tIGNhbGxiYWNrIFVSTC5cbiAgICAgKi9cbiAgICByZWFkb25seSB1c2VyRGF0YT86IHsgW2tleTogc3RyaW5nXTogKGFueSB8IHJvcy5JUmVzb2x2YWJsZSkgfSB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIEBQcm9wZXJ0eSB3b3JrZmxvd0lkOiBUaGUgd29ya2Zsb3cgSUQuXG4gICAgICovXG4gICAgcmVhZG9ubHkgd29ya2Zsb3dJZD86IHN0cmluZyB8IHJvcy5JUmVzb2x2YWJsZTtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgd2hldGhlciB0aGUgZ2l2ZW4gcHJvcGVydGllcyBtYXRjaCB0aG9zZSBvZiBhIGBSb3NNZWRpYUluZm9Qcm9wc2BcbiAqXG4gKiBAcGFyYW0gcHJvcGVydGllcyAtIHRoZSBUeXBlU2NyaXB0IHByb3BlcnRpZXMgb2YgYSBgUm9zTWVkaWFJbmZvUHJvcHNgXG4gKlxuICogQHJldHVybnMgdGhlIHJlc3VsdCBvZiB0aGUgdmFsaWRhdGlvbi5cbiAqL1xuZnVuY3Rpb24gUm9zTWVkaWFJbmZvUHJvcHNWYWxpZGF0b3IocHJvcGVydGllczogYW55KTogcm9zLlZhbGlkYXRpb25SZXN1bHQge1xuICAgIGlmICghcm9zLmNhbkluc3BlY3QocHJvcGVydGllcykpIHsgcmV0dXJuIHJvcy5WQUxJREFUSU9OX1NVQ0NFU1M7IH1cbiAgICBjb25zdCBlcnJvcnMgPSBuZXcgcm9zLlZhbGlkYXRpb25SZXN1bHRzKCk7XG4gICAgZXJyb3JzLmNvbGxlY3Qocm9zLnByb3BlcnR5VmFsaWRhdG9yKCdyZWdpc3RlckNvbmZpZycsIHJvcy52YWxpZGF0ZVN0cmluZykocHJvcGVydGllcy5yZWdpc3RlckNvbmZpZykpO1xuICAgIGVycm9ycy5jb2xsZWN0KHJvcy5wcm9wZXJ0eVZhbGlkYXRvcignb3ZlcndyaXRlJywgcm9zLnZhbGlkYXRlQm9vbGVhbikocHJvcGVydGllcy5vdmVyd3JpdGUpKTtcbiAgICBpZihwcm9wZXJ0aWVzLmRlc2NyaXB0aW9uICYmIChBcnJheS5pc0FycmF5KHByb3BlcnRpZXMuZGVzY3JpcHRpb24pIHx8ICh0eXBlb2YgcHJvcGVydGllcy5kZXNjcmlwdGlvbikgPT09ICdzdHJpbmcnKSkge1xuICAgICAgICBlcnJvcnMuY29sbGVjdChyb3MucHJvcGVydHlWYWxpZGF0b3IoJ2Rlc2NyaXB0aW9uJywgcm9zLnZhbGlkYXRlTGVuZ3RoKSh7XG4gICAgICAgICAgICBkYXRhOiBwcm9wZXJ0aWVzLmRlc2NyaXB0aW9uLmxlbmd0aCxcbiAgICAgICAgICAgIG1pbjogdW5kZWZpbmVkLFxuICAgICAgICAgICAgbWF4OiAxMDI0LFxuICAgICAgICAgIH0pKTtcbiAgICB9XG4gICAgZXJyb3JzLmNvbGxlY3Qocm9zLnByb3BlcnR5VmFsaWRhdG9yKCdkZXNjcmlwdGlvbicsIHJvcy52YWxpZGF0ZVN0cmluZykocHJvcGVydGllcy5kZXNjcmlwdGlvbikpO1xuICAgIGVycm9ycy5jb2xsZWN0KHJvcy5wcm9wZXJ0eVZhbGlkYXRvcigndXNlckRhdGEnLCByb3MuaGFzaFZhbGlkYXRvcihyb3MudmFsaWRhdGVBbnkpKShwcm9wZXJ0aWVzLnVzZXJEYXRhKSk7XG4gICAgaWYocHJvcGVydGllcy5idXNpbmVzc1R5cGUgJiYgKHR5cGVvZiBwcm9wZXJ0aWVzLmJ1c2luZXNzVHlwZSkgIT09ICdvYmplY3QnKSB7XG4gICAgICAgIGVycm9ycy5jb2xsZWN0KHJvcy5wcm9wZXJ0eVZhbGlkYXRvcignYnVzaW5lc3NUeXBlJywgcm9zLnZhbGlkYXRlQWxsb3dlZFZhbHVlcykoe1xuICAgICAgICAgIGRhdGE6IHByb3BlcnRpZXMuYnVzaW5lc3NUeXBlLFxuICAgICAgICAgIGFsbG93ZWRWYWx1ZXM6IFtcInN1YnRpdGxlc1wiLFwid2F0ZXJtYXJrXCIsXCJvcGVuaW5nXCIsXCJlbmRpbmdcIixcImdlbmVyYWxcIl0sXG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgZXJyb3JzLmNvbGxlY3Qocm9zLnByb3BlcnR5VmFsaWRhdG9yKCdidXNpbmVzc1R5cGUnLCByb3MudmFsaWRhdGVTdHJpbmcpKHByb3BlcnRpZXMuYnVzaW5lc3NUeXBlKSk7XG4gICAgaWYocHJvcGVydGllcy50aXRsZSAmJiAoQXJyYXkuaXNBcnJheShwcm9wZXJ0aWVzLnRpdGxlKSB8fCAodHlwZW9mIHByb3BlcnRpZXMudGl0bGUpID09PSAnc3RyaW5nJykpIHtcbiAgICAgICAgZXJyb3JzLmNvbGxlY3Qocm9zLnByb3BlcnR5VmFsaWRhdG9yKCd0aXRsZScsIHJvcy52YWxpZGF0ZUxlbmd0aCkoe1xuICAgICAgICAgICAgZGF0YTogcHJvcGVydGllcy50aXRsZS5sZW5ndGgsXG4gICAgICAgICAgICBtaW46IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIG1heDogMTI4LFxuICAgICAgICAgIH0pKTtcbiAgICB9XG4gICAgZXJyb3JzLmNvbGxlY3Qocm9zLnByb3BlcnR5VmFsaWRhdG9yKCd0aXRsZScsIHJvcy52YWxpZGF0ZVN0cmluZykocHJvcGVydGllcy50aXRsZSkpO1xuICAgIGVycm9ycy5jb2xsZWN0KHJvcy5wcm9wZXJ0eVZhbGlkYXRvcignY2F0ZUlkJywgcm9zLnZhbGlkYXRlTnVtYmVyKShwcm9wZXJ0aWVzLmNhdGVJZCkpO1xuICAgIGVycm9ycy5jb2xsZWN0KHJvcy5wcm9wZXJ0eVZhbGlkYXRvcignd29ya2Zsb3dJZCcsIHJvcy52YWxpZGF0ZVN0cmluZykocHJvcGVydGllcy53b3JrZmxvd0lkKSk7XG4gICAgZXJyb3JzLmNvbGxlY3Qocm9zLnByb3BlcnR5VmFsaWRhdG9yKCdpbnB1dFVybCcsIHJvcy5yZXF1aXJlZFZhbGlkYXRvcikocHJvcGVydGllcy5pbnB1dFVybCkpO1xuICAgIGVycm9ycy5jb2xsZWN0KHJvcy5wcm9wZXJ0eVZhbGlkYXRvcignaW5wdXRVcmwnLCByb3MudmFsaWRhdGVTdHJpbmcpKHByb3BlcnRpZXMuaW5wdXRVcmwpKTtcbiAgICBpZihwcm9wZXJ0aWVzLnNtYXJ0VGFnVGVtcGxhdGVJZCAmJiAodHlwZW9mIHByb3BlcnRpZXMuc21hcnRUYWdUZW1wbGF0ZUlkKSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgZXJyb3JzLmNvbGxlY3Qocm9zLnByb3BlcnR5VmFsaWRhdG9yKCdzbWFydFRhZ1RlbXBsYXRlSWQnLCByb3MudmFsaWRhdGVBbGxvd2VkVmFsdWVzKSh7XG4gICAgICAgICAgZGF0YTogcHJvcGVydGllcy5zbWFydFRhZ1RlbXBsYXRlSWQsXG4gICAgICAgICAgYWxsb3dlZFZhbHVlczogW1wiUzAwMDAwMTAxLTMwMDA4MFwiLFwiUzAwMDAwMTAzLTAwMDAwMVwiLFwiUzAwMDAwMTAzLTAwMDAwMlwiXSxcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBlcnJvcnMuY29sbGVjdChyb3MucHJvcGVydHlWYWxpZGF0b3IoJ3NtYXJ0VGFnVGVtcGxhdGVJZCcsIHJvcy52YWxpZGF0ZVN0cmluZykocHJvcGVydGllcy5zbWFydFRhZ1RlbXBsYXRlSWQpKTtcbiAgICBpZihwcm9wZXJ0aWVzLnJlZmVyZW5jZUlkICYmIChBcnJheS5pc0FycmF5KHByb3BlcnRpZXMucmVmZXJlbmNlSWQpIHx8ICh0eXBlb2YgcHJvcGVydGllcy5yZWZlcmVuY2VJZCkgPT09ICdzdHJpbmcnKSkge1xuICAgICAgICBlcnJvcnMuY29sbGVjdChyb3MucHJvcGVydHlWYWxpZGF0b3IoJ3JlZmVyZW5jZUlkJywgcm9zLnZhbGlkYXRlTGVuZ3RoKSh7XG4gICAgICAgICAgICBkYXRhOiBwcm9wZXJ0aWVzLnJlZmVyZW5jZUlkLmxlbmd0aCxcbiAgICAgICAgICAgIG1pbjogNixcbiAgICAgICAgICAgIG1heDogNjQsXG4gICAgICAgICAgfSkpO1xuICAgIH1cbiAgICBlcnJvcnMuY29sbGVjdChyb3MucHJvcGVydHlWYWxpZGF0b3IoJ3JlZmVyZW5jZUlkJywgcm9zLnZhbGlkYXRlU3RyaW5nKShwcm9wZXJ0aWVzLnJlZmVyZW5jZUlkKSk7XG4gICAgaWYocHJvcGVydGllcy5tZWRpYVR5cGUgJiYgKHR5cGVvZiBwcm9wZXJ0aWVzLm1lZGlhVHlwZSkgIT09ICdvYmplY3QnKSB7XG4gICAgICAgIGVycm9ycy5jb2xsZWN0KHJvcy5wcm9wZXJ0eVZhbGlkYXRvcignbWVkaWFUeXBlJywgcm9zLnZhbGlkYXRlQWxsb3dlZFZhbHVlcykoe1xuICAgICAgICAgIGRhdGE6IHByb3BlcnRpZXMubWVkaWFUeXBlLFxuICAgICAgICAgIGFsbG93ZWRWYWx1ZXM6IFtcImltYWdlXCIsXCJ2aWRlb1wiLFwiYXVkaW9cIixcInRleHRcIl0sXG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgZXJyb3JzLmNvbGxlY3Qocm9zLnByb3BlcnR5VmFsaWRhdG9yKCdtZWRpYVR5cGUnLCByb3MudmFsaWRhdGVTdHJpbmcpKHByb3BlcnRpZXMubWVkaWFUeXBlKSk7XG4gICAgaWYocHJvcGVydGllcy5jb3ZlclVybCAmJiAoQXJyYXkuaXNBcnJheShwcm9wZXJ0aWVzLmNvdmVyVXJsKSB8fCAodHlwZW9mIHByb3BlcnRpZXMuY292ZXJVcmwpID09PSAnc3RyaW5nJykpIHtcbiAgICAgICAgZXJyb3JzLmNvbGxlY3Qocm9zLnByb3BlcnR5VmFsaWRhdG9yKCdjb3ZlclVybCcsIHJvcy52YWxpZGF0ZUxlbmd0aCkoe1xuICAgICAgICAgICAgZGF0YTogcHJvcGVydGllcy5jb3ZlclVybC5sZW5ndGgsXG4gICAgICAgICAgICBtaW46IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIG1heDogMTI4LFxuICAgICAgICAgIH0pKTtcbiAgICB9XG4gICAgZXJyb3JzLmNvbGxlY3Qocm9zLnByb3BlcnR5VmFsaWRhdG9yKCdjb3ZlclVybCcsIHJvcy52YWxpZGF0ZVN0cmluZykocHJvcGVydGllcy5jb3ZlclVybCkpO1xuICAgIGlmKHByb3BlcnRpZXMubWVkaWFUYWdzICYmIChBcnJheS5pc0FycmF5KHByb3BlcnRpZXMubWVkaWFUYWdzKSB8fCAodHlwZW9mIHByb3BlcnRpZXMubWVkaWFUYWdzKSA9PT0gJ3N0cmluZycpKSB7XG4gICAgICAgIGVycm9ycy5jb2xsZWN0KHJvcy5wcm9wZXJ0eVZhbGlkYXRvcignbWVkaWFUYWdzJywgcm9zLnZhbGlkYXRlTGVuZ3RoKSh7XG4gICAgICAgICAgICBkYXRhOiBwcm9wZXJ0aWVzLm1lZGlhVGFncy5sZW5ndGgsXG4gICAgICAgICAgICBtaW46IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIG1heDogMTYsXG4gICAgICAgICAgfSkpO1xuICAgIH1cbiAgICBlcnJvcnMuY29sbGVjdChyb3MucHJvcGVydHlWYWxpZGF0b3IoJ21lZGlhVGFncycsIHJvcy5saXN0VmFsaWRhdG9yKHJvcy52YWxpZGF0ZVN0cmluZykpKHByb3BlcnRpZXMubWVkaWFUYWdzKSk7XG4gICAgcmV0dXJuIGVycm9ycy53cmFwKCdzdXBwbGllZCBwcm9wZXJ0aWVzIG5vdCBjb3JyZWN0IGZvciBcIlJvc01lZGlhSW5mb1Byb3BzXCInKTtcbn1cblxuLyoqXG4gKiBSZW5kZXJzIHRoZSBBbGlDbG91ZCBST1MgUmVzb3VyY2UgcHJvcGVydGllcyBvZiBhbiBgQUxJWVVOOjpJQ0U6Ok1lZGlhSW5mb2AgcmVzb3VyY2VcbiAqXG4gKiBAcGFyYW0gcHJvcGVydGllcyAtIHRoZSBUeXBlU2NyaXB0IHByb3BlcnRpZXMgb2YgYSBgUm9zTWVkaWFJbmZvUHJvcHNgXG4gKlxuICogQHJldHVybnMgdGhlIEFsaUNsb3VkIFJPUyBSZXNvdXJjZSBwcm9wZXJ0aWVzIG9mIGFuIGBBTElZVU46OklDRTo6TWVkaWFJbmZvYCByZXNvdXJjZS5cbiAqL1xuLy8gQHRzLWlnbm9yZSBUUzYxMzNcbmZ1bmN0aW9uIHJvc01lZGlhSW5mb1Byb3BzVG9Sb3NUZW1wbGF0ZShwcm9wZXJ0aWVzOiBhbnksIGVuYWJsZVJlc291cmNlUHJvcGVydHlDb25zdHJhaW50OiBib29sZWFuKTogYW55IHtcbiAgICBpZiAoIXJvcy5jYW5JbnNwZWN0KHByb3BlcnRpZXMpKSB7IHJldHVybiBwcm9wZXJ0aWVzOyB9XG4gICAgaWYoZW5hYmxlUmVzb3VyY2VQcm9wZXJ0eUNvbnN0cmFpbnQpIHtcbiAgICAgICAgUm9zTWVkaWFJbmZvUHJvcHNWYWxpZGF0b3IocHJvcGVydGllcykuYXNzZXJ0U3VjY2VzcygpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgJ0lucHV0VVJMJzogcm9zLnN0cmluZ1RvUm9zVGVtcGxhdGUocHJvcGVydGllcy5pbnB1dFVybCksXG4gICAgICAnQnVzaW5lc3NUeXBlJzogcm9zLnN0cmluZ1RvUm9zVGVtcGxhdGUocHJvcGVydGllcy5idXNpbmVzc1R5cGUpLFxuICAgICAgJ0NhdGVJZCc6IHJvcy5udW1iZXJUb1Jvc1RlbXBsYXRlKHByb3BlcnRpZXMuY2F0ZUlkKSxcbiAgICAgICdDb3ZlclVSTCc6IHJvcy5zdHJpbmdUb1Jvc1RlbXBsYXRlKHByb3BlcnRpZXMuY292ZXJVcmwpLFxuICAgICAgJ0Rlc2NyaXB0aW9uJzogcm9zLnN0cmluZ1RvUm9zVGVtcGxhdGUocHJvcGVydGllcy5kZXNjcmlwdGlvbiksXG4gICAgICAnTWVkaWFUYWdzJzogcm9zLmxpc3RNYXBwZXIocm9zLnN0cmluZ1RvUm9zVGVtcGxhdGUpKHByb3BlcnRpZXMubWVkaWFUYWdzKSxcbiAgICAgICdNZWRpYVR5cGUnOiByb3Muc3RyaW5nVG9Sb3NUZW1wbGF0ZShwcm9wZXJ0aWVzLm1lZGlhVHlwZSksXG4gICAgICAnT3ZlcndyaXRlJzogcm9zLmJvb2xlYW5Ub1Jvc1RlbXBsYXRlKHByb3BlcnRpZXMub3ZlcndyaXRlKSxcbiAgICAgICdSZWZlcmVuY2VJZCc6IHJvcy5zdHJpbmdUb1Jvc1RlbXBsYXRlKHByb3BlcnRpZXMucmVmZXJlbmNlSWQpLFxuICAgICAgJ1JlZ2lzdGVyQ29uZmlnJzogcm9zLnN0cmluZ1RvUm9zVGVtcGxhdGUocHJvcGVydGllcy5yZWdpc3RlckNvbmZpZyksXG4gICAgICAnU21hcnRUYWdUZW1wbGF0ZUlkJzogcm9zLnN0cmluZ1RvUm9zVGVtcGxhdGUocHJvcGVydGllcy5zbWFydFRhZ1RlbXBsYXRlSWQpLFxuICAgICAgJ1RpdGxlJzogcm9zLnN0cmluZ1RvUm9zVGVtcGxhdGUocHJvcGVydGllcy50aXRsZSksXG4gICAgICAnVXNlckRhdGEnOiByb3MuaGFzaE1hcHBlcihyb3Mub2JqZWN0VG9Sb3NUZW1wbGF0ZSkocHJvcGVydGllcy51c2VyRGF0YSksXG4gICAgICAnV29ya2Zsb3dJZCc6IHJvcy5zdHJpbmdUb1Jvc1RlbXBsYXRlKHByb3BlcnRpZXMud29ya2Zsb3dJZCksXG4gICAgfTtcbn1cblxuLyoqXG4gKiBUaGlzIGNsYXNzIGlzIGEgYmFzZSBlbmNhcHN1bGF0aW9uIGFyb3VuZCB0aGUgUk9TIHJlc291cmNlIHR5cGUgYEFMSVlVTjo6SUNFOjpNZWRpYUluZm9gLlxuICogQE5vdGUgVGhpcyBjbGFzcyBkb2VzIG5vdCBjb250YWluIGFkZGl0aW9uYWwgZnVuY3Rpb25zLCBzbyBpdCBpcyByZWNvbW1lbmRlZCB0byB1c2UgdGhlIGBNZWRpYUluZm9gIGNsYXNzIGluc3RlYWQgb2YgdGhpcyBjbGFzcyBmb3IgYSBtb3JlIGNvbnZlbmllbnQgZGV2ZWxvcG1lbnQgZXhwZXJpZW5jZS5cbiAqIFNlZSBodHRwczovL3d3dy5hbGliYWJhY2xvdWQuY29tL2hlbHAvcm9zL2RldmVsb3Blci1yZWZlcmVuY2UvYWxpeXVuLWljZS1tZWRpYWluZm9cbiAqL1xuZXhwb3J0IGNsYXNzIFJvc01lZGlhSW5mbyBleHRlbmRzIHJvcy5Sb3NSZXNvdXJjZSB7XG4gICAgLyoqXG4gICAgICogVGhlIHJlc291cmNlIHR5cGUgbmFtZSBmb3IgdGhpcyByZXNvdXJjZSBjbGFzcy5cbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFJPU19SRVNPVVJDRV9UWVBFX05BTUUgPSBcIkFMSVlVTjo6SUNFOjpNZWRpYUluZm9cIjtcblxuICAgIC8qKlxuICAgICAqIEBBdHRyaWJ1dGUgTWVkaWFJZDogVGhlIElEIG9mIHRoZSBtZWRpYSBhc3NldCBpbiBJTVMuXG4gICAgICovXG4gICAgcHVibGljIHJlYWRvbmx5IGF0dHJNZWRpYUlkOiByb3MuSVJlc29sdmFibGU7XG5cbiAgICBwdWJsaWMgZW5hYmxlUmVzb3VyY2VQcm9wZXJ0eUNvbnN0cmFpbnQ6IGJvb2xlYW47XG5cblxuICAgIC8qKlxuICAgICAqIEBQcm9wZXJ0eSBpbnB1dFVybDogVGhlIFVSTCBvZiB0aGUgbWVkaWEgYXNzZXQgaW4gYW5vdGhlciBzZXJ2aWNlLiBUaGUgVVJMIGlzIGFzc29jaWF0ZWQgd2l0aCB0aGUgSUQgb2YgdGhlIG1lZGlhIGFzc2V0IGluIElNUy4gVGhlIFVSTCBjYW5ub3QgYmUgbW9kaWZpZWQgb25jZSByZWdpc3RlcmVkLiBUaGUgZm9sbG93aW5nIHR5cGVzIG9mIFVSTHMgYXJlIHN1cHBvcnRlZDpcbiAgICAgKiBPU1MgVVJMIGluIG9uZSBvZiB0aGUgZm9sbG93aW5nIGZvcm1hdHM6XG4gICAgICogaHR0cChzKTpcXC9cXC9leGFtcGxlLWJ1Y2tldC5vc3MtY24tc2hhbmdoYWkuYWxpeXVuY3MuY29tXFwvZXhhbXBsZS5tcDRcbiAgICAgKiBvc3M6XFwvXFwvZXhhbXBsZS1idWNrZXRcXC9leGFtcGxlLm1wNDogSW4gdGhpcyBmb3JtYXQsIGl0IGlzIGNvbnNpZGVyZWQgYnkgZGVmYXVsdCB0aGF0IHRoZSByZWdpb24gb2YgdGhlIE9TUyBidWNrZXQgaW4gd2hpY2ggdGhlIG1lZGlhIGFzc2V0IHJlc2lkZXMgaXMgdGhlIHNhbWUgYXMgdGhlIHJlZ2lvbiBpbiB3aGljaCBJTVMgaXMgYWN0aXZhdGVkLlxuICAgICAqIFVSTCBvZiBhbiBBcHNhcmFWaWRlbyBWT0QgbWVkaWEgYXNzZXRcbiAgICAgKiB2b2Q6XFwvXFwvKioqMjBiNDhmYjA0NDgzOTE1ZDRmMmNkOGFjKioqKlxuICAgICAqL1xuICAgIHB1YmxpYyBpbnB1dFVybDogc3RyaW5nIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IGJ1c2luZXNzVHlwZTogVGhlIGJ1c2luZXNzIHR5cGUgb2YgdGhlIG1lZGlhIGFzc2V0LiBWYWxpZCB2YWx1ZXM6XG4gICAgICogc3VidGl0bGVzXG4gICAgICogd2F0ZXJtYXJrXG4gICAgICogb3BlbmluZ1xuICAgICAqIGVuZGluZ1xuICAgICAqIGdlbmVyYWxcbiAgICAgKi9cbiAgICBwdWJsaWMgYnVzaW5lc3NUeXBlOiBzdHJpbmcgfCByb3MuSVJlc29sdmFibGUgfCB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgY2F0ZUlkOiBUaGUgY2F0ZWdvcnkgSUQuXG4gICAgICovXG4gICAgcHVibGljIGNhdGVJZDogbnVtYmVyIHwgcm9zLklSZXNvbHZhYmxlIHwgdW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IGNvdmVyVXJsOiBUaGUgdGh1bWJuYWlsIFVSTCBvZiB0aGUgbWVkaWEgYXNzZXQuXG4gICAgICogVGhlIHZhbHVlIGNhbiBiZSB1cCB0byAxMjggYnl0ZXMgaW4gbGVuZ3RoLlxuICAgICAqIFRoZSB2YWx1ZSBtdXN0IGJlIGVuY29kZWQgaW4gVVRGLTguXG4gICAgICovXG4gICAgcHVibGljIGNvdmVyVXJsOiBzdHJpbmcgfCByb3MuSVJlc29sdmFibGUgfCB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgZGVzY3JpcHRpb246IFRoZSBkZXNjcmlwdGlvbiBvZiB0aGUgbWVkaWEgYXNzZXQuXG4gICAgICogVGhlIHZhbHVlIGNhbiBiZSB1cCB0byAxLDAyNCBieXRlcyBpbiBsZW5ndGguXG4gICAgICogVGhlIHZhbHVlIG11c3QgYmUgZW5jb2RlZCBpbiBVVEYtOC5cbiAgICAgKi9cbiAgICBwdWJsaWMgZGVzY3JpcHRpb246IHN0cmluZyB8IHJvcy5JUmVzb2x2YWJsZSB8IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIEBQcm9wZXJ0eSBtZWRpYVRhZ3M6IFRoZSB0YWdzIG9mIHRoZSBtZWRpYSBhc3NldC5cbiAgICAgKiBVcCB0byAxNiB0YWdzIGFyZSBzdXBwb3J0ZWQuXG4gICAgICogU2VwYXJhdGUgbXVsdGlwbGUgdGFncyB3aXRoIGNvbW1hcyAoLCkuXG4gICAgICogRWFjaCB0YWcgY2FuIGJlIHVwIHRvIDMyIGJ5dGVzIGluIGxlbmd0aC5cbiAgICAgKiBUaGUgdmFsdWUgbXVzdCBiZSBlbmNvZGVkIGluIFVURi04LlxuICAgICAqL1xuICAgIHB1YmxpYyBtZWRpYVRhZ3M6IEFycmF5PHN0cmluZyB8IHJvcy5JUmVzb2x2YWJsZT4gfCByb3MuSVJlc29sdmFibGUgfCB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgbWVkaWFUeXBlOiBUaGUgdHlwZSBvZiB0aGUgbWVkaWEgYXNzZXQuIFZhbGlkIHZhbHVlczpcbiAgICAgKiBpbWFnZVxuICAgICAqIHZpZGVvXG4gICAgICogYXVkaW9cbiAgICAgKiB0ZXh0XG4gICAgICogV2UgcmVjb21tZW5kIHRoYXQgeW91IHNwZWNpZnkgdGhpcyBwYXJhbWV0ZXIgYmFzZWQgb24geW91ciBidXNpbmVzcyByZXF1aXJlbWVudHMuIElmIHlvdSBzZXQgSW5wdXRVUkwgdG8gYW4gT1NTIFVSTCwgdGhlIG1lZGlhIGFzc2V0IHR5cGUgY2FuIGJlIGF1dG9tYXRpY2FsbHkgZGV0ZXJtaW5lZCBiYXNlZCBvbiB0aGUgZmlsZSBuYW1lIGV4dGVuc2lvbi4gRm9yIG1vcmUgaW5mb3JtYXRpb25cbiAgICAgKiAuXG4gICAgICovXG4gICAgcHVibGljIG1lZGlhVHlwZTogc3RyaW5nIHwgcm9zLklSZXNvbHZhYmxlIHwgdW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IG92ZXJ3cml0ZTogU3BlY2lmaWVzIHdoZXRoZXIgdG8gb3ZlcndyaXRlIHRoZSBtZWRpYSBhc3NldCB0aGF0IGhhcyBiZWVuIHJlZ2lzdGVyZWQgYnkgdXNpbmcgdGhlIHNhbWUgVVJMLiBEZWZhdWx0IHZhbHVlOiBmYWxzZS4gVmFsaWQgdmFsdWVzOlxuICAgICAqIC0gdHJ1ZTogSWYgYSBtZWRpYSBhc3NldCBoYXMgYmVlbiByZWdpc3RlcmVkIGJ5IHVzaW5nIHRoZSBzYW1lIFVSTCwgdGhlIG9yaWdpbmFsIG1lZGlhIGFzc2V0IGlzIGRlbGV0ZWQgYW5kIHRoZSBuZXcgbWVkaWEgYXNzZXQgaXMgcmVnaXN0ZXJlZC5cbiAgICAgKiAtIGZhbHNlOiBJZiBhIG1lZGlhIGFzc2V0IGhhcyBiZWVuIHJlZ2lzdGVyZWQgYnkgdXNpbmcgdGhlIHNhbWUgVVJMLCB0aGUgbmV3IG1lZGlhIGFzc2V0IGlzIG5vdCByZWdpc3RlcmVkLiBBIFVSTCBjYW5ub3QgYmUgdXNlZCB0byByZWdpc3RlciBtdWx0aXBsZSBtZWRpYSBhc3NldHMuXG4gICAgICovXG4gICAgcHVibGljIG92ZXJ3cml0ZTogYm9vbGVhbiB8IHJvcy5JUmVzb2x2YWJsZSB8IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIEBQcm9wZXJ0eSByZWZlcmVuY2VJZDogVGhlIGN1c3RvbSBJRC4gVGhlIElEIGNhbiBiZSA2IHRvIDY0IGNoYXJhY3RlcnMgaW4gbGVuZ3RoIGFuZCBjYW4gY29udGFpbiBvbmx5IGxldHRlcnMsIGRpZ2l0cywgaHlwaGVucyAoLSksIGFuZCB1bmRlcnNjb3JlcyAoXykuIE1ha2Ugc3VyZSB0aGF0IHRoZSBJRCBpcyB1bmlxdWUgYW1vbmcgdXNlcnMuXG4gICAgICovXG4gICAgcHVibGljIHJlZmVyZW5jZUlkOiBzdHJpbmcgfCByb3MuSVJlc29sdmFibGUgfCB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgcmVnaXN0ZXJDb25maWc6IFRoZSByZWdpc3RyYXRpb24gY29uZmlndXJhdGlvbnMuXG4gICAgICogQnkgZGVmYXVsdCwgYSBzcHJpdGUgaXMgZ2VuZXJhdGVkIGZvciB0aGUgbWVkaWEgYXNzZXQuIFlvdSBjYW4gc2V0IE5lZWRTcHJpdGUgdG8gZmFsc2UgdG8gZGlzYWJsZSBhdXRvbWF0aWMgc3ByaXRlIGdlbmVyYXRpb24uXG4gICAgICogQnkgZGVmYXVsdCwgYSBzbmFwc2hvdCBpcyBnZW5lcmF0ZWQgZm9yIHRoZSBtZWRpYSBhc3NldC4gWW91IGNhbiBzZXQgTmVlZFNuYXBzaG90IHRvIGZhbHNlIHRvIGRpc2FibGUgYXV0b21hdGljIHNuYXBzaG90IGdlbmVyYXRpb24uXG4gICAgICovXG4gICAgcHVibGljIHJlZ2lzdGVyQ29uZmlnOiBzdHJpbmcgfCByb3MuSVJlc29sdmFibGUgfCB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgc21hcnRUYWdUZW1wbGF0ZUlkOiBUaGUgSUQgb2YgdGhlIHNtYXJ0IHRhZ2dpbmcgdGVtcGxhdGUuIFZhbGlkIHZhbHVlczpcbiAgICAgKiBTMDAwMDAxMDEtMzAwMDgwOiB0aGUgc3lzdGVtIHRlbXBsYXRlIHRoYXQgc3VwcG9ydHMgbmF0dXJhbCBsYW5ndWFnZSBwcm9jZXNzaW5nIChOTFApIGZvciBjb250ZW50IHJlY29nbml0aW9uLlxuICAgICAqIFMwMDAwMDEwMy0wMDAwMDE6IHRoZSBzeXN0ZW0gdGVtcGxhdGUgdGhhdCBzdXBwb3J0cyBOTFAgZm9yIGNvbnRlbnQgcmVjb2duaXRpb24gYW5kIGFsbCB0YWdnaW5nIGNhcGFiaWxpdGllcy5cbiAgICAgKiBTMDAwMDAxMDMtMDAwMDAyOiB0aGUgc3lzdGVtIHRlbXBsYXRlIHRoYXQgc3VwcG9ydHMgYWxsIHRhZ2dpbmcgY2FwYWJpbGl0aWVzIGJ1dCBkb2VzIG5vdCBzdXBwb3J0IE5MUCBmb3IgY29udGVudCByZWNvZ25pdGlvbi5cbiAgICAgKiBBZnRlciB5b3UgY29uZmlndXJlIHRoaXMgcGFyYW1ldGVyLCBhIHNtYXJ0IHRhZyBhbmFseXNpcyB0YXNrIGlzIGF1dG9tYXRpY2FsbHkgaW5pdGlhdGVkIGFmdGVyIHRoZSBtZWRpYSBhc3NldCBpcyByZWdpc3RlcmVkLiBGb3IgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCB0aGUgYmlsbGFibGUgaXRlbXMuXG4gICAgICovXG4gICAgcHVibGljIHNtYXJ0VGFnVGVtcGxhdGVJZDogc3RyaW5nIHwgcm9zLklSZXNvbHZhYmxlIHwgdW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IHRpdGxlOiBUaGUgdGl0bGUuIElmIHlvdSBkbyBub3Qgc3BlY2lmeSB0aGlzIHBhcmFtZXRlciwgYSBkZWZhdWx0IHRpdGxlIGlzIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkIGJhc2VkIG9uIHRoZSBkYXRlLlxuICAgICAqIFRoZSB2YWx1ZSBjYW4gYmUgdXAgdG8gMTI4IGJ5dGVzIGluIGxlbmd0aC5cbiAgICAgKiBUaGUgdmFsdWUgbXVzdCBiZSBlbmNvZGVkIGluIFVURi04LlxuICAgICAqL1xuICAgIHB1YmxpYyB0aXRsZTogc3RyaW5nIHwgcm9zLklSZXNvbHZhYmxlIHwgdW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IHVzZXJEYXRhOiBUaGUgdXNlciBkYXRhLiBZb3UgY2FuIHNwZWNpZnkgYSBjdXN0b20gY2FsbGJhY2sgVVJMLlxuICAgICAqL1xuICAgIHB1YmxpYyB1c2VyRGF0YTogeyBba2V5OiBzdHJpbmddOiAoYW55IHwgcm9zLklSZXNvbHZhYmxlKSB9IHwgcm9zLklSZXNvbHZhYmxlIHwgdW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IHdvcmtmbG93SWQ6IFRoZSB3b3JrZmxvdyBJRC5cbiAgICAgKi9cbiAgICBwdWJsaWMgd29ya2Zsb3dJZDogc3RyaW5nIHwgcm9zLklSZXNvbHZhYmxlIHwgdW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHNjb3BlIC0gc2NvcGUgaW4gd2hpY2ggdGhpcyByZXNvdXJjZSBpcyBkZWZpbmVkXG4gICAgICogQHBhcmFtIGlkICAgIC0gc2NvcGVkIGlkIG9mIHRoZSByZXNvdXJjZVxuICAgICAqIEBwYXJhbSBwcm9wcyAtIHJlc291cmNlIHByb3BlcnRpZXNcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihzY29wZTogcm9zLkNvbnN0cnVjdCwgaWQ6IHN0cmluZywgcHJvcHM6IFJvc01lZGlhSW5mb1Byb3BzLCBlbmFibGVSZXNvdXJjZVByb3BlcnR5Q29uc3RyYWludDogYm9vbGVhbikge1xuICAgICAgICBzdXBlcihzY29wZSwgaWQsIHsgdHlwZTogUm9zTWVkaWFJbmZvLlJPU19SRVNPVVJDRV9UWVBFX05BTUUsIHByb3BlcnRpZXM6IHByb3BzIH0pO1xuICAgICAgICB0aGlzLmF0dHJNZWRpYUlkID0gdGhpcy5nZXRBdHQoJ01lZGlhSWQnKTtcblxuICAgICAgICB0aGlzLmVuYWJsZVJlc291cmNlUHJvcGVydHlDb25zdHJhaW50ID0gZW5hYmxlUmVzb3VyY2VQcm9wZXJ0eUNvbnN0cmFpbnQ7XG4gICAgICAgIHRoaXMuaW5wdXRVcmwgPSBwcm9wcy5pbnB1dFVybDtcbiAgICAgICAgdGhpcy5idXNpbmVzc1R5cGUgPSBwcm9wcy5idXNpbmVzc1R5cGU7XG4gICAgICAgIHRoaXMuY2F0ZUlkID0gcHJvcHMuY2F0ZUlkO1xuICAgICAgICB0aGlzLmNvdmVyVXJsID0gcHJvcHMuY292ZXJVcmw7XG4gICAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSBwcm9wcy5kZXNjcmlwdGlvbjtcbiAgICAgICAgdGhpcy5tZWRpYVRhZ3MgPSBwcm9wcy5tZWRpYVRhZ3M7XG4gICAgICAgIHRoaXMubWVkaWFUeXBlID0gcHJvcHMubWVkaWFUeXBlO1xuICAgICAgICB0aGlzLm92ZXJ3cml0ZSA9IHByb3BzLm92ZXJ3cml0ZTtcbiAgICAgICAgdGhpcy5yZWZlcmVuY2VJZCA9IHByb3BzLnJlZmVyZW5jZUlkO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29uZmlnID0gcHJvcHMucmVnaXN0ZXJDb25maWc7XG4gICAgICAgIHRoaXMuc21hcnRUYWdUZW1wbGF0ZUlkID0gcHJvcHMuc21hcnRUYWdUZW1wbGF0ZUlkO1xuICAgICAgICB0aGlzLnRpdGxlID0gcHJvcHMudGl0bGU7XG4gICAgICAgIHRoaXMudXNlckRhdGEgPSBwcm9wcy51c2VyRGF0YTtcbiAgICAgICAgdGhpcy53b3JrZmxvd0lkID0gcHJvcHMud29ya2Zsb3dJZDtcbiAgICB9XG5cblxuICAgIHByb3RlY3RlZCBnZXQgcm9zUHJvcGVydGllcygpOiB7IFtrZXk6IHN0cmluZ106IGFueSB9ICB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpbnB1dFVybDogdGhpcy5pbnB1dFVybCxcbiAgICAgICAgICAgIGJ1c2luZXNzVHlwZTogdGhpcy5idXNpbmVzc1R5cGUsXG4gICAgICAgICAgICBjYXRlSWQ6IHRoaXMuY2F0ZUlkLFxuICAgICAgICAgICAgY292ZXJVcmw6IHRoaXMuY292ZXJVcmwsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogdGhpcy5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgIG1lZGlhVGFnczogdGhpcy5tZWRpYVRhZ3MsXG4gICAgICAgICAgICBtZWRpYVR5cGU6IHRoaXMubWVkaWFUeXBlLFxuICAgICAgICAgICAgb3ZlcndyaXRlOiB0aGlzLm92ZXJ3cml0ZSxcbiAgICAgICAgICAgIHJlZmVyZW5jZUlkOiB0aGlzLnJlZmVyZW5jZUlkLFxuICAgICAgICAgICAgcmVnaXN0ZXJDb25maWc6IHRoaXMucmVnaXN0ZXJDb25maWcsXG4gICAgICAgICAgICBzbWFydFRhZ1RlbXBsYXRlSWQ6IHRoaXMuc21hcnRUYWdUZW1wbGF0ZUlkLFxuICAgICAgICAgICAgdGl0bGU6IHRoaXMudGl0bGUsXG4gICAgICAgICAgICB1c2VyRGF0YTogdGhpcy51c2VyRGF0YSxcbiAgICAgICAgICAgIHdvcmtmbG93SWQ6IHRoaXMud29ya2Zsb3dJZCxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcHJvdGVjdGVkIHJlbmRlclByb3BlcnRpZXMocHJvcHM6IHtba2V5OiBzdHJpbmddOiBhbnl9KTogeyBba2V5OiBzdHJpbmddOiBhbnkgfSAge1xuICAgICAgICByZXR1cm4gcm9zTWVkaWFJbmZvUHJvcHNUb1Jvc1RlbXBsYXRlKHByb3BzLCB0aGlzLmVuYWJsZVJlc291cmNlUHJvcGVydHlDb25zdHJhaW50KTtcbiAgICB9XG59XG5cbi8qKlxuICogUHJvcGVydGllcyBmb3IgZGVmaW5pbmcgYSBgUm9zU2VhcmNoTGliYC5cbiAqIFNlZSBodHRwczovL3d3dy5hbGliYWJhY2xvdWQuY29tL2hlbHAvcm9zL2RldmVsb3Blci1yZWZlcmVuY2UvYWxpeXVuLWljZS1zZWFyY2hsaWJcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSb3NTZWFyY2hMaWJQcm9wcyB7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgc2VhcmNoTGliTmFtZTogVGhlIG5hbWUgb2YgdGhlIFNlYXJjaCBMaWIuXG4gICAgICovXG4gICAgcmVhZG9ubHkgc2VhcmNoTGliTmFtZTogc3RyaW5nIHwgcm9zLklSZXNvbHZhYmxlO1xufVxuXG4vKipcbiAqIERldGVybWluZSB3aGV0aGVyIHRoZSBnaXZlbiBwcm9wZXJ0aWVzIG1hdGNoIHRob3NlIG9mIGEgYFJvc1NlYXJjaExpYlByb3BzYFxuICpcbiAqIEBwYXJhbSBwcm9wZXJ0aWVzIC0gdGhlIFR5cGVTY3JpcHQgcHJvcGVydGllcyBvZiBhIGBSb3NTZWFyY2hMaWJQcm9wc2BcbiAqXG4gKiBAcmV0dXJucyB0aGUgcmVzdWx0IG9mIHRoZSB2YWxpZGF0aW9uLlxuICovXG5mdW5jdGlvbiBSb3NTZWFyY2hMaWJQcm9wc1ZhbGlkYXRvcihwcm9wZXJ0aWVzOiBhbnkpOiByb3MuVmFsaWRhdGlvblJlc3VsdCB7XG4gICAgaWYgKCFyb3MuY2FuSW5zcGVjdChwcm9wZXJ0aWVzKSkgeyByZXR1cm4gcm9zLlZBTElEQVRJT05fU1VDQ0VTUzsgfVxuICAgIGNvbnN0IGVycm9ycyA9IG5ldyByb3MuVmFsaWRhdGlvblJlc3VsdHMoKTtcbiAgICBlcnJvcnMuY29sbGVjdChyb3MucHJvcGVydHlWYWxpZGF0b3IoJ3NlYXJjaExpYk5hbWUnLCByb3MucmVxdWlyZWRWYWxpZGF0b3IpKHByb3BlcnRpZXMuc2VhcmNoTGliTmFtZSkpO1xuICAgIGVycm9ycy5jb2xsZWN0KHJvcy5wcm9wZXJ0eVZhbGlkYXRvcignc2VhcmNoTGliTmFtZScsIHJvcy52YWxpZGF0ZVN0cmluZykocHJvcGVydGllcy5zZWFyY2hMaWJOYW1lKSk7XG4gICAgcmV0dXJuIGVycm9ycy53cmFwKCdzdXBwbGllZCBwcm9wZXJ0aWVzIG5vdCBjb3JyZWN0IGZvciBcIlJvc1NlYXJjaExpYlByb3BzXCInKTtcbn1cblxuLyoqXG4gKiBSZW5kZXJzIHRoZSBBbGlDbG91ZCBST1MgUmVzb3VyY2UgcHJvcGVydGllcyBvZiBhbiBgQUxJWVVOOjpJQ0U6OlNlYXJjaExpYmAgcmVzb3VyY2VcbiAqXG4gKiBAcGFyYW0gcHJvcGVydGllcyAtIHRoZSBUeXBlU2NyaXB0IHByb3BlcnRpZXMgb2YgYSBgUm9zU2VhcmNoTGliUHJvcHNgXG4gKlxuICogQHJldHVybnMgdGhlIEFsaUNsb3VkIFJPUyBSZXNvdXJjZSBwcm9wZXJ0aWVzIG9mIGFuIGBBTElZVU46OklDRTo6U2VhcmNoTGliYCByZXNvdXJjZS5cbiAqL1xuLy8gQHRzLWlnbm9yZSBUUzYxMzNcbmZ1bmN0aW9uIHJvc1NlYXJjaExpYlByb3BzVG9Sb3NUZW1wbGF0ZShwcm9wZXJ0aWVzOiBhbnksIGVuYWJsZVJlc291cmNlUHJvcGVydHlDb25zdHJhaW50OiBib29sZWFuKTogYW55IHtcbiAgICBpZiAoIXJvcy5jYW5JbnNwZWN0KHByb3BlcnRpZXMpKSB7IHJldHVybiBwcm9wZXJ0aWVzOyB9XG4gICAgaWYoZW5hYmxlUmVzb3VyY2VQcm9wZXJ0eUNvbnN0cmFpbnQpIHtcbiAgICAgICAgUm9zU2VhcmNoTGliUHJvcHNWYWxpZGF0b3IocHJvcGVydGllcykuYXNzZXJ0U3VjY2VzcygpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgJ1NlYXJjaExpYk5hbWUnOiByb3Muc3RyaW5nVG9Sb3NUZW1wbGF0ZShwcm9wZXJ0aWVzLnNlYXJjaExpYk5hbWUpLFxuICAgIH07XG59XG5cbi8qKlxuICogVGhpcyBjbGFzcyBpcyBhIGJhc2UgZW5jYXBzdWxhdGlvbiBhcm91bmQgdGhlIFJPUyByZXNvdXJjZSB0eXBlIGBBTElZVU46OklDRTo6U2VhcmNoTGliYC5cbiAqIEBOb3RlIFRoaXMgY2xhc3MgZG9lcyBub3QgY29udGFpbiBhZGRpdGlvbmFsIGZ1bmN0aW9ucywgc28gaXQgaXMgcmVjb21tZW5kZWQgdG8gdXNlIHRoZSBgU2VhcmNoTGliYCBjbGFzcyBpbnN0ZWFkIG9mIHRoaXMgY2xhc3MgZm9yIGEgbW9yZSBjb252ZW5pZW50IGRldmVsb3BtZW50IGV4cGVyaWVuY2UuXG4gKiBTZWUgaHR0cHM6Ly93d3cuYWxpYmFiYWNsb3VkLmNvbS9oZWxwL3Jvcy9kZXZlbG9wZXItcmVmZXJlbmNlL2FsaXl1bi1pY2Utc2VhcmNobGliXG4gKi9cbmV4cG9ydCBjbGFzcyBSb3NTZWFyY2hMaWIgZXh0ZW5kcyByb3MuUm9zUmVzb3VyY2Uge1xuICAgIC8qKlxuICAgICAqIFRoZSByZXNvdXJjZSB0eXBlIG5hbWUgZm9yIHRoaXMgcmVzb3VyY2UgY2xhc3MuXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBST1NfUkVTT1VSQ0VfVFlQRV9OQU1FID0gXCJBTElZVU46OklDRTo6U2VhcmNoTGliXCI7XG5cbiAgICAvKipcbiAgICAgKiBAQXR0cmlidXRlIFNlYXJjaExpYk5hbWU6IFRoZSBuYW1lIG9mIHRoZSBTZWFyY2ggTGliLlxuICAgICAqL1xuICAgIHB1YmxpYyByZWFkb25seSBhdHRyU2VhcmNoTGliTmFtZTogcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgcHVibGljIGVuYWJsZVJlc291cmNlUHJvcGVydHlDb25zdHJhaW50OiBib29sZWFuO1xuXG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgc2VhcmNoTGliTmFtZTogVGhlIG5hbWUgb2YgdGhlIFNlYXJjaCBMaWIuXG4gICAgICovXG4gICAgcHVibGljIHNlYXJjaExpYk5hbWU6IHN0cmluZyB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBzY29wZSAtIHNjb3BlIGluIHdoaWNoIHRoaXMgcmVzb3VyY2UgaXMgZGVmaW5lZFxuICAgICAqIEBwYXJhbSBpZCAgICAtIHNjb3BlZCBpZCBvZiB0aGUgcmVzb3VyY2VcbiAgICAgKiBAcGFyYW0gcHJvcHMgLSByZXNvdXJjZSBwcm9wZXJ0aWVzXG4gICAgICovXG4gICAgY29uc3RydWN0b3Ioc2NvcGU6IHJvcy5Db25zdHJ1Y3QsIGlkOiBzdHJpbmcsIHByb3BzOiBSb3NTZWFyY2hMaWJQcm9wcywgZW5hYmxlUmVzb3VyY2VQcm9wZXJ0eUNvbnN0cmFpbnQ6IGJvb2xlYW4pIHtcbiAgICAgICAgc3VwZXIoc2NvcGUsIGlkLCB7IHR5cGU6IFJvc1NlYXJjaExpYi5ST1NfUkVTT1VSQ0VfVFlQRV9OQU1FLCBwcm9wZXJ0aWVzOiBwcm9wcyB9KTtcbiAgICAgICAgdGhpcy5hdHRyU2VhcmNoTGliTmFtZSA9IHRoaXMuZ2V0QXR0KCdTZWFyY2hMaWJOYW1lJyk7XG5cbiAgICAgICAgdGhpcy5lbmFibGVSZXNvdXJjZVByb3BlcnR5Q29uc3RyYWludCA9IGVuYWJsZVJlc291cmNlUHJvcGVydHlDb25zdHJhaW50O1xuICAgICAgICB0aGlzLnNlYXJjaExpYk5hbWUgPSBwcm9wcy5zZWFyY2hMaWJOYW1lO1xuICAgIH1cblxuXG4gICAgcHJvdGVjdGVkIGdldCByb3NQcm9wZXJ0aWVzKCk6IHsgW2tleTogc3RyaW5nXTogYW55IH0gIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHNlYXJjaExpYk5hbWU6IHRoaXMuc2VhcmNoTGliTmFtZSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcHJvdGVjdGVkIHJlbmRlclByb3BlcnRpZXMocHJvcHM6IHtba2V5OiBzdHJpbmddOiBhbnl9KTogeyBba2V5OiBzdHJpbmddOiBhbnkgfSAge1xuICAgICAgICByZXR1cm4gcm9zU2VhcmNoTGliUHJvcHNUb1Jvc1RlbXBsYXRlKHByb3BzLCB0aGlzLmVuYWJsZVJlc291cmNlUHJvcGVydHlDb25zdHJhaW50KTtcbiAgICB9XG59XG5cbi8qKlxuICogUHJvcGVydGllcyBmb3IgZGVmaW5pbmcgYSBgUm9zVXBsb2FkTWVkaWFgLlxuICogU2VlIGh0dHBzOi8vd3d3LmFsaWJhYmFjbG91ZC5jb20vaGVscC9yb3MvZGV2ZWxvcGVyLXJlZmVyZW5jZS9hbGl5dW4taWNlLXVwbG9hZG1lZGlhXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUm9zVXBsb2FkTWVkaWFQcm9wcyB7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgYXBwSWQ6IFRoZSBhcHBsaWNhdGlvbiBJRC4gRGVmYXVsdCB2YWx1ZTogYXBwLTEwMDAwMDAuXG4gICAgICovXG4gICAgcmVhZG9ubHkgYXBwSWQ/OiBzdHJpbmcgfCByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgZW50aXR5SWQ6IFRoZSBlbnRpdHkgSUQuIFlvdSBjYW4gY2FsbCB0aGUgQ3JlYXRlRW50aXR5IG9wZXJhdGlvbiB0byBjcmVhdGUgYW4gZW50aXR5IGFuZCBzcGVjaWZ5IGEgZHluYW1pYyBtZXRhZGF0YSBzdHJ1Y3R1cmUuXG4gICAgICovXG4gICAgcmVhZG9ubHkgZW50aXR5SWQ/OiBzdHJpbmcgfCByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgZmlsZUluZm86IFRoZSBmaWxlIGluZm9ybWF0aW9uLCB3aGljaCBpcyBpbiB0aGUgSlNPTiBmb3JtYXQgYW5kIGNvbnRhaW5zIHRoZSBmb2xsb3dpbmcgZmllbGRzOlxuICAgICAqIFR5cGU6IHJlcXVpcmVkLiBUaGUgZmlsZSB0eXBlLiBWYWxpZCB2YWx1ZXM6IHZpZGVvLCBpbWFnZSwgYXVkaW8sIHRleHQsIGFuZCBvdGhlci5cbiAgICAgKiBOYW1lOiByZXF1aXJlZC4gVGhlIGZpbGUgbmFtZSB3aXRob3V0IHRoZSBleHRlbnNpb24uXG4gICAgICogU2l6ZTogb3B0aW9uYWwuIFRoZSBmaWxlIHNpemUuXG4gICAgICogRXh0OiByZXF1aXJlZC4gVGhlIGZpbGUgbmFtZSBleHRlbnNpb24uXG4gICAgICovXG4gICAgcmVhZG9ubHkgZmlsZUluZm8/OiB7IFtrZXk6IHN0cmluZ106IChhbnkgfCByb3MuSVJlc29sdmFibGUpIH0gfCByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgbWVkaWFNZXRhRGF0YTogVGhlIG1ldGFkYXRhIG9mIHRoZSBtZWRpYSBhc3NldCwgd2hpY2ggaXMgYSBKU09OIHN0cmluZyB0aGF0IGNvbnRhaW5zIHRoZSBmb2xsb3dpbmcgZmllbGRzOlxuICAgICAqIFRpdGxlOiByZXF1aXJlZC5cbiAgICAgKiBUaGUgdmFsdWUgY2FuIGJlIHVwIHRvIDEyOCBjaGFyYWN0ZXJzIGluIGxlbmd0aC5cbiAgICAgKiBUaGUgdmFsdWUgbXVzdCBiZSBlbmNvZGVkIGluIFVURi04LlxuICAgICAqIERlc2NyaXB0aW9uOiBvcHRpb25hbC5cbiAgICAgKiBUaGUgdmFsdWUgY2FuIGJlIHVwIHRvIDEsMDI0IGNoYXJhY3RlcnMgaW4gbGVuZ3RoLlxuICAgICAqIFRoZSB2YWx1ZSBtdXN0IGJlIGVuY29kZWQgaW4gVVRGLTguXG4gICAgICogQ2F0ZUlkOiBvcHRpb25hbC5cbiAgICAgKiBUYWdzOiBvcHRpb25hbC5cbiAgICAgKiBCdXNpbmVzc1R5cGU6IHJlcXVpcmVkLiBWYWxpZCB2YWx1ZXM6XG4gICAgICogb3BlbmluZyBvciBlbmRpbmcgaWYgVHlwZSBpcyBzZXQgdG8gdmlkZW9cbiAgICAgKiBkZWZhdWx0IG9yIGNvdmVyIGlmIFR5cGUgaXMgc2V0IHRvIGltYWdlXG4gICAgICogc3VidGl0bGVzIG9yIGZvbnQgaWYgVHlwZSBpcyBzZXQgdG8gdGV4dFxuICAgICAqIHdhdGVybWFyayBpZiBUeXBlIGlzIHNldCB0byBtYXRlcmlhbFxuICAgICAqIGdlbmVyYWwgQ292ZXJVUkw6IG9wdGlvbmFsLlxuICAgICAqIER5bmFtaWNNZXRhRGF0YTogVGhlIHZhbHVlIGlzIGEgc3RyaW5nLlxuICAgICAqL1xuICAgIHJlYWRvbmx5IG1lZGlhTWV0YURhdGE/OiB7IFtrZXk6IHN0cmluZ106IChhbnkgfCByb3MuSVJlc29sdmFibGUpIH0gfCByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgcG9zdFByb2Nlc3NDb25maWc6IFR5cGUgPSB2aWRlbyB8fCBhdWRpbyBUaGVyZSBpcyBhIHBvc3QtdXBsb2FkIHByb2Nlc3NpbmcgYWN0aW9uLiBQcm9jZXNzVHlwZSBWYWx1ZTogV29ya2Zsb3cuXG4gICAgICovXG4gICAgcmVhZG9ubHkgcG9zdFByb2Nlc3NDb25maWc/OiB7IFtrZXk6IHN0cmluZ106IChhbnkgfCByb3MuSVJlc29sdmFibGUpIH0gfCByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgdXBsb2FkVGFyZ2V0Q29uZmlnOiBUaGUgZGVzdGluYXRpb24gc3RvcmFnZSBhZGRyZXNzLlxuICAgICAqIFNldCBTdG9yYWdlVHlwZSB0byBvc3MuXG4gICAgICogU2V0IFN0b3JhZ2VMb2NhdGlvbiB0byBhbiBhZGRyZXNzIGluIEFwc2FyYVZpZGVvIFZPRC4gWW91IGNhbm5vdCBzZXQgdGhpcyBmaWVsZCB0byBhbiBPU1MgVVJMLlxuICAgICAqL1xuICAgIHJlYWRvbmx5IHVwbG9hZFRhcmdldENvbmZpZz86IHsgW2tleTogc3RyaW5nXTogKGFueSB8IHJvcy5JUmVzb2x2YWJsZSkgfSB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIEBQcm9wZXJ0eSB1c2VyRGF0YTogVGhlIHVzZXIgZGF0YS4gVGhlIHZhbHVlIG11c3QgYmUgYSBKU09OIHN0cmluZy4gWW91IGNhbiBjb25maWd1cmUgc2V0dGluZ3Mgc3VjaCBhcyBtZXNzYWdlIGNhbGxiYWNrcy5cbiAgICAgKi9cbiAgICByZWFkb25seSB1c2VyRGF0YT86IHsgW2tleTogc3RyaW5nXTogKGFueSB8IHJvcy5JUmVzb2x2YWJsZSkgfSB8IHJvcy5JUmVzb2x2YWJsZTtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgd2hldGhlciB0aGUgZ2l2ZW4gcHJvcGVydGllcyBtYXRjaCB0aG9zZSBvZiBhIGBSb3NVcGxvYWRNZWRpYVByb3BzYFxuICpcbiAqIEBwYXJhbSBwcm9wZXJ0aWVzIC0gdGhlIFR5cGVTY3JpcHQgcHJvcGVydGllcyBvZiBhIGBSb3NVcGxvYWRNZWRpYVByb3BzYFxuICpcbiAqIEByZXR1cm5zIHRoZSByZXN1bHQgb2YgdGhlIHZhbGlkYXRpb24uXG4gKi9cbmZ1bmN0aW9uIFJvc1VwbG9hZE1lZGlhUHJvcHNWYWxpZGF0b3IocHJvcGVydGllczogYW55KTogcm9zLlZhbGlkYXRpb25SZXN1bHQge1xuICAgIGlmICghcm9zLmNhbkluc3BlY3QocHJvcGVydGllcykpIHsgcmV0dXJuIHJvcy5WQUxJREFUSU9OX1NVQ0NFU1M7IH1cbiAgICBjb25zdCBlcnJvcnMgPSBuZXcgcm9zLlZhbGlkYXRpb25SZXN1bHRzKCk7XG4gICAgZXJyb3JzLmNvbGxlY3Qocm9zLnByb3BlcnR5VmFsaWRhdG9yKCdlbnRpdHlJZCcsIHJvcy52YWxpZGF0ZVN0cmluZykocHJvcGVydGllcy5lbnRpdHlJZCkpO1xuICAgIGVycm9ycy5jb2xsZWN0KHJvcy5wcm9wZXJ0eVZhbGlkYXRvcignYXBwSWQnLCByb3MudmFsaWRhdGVTdHJpbmcpKHByb3BlcnRpZXMuYXBwSWQpKTtcbiAgICBlcnJvcnMuY29sbGVjdChyb3MucHJvcGVydHlWYWxpZGF0b3IoJ2ZpbGVJbmZvJywgcm9zLmhhc2hWYWxpZGF0b3Iocm9zLnZhbGlkYXRlQW55KSkocHJvcGVydGllcy5maWxlSW5mbykpO1xuICAgIGVycm9ycy5jb2xsZWN0KHJvcy5wcm9wZXJ0eVZhbGlkYXRvcigndXNlckRhdGEnLCByb3MuaGFzaFZhbGlkYXRvcihyb3MudmFsaWRhdGVBbnkpKShwcm9wZXJ0aWVzLnVzZXJEYXRhKSk7XG4gICAgZXJyb3JzLmNvbGxlY3Qocm9zLnByb3BlcnR5VmFsaWRhdG9yKCd1cGxvYWRUYXJnZXRDb25maWcnLCByb3MuaGFzaFZhbGlkYXRvcihyb3MudmFsaWRhdGVBbnkpKShwcm9wZXJ0aWVzLnVwbG9hZFRhcmdldENvbmZpZykpO1xuICAgIGVycm9ycy5jb2xsZWN0KHJvcy5wcm9wZXJ0eVZhbGlkYXRvcignbWVkaWFNZXRhRGF0YScsIHJvcy5oYXNoVmFsaWRhdG9yKHJvcy52YWxpZGF0ZUFueSkpKHByb3BlcnRpZXMubWVkaWFNZXRhRGF0YSkpO1xuICAgIGVycm9ycy5jb2xsZWN0KHJvcy5wcm9wZXJ0eVZhbGlkYXRvcigncG9zdFByb2Nlc3NDb25maWcnLCByb3MuaGFzaFZhbGlkYXRvcihyb3MudmFsaWRhdGVBbnkpKShwcm9wZXJ0aWVzLnBvc3RQcm9jZXNzQ29uZmlnKSk7XG4gICAgcmV0dXJuIGVycm9ycy53cmFwKCdzdXBwbGllZCBwcm9wZXJ0aWVzIG5vdCBjb3JyZWN0IGZvciBcIlJvc1VwbG9hZE1lZGlhUHJvcHNcIicpO1xufVxuXG4vKipcbiAqIFJlbmRlcnMgdGhlIEFsaUNsb3VkIFJPUyBSZXNvdXJjZSBwcm9wZXJ0aWVzIG9mIGFuIGBBTElZVU46OklDRTo6VXBsb2FkTWVkaWFgIHJlc291cmNlXG4gKlxuICogQHBhcmFtIHByb3BlcnRpZXMgLSB0aGUgVHlwZVNjcmlwdCBwcm9wZXJ0aWVzIG9mIGEgYFJvc1VwbG9hZE1lZGlhUHJvcHNgXG4gKlxuICogQHJldHVybnMgdGhlIEFsaUNsb3VkIFJPUyBSZXNvdXJjZSBwcm9wZXJ0aWVzIG9mIGFuIGBBTElZVU46OklDRTo6VXBsb2FkTWVkaWFgIHJlc291cmNlLlxuICovXG4vLyBAdHMtaWdub3JlIFRTNjEzM1xuZnVuY3Rpb24gcm9zVXBsb2FkTWVkaWFQcm9wc1RvUm9zVGVtcGxhdGUocHJvcGVydGllczogYW55LCBlbmFibGVSZXNvdXJjZVByb3BlcnR5Q29uc3RyYWludDogYm9vbGVhbik6IGFueSB7XG4gICAgaWYgKCFyb3MuY2FuSW5zcGVjdChwcm9wZXJ0aWVzKSkgeyByZXR1cm4gcHJvcGVydGllczsgfVxuICAgIGlmKGVuYWJsZVJlc291cmNlUHJvcGVydHlDb25zdHJhaW50KSB7XG4gICAgICAgIFJvc1VwbG9hZE1lZGlhUHJvcHNWYWxpZGF0b3IocHJvcGVydGllcykuYXNzZXJ0U3VjY2VzcygpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgJ0FwcElkJzogcm9zLnN0cmluZ1RvUm9zVGVtcGxhdGUocHJvcGVydGllcy5hcHBJZCksXG4gICAgICAnRW50aXR5SWQnOiByb3Muc3RyaW5nVG9Sb3NUZW1wbGF0ZShwcm9wZXJ0aWVzLmVudGl0eUlkKSxcbiAgICAgICdGaWxlSW5mbyc6IHJvcy5oYXNoTWFwcGVyKHJvcy5vYmplY3RUb1Jvc1RlbXBsYXRlKShwcm9wZXJ0aWVzLmZpbGVJbmZvKSxcbiAgICAgICdNZWRpYU1ldGFEYXRhJzogcm9zLmhhc2hNYXBwZXIocm9zLm9iamVjdFRvUm9zVGVtcGxhdGUpKHByb3BlcnRpZXMubWVkaWFNZXRhRGF0YSksXG4gICAgICAnUG9zdFByb2Nlc3NDb25maWcnOiByb3MuaGFzaE1hcHBlcihyb3Mub2JqZWN0VG9Sb3NUZW1wbGF0ZSkocHJvcGVydGllcy5wb3N0UHJvY2Vzc0NvbmZpZyksXG4gICAgICAnVXBsb2FkVGFyZ2V0Q29uZmlnJzogcm9zLmhhc2hNYXBwZXIocm9zLm9iamVjdFRvUm9zVGVtcGxhdGUpKHByb3BlcnRpZXMudXBsb2FkVGFyZ2V0Q29uZmlnKSxcbiAgICAgICdVc2VyRGF0YSc6IHJvcy5oYXNoTWFwcGVyKHJvcy5vYmplY3RUb1Jvc1RlbXBsYXRlKShwcm9wZXJ0aWVzLnVzZXJEYXRhKSxcbiAgICB9O1xufVxuXG4vKipcbiAqIFRoaXMgY2xhc3MgaXMgYSBiYXNlIGVuY2Fwc3VsYXRpb24gYXJvdW5kIHRoZSBST1MgcmVzb3VyY2UgdHlwZSBgQUxJWVVOOjpJQ0U6OlVwbG9hZE1lZGlhYC5cbiAqIEBOb3RlIFRoaXMgY2xhc3MgZG9lcyBub3QgY29udGFpbiBhZGRpdGlvbmFsIGZ1bmN0aW9ucywgc28gaXQgaXMgcmVjb21tZW5kZWQgdG8gdXNlIHRoZSBgVXBsb2FkTWVkaWFgIGNsYXNzIGluc3RlYWQgb2YgdGhpcyBjbGFzcyBmb3IgYSBtb3JlIGNvbnZlbmllbnQgZGV2ZWxvcG1lbnQgZXhwZXJpZW5jZS5cbiAqIFNlZSBodHRwczovL3d3dy5hbGliYWJhY2xvdWQuY29tL2hlbHAvcm9zL2RldmVsb3Blci1yZWZlcmVuY2UvYWxpeXVuLWljZS11cGxvYWRtZWRpYVxuICovXG5leHBvcnQgY2xhc3MgUm9zVXBsb2FkTWVkaWEgZXh0ZW5kcyByb3MuUm9zUmVzb3VyY2Uge1xuICAgIC8qKlxuICAgICAqIFRoZSByZXNvdXJjZSB0eXBlIG5hbWUgZm9yIHRoaXMgcmVzb3VyY2UgY2xhc3MuXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBST1NfUkVTT1VSQ0VfVFlQRV9OQU1FID0gXCJBTElZVU46OklDRTo6VXBsb2FkTWVkaWFcIjtcblxuICAgIC8qKlxuICAgICAqIEBBdHRyaWJ1dGUgRmlsZVVSTDogVGhlIE9TUyBVUkwgb2YgdGhlIGZpbGUuIFRoZSBVUkwgZG9lcyBub3QgY29udGFpbiB0aGUgaW5mb3JtYXRpb24gdXNlZCBmb3IgYXV0aGVudGljYXRpb24uXG4gICAgICovXG4gICAgcHVibGljIHJlYWRvbmx5IGF0dHJGaWxlVXJsOiByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBAQXR0cmlidXRlIE1lZGlhSWQ6IFRoZSBJRCBvZiB0aGUgbWVkaWEgYXNzZXQuXG4gICAgICovXG4gICAgcHVibGljIHJlYWRvbmx5IGF0dHJNZWRpYUlkOiByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBAQXR0cmlidXRlIE1lZGlhVVJMOiBUaGUgVVJMIG9mIHRoZSBtZWRpYSBhc3NldC5cbk5vdGUgSWYgYSBkb21haW4gbmFtZSBmb3IgQWxpYmFiYSBDbG91ZCBDRE4gKENETikgaXMgc3BlY2lmaWVkLCBhIENETiBVUkwgaXMgcmV0dXJuZWQuIE90aGVyd2lzZSwgYW4gT1NTIFVSTCBpcyByZXR1cm5lZC4gSWYgdGhlIEhUVFAgc3RhdHVzIGNvZGUgNDAzIGlzIHJldHVybmVkIHdoZW4geW91IGFjY2VzcyB0aGUgVVJMIGZyb20geW91ciBicm93c2VyLCB0aGUgVVJMIGF1dGhlbnRpY2F0aW9uIGZlYXR1cmUgb2YgQXBzYXJhVmlkZW8gVk9EIGlzIGVuYWJsZWQuIFRvIHJlc29sdmUgdGhpcyBpc3N1ZSwgZGlzYWJsZSBVUkwgYXV0aGVudGljYXRpb24gb3IgZ2VuZXJhdGUgYW4gYXV0aGVudGljYXRpb24gc2lnbmF0dXJlLlxuICAgICAqL1xuICAgIHB1YmxpYyByZWFkb25seSBhdHRyTWVkaWFVcmw6IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIEBBdHRyaWJ1dGUgVXBsb2FkQWRkcmVzczogVGhlIHVwbG9hZCBVUkwuXG5Ob3RlIFRoZSByZXR1cm5lZCB1cGxvYWQgVVJMIGlzIGEgQmFzZTY0LWVuY29kZWQgVVJMLiBZb3UgbXVzdCBkZWNvZGUgdGhlIEJhc2U2NC1lbmNvZGVkIHVwbG9hZCBVUkwgYmVmb3JlIHlvdSB1c2UgYW4gU0RLIG9yIGNhbGwgYW4gQVBJIG9wZXJhdGlvbiB0byB1cGxvYWQgbWVkaWEgZmlsZXMuIFlvdSBuZWVkIHRvIHBhcnNlIFVwbG9hZEFkZHJlc3Mgb25seSBpZiB5b3UgdXNlIE9TUyBTREsgb3IgY2FsbCBhbiBPU1MgQVBJIG9wZXJhdGlvbiB0byB1cGxvYWQgbWVkaWEgZmlsZXMuXG4gICAgICovXG4gICAgcHVibGljIHJlYWRvbmx5IGF0dHJVcGxvYWRBZGRyZXNzOiByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBAQXR0cmlidXRlIFVwbG9hZEF1dGg6IFRoZSB1cGxvYWQgY3JlZGVudGlhbC5cbk5vdGUgVGhlIHJldHVybmVkIHVwbG9hZCBjcmVkZW50aWFsIGlzIGEgQmFzZTY0LWVuY29kZWQgdmFsdWUuIFlvdSBtdXN0IGRlY29kZSB0aGUgQmFzZTY0LWVuY29kZWQgdXBsb2FkIFVSTCBiZWZvcmUgeW91IHVzZSBhbiBTREsgb3IgY2FsbCBhbiBBUEkgb3BlcmF0aW9uIHRvIHVwbG9hZCBtZWRpYSBmaWxlcy4gWW91IG5lZWQgdG8gcGFyc2UgVXBsb2FkQXV0aCBvbmx5IGlmIHlvdSB1c2UgT1NTIFNESyBvciBjYWxsIGFuIE9TUyBBUEkgb3BlcmF0aW9uIHRvIHVwbG9hZCBtZWRpYSBmaWxlcy5cbiAgICAgKi9cbiAgICBwdWJsaWMgcmVhZG9ubHkgYXR0clVwbG9hZEF1dGg6IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIHB1YmxpYyBlbmFibGVSZXNvdXJjZVByb3BlcnR5Q29uc3RyYWludDogYm9vbGVhbjtcblxuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IGFwcElkOiBUaGUgYXBwbGljYXRpb24gSUQuIERlZmF1bHQgdmFsdWU6IGFwcC0xMDAwMDAwLlxuICAgICAqL1xuICAgIHB1YmxpYyBhcHBJZDogc3RyaW5nIHwgcm9zLklSZXNvbHZhYmxlIHwgdW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IGVudGl0eUlkOiBUaGUgZW50aXR5IElELiBZb3UgY2FuIGNhbGwgdGhlIENyZWF0ZUVudGl0eSBvcGVyYXRpb24gdG8gY3JlYXRlIGFuIGVudGl0eSBhbmQgc3BlY2lmeSBhIGR5bmFtaWMgbWV0YWRhdGEgc3RydWN0dXJlLlxuICAgICAqL1xuICAgIHB1YmxpYyBlbnRpdHlJZDogc3RyaW5nIHwgcm9zLklSZXNvbHZhYmxlIHwgdW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IGZpbGVJbmZvOiBUaGUgZmlsZSBpbmZvcm1hdGlvbiwgd2hpY2ggaXMgaW4gdGhlIEpTT04gZm9ybWF0IGFuZCBjb250YWlucyB0aGUgZm9sbG93aW5nIGZpZWxkczpcbiAgICAgKiBUeXBlOiByZXF1aXJlZC4gVGhlIGZpbGUgdHlwZS4gVmFsaWQgdmFsdWVzOiB2aWRlbywgaW1hZ2UsIGF1ZGlvLCB0ZXh0LCBhbmQgb3RoZXIuXG4gICAgICogTmFtZTogcmVxdWlyZWQuIFRoZSBmaWxlIG5hbWUgd2l0aG91dCB0aGUgZXh0ZW5zaW9uLlxuICAgICAqIFNpemU6IG9wdGlvbmFsLiBUaGUgZmlsZSBzaXplLlxuICAgICAqIEV4dDogcmVxdWlyZWQuIFRoZSBmaWxlIG5hbWUgZXh0ZW5zaW9uLlxuICAgICAqL1xuICAgIHB1YmxpYyBmaWxlSW5mbzogeyBba2V5OiBzdHJpbmddOiAoYW55IHwgcm9zLklSZXNvbHZhYmxlKSB9IHwgcm9zLklSZXNvbHZhYmxlIHwgdW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IG1lZGlhTWV0YURhdGE6IFRoZSBtZXRhZGF0YSBvZiB0aGUgbWVkaWEgYXNzZXQsIHdoaWNoIGlzIGEgSlNPTiBzdHJpbmcgdGhhdCBjb250YWlucyB0aGUgZm9sbG93aW5nIGZpZWxkczpcbiAgICAgKiBUaXRsZTogcmVxdWlyZWQuXG4gICAgICogVGhlIHZhbHVlIGNhbiBiZSB1cCB0byAxMjggY2hhcmFjdGVycyBpbiBsZW5ndGguXG4gICAgICogVGhlIHZhbHVlIG11c3QgYmUgZW5jb2RlZCBpbiBVVEYtOC5cbiAgICAgKiBEZXNjcmlwdGlvbjogb3B0aW9uYWwuXG4gICAgICogVGhlIHZhbHVlIGNhbiBiZSB1cCB0byAxLDAyNCBjaGFyYWN0ZXJzIGluIGxlbmd0aC5cbiAgICAgKiBUaGUgdmFsdWUgbXVzdCBiZSBlbmNvZGVkIGluIFVURi04LlxuICAgICAqIENhdGVJZDogb3B0aW9uYWwuXG4gICAgICogVGFnczogb3B0aW9uYWwuXG4gICAgICogQnVzaW5lc3NUeXBlOiByZXF1aXJlZC4gVmFsaWQgdmFsdWVzOlxuICAgICAqIG9wZW5pbmcgb3IgZW5kaW5nIGlmIFR5cGUgaXMgc2V0IHRvIHZpZGVvXG4gICAgICogZGVmYXVsdCBvciBjb3ZlciBpZiBUeXBlIGlzIHNldCB0byBpbWFnZVxuICAgICAqIHN1YnRpdGxlcyBvciBmb250IGlmIFR5cGUgaXMgc2V0IHRvIHRleHRcbiAgICAgKiB3YXRlcm1hcmsgaWYgVHlwZSBpcyBzZXQgdG8gbWF0ZXJpYWxcbiAgICAgKiBnZW5lcmFsIENvdmVyVVJMOiBvcHRpb25hbC5cbiAgICAgKiBEeW5hbWljTWV0YURhdGE6IFRoZSB2YWx1ZSBpcyBhIHN0cmluZy5cbiAgICAgKi9cbiAgICBwdWJsaWMgbWVkaWFNZXRhRGF0YTogeyBba2V5OiBzdHJpbmddOiAoYW55IHwgcm9zLklSZXNvbHZhYmxlKSB9IHwgcm9zLklSZXNvbHZhYmxlIHwgdW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IHBvc3RQcm9jZXNzQ29uZmlnOiBUeXBlID0gdmlkZW8gfHwgYXVkaW8gVGhlcmUgaXMgYSBwb3N0LXVwbG9hZCBwcm9jZXNzaW5nIGFjdGlvbi4gUHJvY2Vzc1R5cGUgVmFsdWU6IFdvcmtmbG93LlxuICAgICAqL1xuICAgIHB1YmxpYyBwb3N0UHJvY2Vzc0NvbmZpZzogeyBba2V5OiBzdHJpbmddOiAoYW55IHwgcm9zLklSZXNvbHZhYmxlKSB9IHwgcm9zLklSZXNvbHZhYmxlIHwgdW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogQFByb3BlcnR5IHVwbG9hZFRhcmdldENvbmZpZzogVGhlIGRlc3RpbmF0aW9uIHN0b3JhZ2UgYWRkcmVzcy5cbiAgICAgKiBTZXQgU3RvcmFnZVR5cGUgdG8gb3NzLlxuICAgICAqIFNldCBTdG9yYWdlTG9jYXRpb24gdG8gYW4gYWRkcmVzcyBpbiBBcHNhcmFWaWRlbyBWT0QuIFlvdSBjYW5ub3Qgc2V0IHRoaXMgZmllbGQgdG8gYW4gT1NTIFVSTC5cbiAgICAgKi9cbiAgICBwdWJsaWMgdXBsb2FkVGFyZ2V0Q29uZmlnOiB7IFtrZXk6IHN0cmluZ106IChhbnkgfCByb3MuSVJlc29sdmFibGUpIH0gfCByb3MuSVJlc29sdmFibGUgfCB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBAUHJvcGVydHkgdXNlckRhdGE6IFRoZSB1c2VyIGRhdGEuIFRoZSB2YWx1ZSBtdXN0IGJlIGEgSlNPTiBzdHJpbmcuIFlvdSBjYW4gY29uZmlndXJlIHNldHRpbmdzIHN1Y2ggYXMgbWVzc2FnZSBjYWxsYmFja3MuXG4gICAgICovXG4gICAgcHVibGljIHVzZXJEYXRhOiB7IFtrZXk6IHN0cmluZ106IChhbnkgfCByb3MuSVJlc29sdmFibGUpIH0gfCByb3MuSVJlc29sdmFibGUgfCB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gc2NvcGUgLSBzY29wZSBpbiB3aGljaCB0aGlzIHJlc291cmNlIGlzIGRlZmluZWRcbiAgICAgKiBAcGFyYW0gaWQgICAgLSBzY29wZWQgaWQgb2YgdGhlIHJlc291cmNlXG4gICAgICogQHBhcmFtIHByb3BzIC0gcmVzb3VyY2UgcHJvcGVydGllc1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHNjb3BlOiByb3MuQ29uc3RydWN0LCBpZDogc3RyaW5nLCBwcm9wczogUm9zVXBsb2FkTWVkaWFQcm9wcywgZW5hYmxlUmVzb3VyY2VQcm9wZXJ0eUNvbnN0cmFpbnQ6IGJvb2xlYW4pIHtcbiAgICAgICAgc3VwZXIoc2NvcGUsIGlkLCB7IHR5cGU6IFJvc1VwbG9hZE1lZGlhLlJPU19SRVNPVVJDRV9UWVBFX05BTUUsIHByb3BlcnRpZXM6IHByb3BzIH0pO1xuICAgICAgICB0aGlzLmF0dHJGaWxlVXJsID0gdGhpcy5nZXRBdHQoJ0ZpbGVVUkwnKTtcbiAgICAgICAgdGhpcy5hdHRyTWVkaWFJZCA9IHRoaXMuZ2V0QXR0KCdNZWRpYUlkJyk7XG4gICAgICAgIHRoaXMuYXR0ck1lZGlhVXJsID0gdGhpcy5nZXRBdHQoJ01lZGlhVVJMJyk7XG4gICAgICAgIHRoaXMuYXR0clVwbG9hZEFkZHJlc3MgPSB0aGlzLmdldEF0dCgnVXBsb2FkQWRkcmVzcycpO1xuICAgICAgICB0aGlzLmF0dHJVcGxvYWRBdXRoID0gdGhpcy5nZXRBdHQoJ1VwbG9hZEF1dGgnKTtcblxuICAgICAgICB0aGlzLmVuYWJsZVJlc291cmNlUHJvcGVydHlDb25zdHJhaW50ID0gZW5hYmxlUmVzb3VyY2VQcm9wZXJ0eUNvbnN0cmFpbnQ7XG4gICAgICAgIHRoaXMuYXBwSWQgPSBwcm9wcy5hcHBJZDtcbiAgICAgICAgdGhpcy5lbnRpdHlJZCA9IHByb3BzLmVudGl0eUlkO1xuICAgICAgICB0aGlzLmZpbGVJbmZvID0gcHJvcHMuZmlsZUluZm87XG4gICAgICAgIHRoaXMubWVkaWFNZXRhRGF0YSA9IHByb3BzLm1lZGlhTWV0YURhdGE7XG4gICAgICAgIHRoaXMucG9zdFByb2Nlc3NDb25maWcgPSBwcm9wcy5wb3N0UHJvY2Vzc0NvbmZpZztcbiAgICAgICAgdGhpcy51cGxvYWRUYXJnZXRDb25maWcgPSBwcm9wcy51cGxvYWRUYXJnZXRDb25maWc7XG4gICAgICAgIHRoaXMudXNlckRhdGEgPSBwcm9wcy51c2VyRGF0YTtcbiAgICB9XG5cblxuICAgIHByb3RlY3RlZCBnZXQgcm9zUHJvcGVydGllcygpOiB7IFtrZXk6IHN0cmluZ106IGFueSB9ICB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhcHBJZDogdGhpcy5hcHBJZCxcbiAgICAgICAgICAgIGVudGl0eUlkOiB0aGlzLmVudGl0eUlkLFxuICAgICAgICAgICAgZmlsZUluZm86IHRoaXMuZmlsZUluZm8sXG4gICAgICAgICAgICBtZWRpYU1ldGFEYXRhOiB0aGlzLm1lZGlhTWV0YURhdGEsXG4gICAgICAgICAgICBwb3N0UHJvY2Vzc0NvbmZpZzogdGhpcy5wb3N0UHJvY2Vzc0NvbmZpZyxcbiAgICAgICAgICAgIHVwbG9hZFRhcmdldENvbmZpZzogdGhpcy51cGxvYWRUYXJnZXRDb25maWcsXG4gICAgICAgICAgICB1c2VyRGF0YTogdGhpcy51c2VyRGF0YSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcHJvdGVjdGVkIHJlbmRlclByb3BlcnRpZXMocHJvcHM6IHtba2V5OiBzdHJpbmddOiBhbnl9KTogeyBba2V5OiBzdHJpbmddOiBhbnkgfSAge1xuICAgICAgICByZXR1cm4gcm9zVXBsb2FkTWVkaWFQcm9wc1RvUm9zVGVtcGxhdGUocHJvcHMsIHRoaXMuZW5hYmxlUmVzb3VyY2VQcm9wZXJ0eUNvbnN0cmFpbnQpO1xuICAgIH1cbn1cbiJdfQ==