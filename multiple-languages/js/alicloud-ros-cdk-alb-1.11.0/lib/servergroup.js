"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ServerGroup = exports.ServerGroupProperty = void 0;
const ros = require("@alicloud/ros-cdk-core");
const alb_generated_1 = require("./alb.generated");
Object.defineProperty(exports, "ServerGroupProperty", { enumerable: true, get: function () { return alb_generated_1.RosServerGroup; } });
/**
 * This class encapsulates and extends the ROS resource type `ALIYUN::ALB::ServerGroup`.
 * @Note This class may have some new functions to facilitate development, so it is recommended to use this class instead of `RosServerGroup`for a more convenient development experience.
 * See https://www.alibabacloud.com/help/ros/developer-reference/aliyun-alb-servergroup
 */
class ServerGroup extends ros.Resource {
    /**
     * Param scope - scope in which this resource is defined
     * Param id    - scoped id of the resource
     * Param props - resource properties
     */
    constructor(scope, id, props, enableResourcePropertyConstraint = true) {
        super(scope, id);
        this.scope = scope;
        this.id = id;
        this.props = props;
        this.enableResourcePropertyConstraint = enableResourcePropertyConstraint;
        const rosServerGroup = new alb_generated_1.RosServerGroup(this, id, {
            connectionDrainConfig: props.connectionDrainConfig,
            resourceGroupId: props.resourceGroupId,
            uchConfig: props.uchConfig,
            upstreamKeepaliveEnabled: props.upstreamKeepaliveEnabled === undefined || props.upstreamKeepaliveEnabled === null ? false : props.upstreamKeepaliveEnabled,
            scheduler: props.scheduler,
            stickySessionConfig: props.stickySessionConfig,
            serverGroupType: props.serverGroupType,
            crossZoneEnabled: props.crossZoneEnabled,
            ipv6Enabled: props.ipv6Enabled,
            slowStartConfig: props.slowStartConfig,
            vpcId: props.vpcId,
            serviceName: props.serviceName,
            healthCheckConfig: props.healthCheckConfig,
            protocol: props.protocol,
            tags: props.tags,
            serverGroupName: props.serverGroupName,
        }, enableResourcePropertyConstraint && this.stack.enableResourcePropertyConstraint);
        this.resource = rosServerGroup;
        this.attrArn = rosServerGroup.attrArn;
        this.attrServerGroupId = rosServerGroup.attrServerGroupId;
    }
}
exports.ServerGroup = ServerGroup;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VydmVyZ3JvdXAuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJzZXJ2ZXJncm91cC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSw4Q0FBOEM7QUFDOUMsbURBQWlEO0FBRXRCLG9HQUZsQiw4QkFBYyxPQUV1QjtBQWtJOUM7Ozs7R0FJRztBQUNILE1BQWEsV0FBWSxTQUFRLEdBQUcsQ0FBQyxRQUFRO0lBZ0J6Qzs7OztPQUlHO0lBQ0gsWUFBWSxLQUFvQixFQUFFLEVBQVUsRUFBRSxLQUF1QixFQUFFLG1DQUEyQyxJQUFJO1FBQ2xILEtBQUssQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDakIsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7UUFDbkIsSUFBSSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUM7UUFDYixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUNuQixJQUFJLENBQUMsZ0NBQWdDLEdBQUcsZ0NBQWdDLENBQUM7UUFFekUsTUFBTSxjQUFjLEdBQUcsSUFBSSw4QkFBYyxDQUFDLElBQUksRUFBRSxFQUFFLEVBQUc7WUFDakQscUJBQXFCLEVBQUUsS0FBSyxDQUFDLHFCQUFxQjtZQUNsRCxlQUFlLEVBQUUsS0FBSyxDQUFDLGVBQWU7WUFDdEMsU0FBUyxFQUFFLEtBQUssQ0FBQyxTQUFTO1lBQzFCLHdCQUF3QixFQUFFLEtBQUssQ0FBQyx3QkFBd0IsS0FBSyxTQUFTLElBQUksS0FBSyxDQUFDLHdCQUF3QixLQUFLLElBQUksQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsd0JBQXdCO1lBQzFKLFNBQVMsRUFBRSxLQUFLLENBQUMsU0FBUztZQUMxQixtQkFBbUIsRUFBRSxLQUFLLENBQUMsbUJBQW1CO1lBQzlDLGVBQWUsRUFBRSxLQUFLLENBQUMsZUFBZTtZQUN0QyxnQkFBZ0IsRUFBRSxLQUFLLENBQUMsZ0JBQWdCO1lBQ3hDLFdBQVcsRUFBRSxLQUFLLENBQUMsV0FBVztZQUM5QixlQUFlLEVBQUUsS0FBSyxDQUFDLGVBQWU7WUFDdEMsS0FBSyxFQUFFLEtBQUssQ0FBQyxLQUFLO1lBQ2xCLFdBQVcsRUFBRSxLQUFLLENBQUMsV0FBVztZQUM5QixpQkFBaUIsRUFBRSxLQUFLLENBQUMsaUJBQWlCO1lBQzFDLFFBQVEsRUFBRSxLQUFLLENBQUMsUUFBUTtZQUN4QixJQUFJLEVBQUUsS0FBSyxDQUFDLElBQUk7WUFDaEIsZUFBZSxFQUFFLEtBQUssQ0FBQyxlQUFlO1NBQ3pDLEVBQUUsZ0NBQWdDLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxnQ0FBZ0MsQ0FBQyxDQUFDO1FBQ3BGLElBQUksQ0FBQyxRQUFRLEdBQUcsY0FBYyxDQUFDO1FBQy9CLElBQUksQ0FBQyxPQUFPLEdBQUcsY0FBYyxDQUFDLE9BQU8sQ0FBQztRQUN0QyxJQUFJLENBQUMsaUJBQWlCLEdBQUcsY0FBYyxDQUFDLGlCQUFpQixDQUFDO0lBQzlELENBQUM7Q0FDSjtBQWxERCxrQ0FrREMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyByb3MgZnJvbSAnQGFsaWNsb3VkL3Jvcy1jZGstY29yZSc7XG5pbXBvcnQgeyBSb3NTZXJ2ZXJHcm91cCB9IGZyb20gJy4vYWxiLmdlbmVyYXRlZCc7XG4vLyBHZW5lcmF0ZWQgZnJvbSB0aGUgQWxpQ2xvdWQgUk9TIFJlc291cmNlIFNwZWNpZmljYXRpb25cbmV4cG9ydCB7IFJvc1NlcnZlckdyb3VwIGFzIFNlcnZlckdyb3VwUHJvcGVydHkgfTtcblxuLyoqXG4gKiBQcm9wZXJ0aWVzIGZvciBkZWZpbmluZyBhIGBTZXJ2ZXJHcm91cGAuXG4gKiBTZWUgaHR0cHM6Ly93d3cuYWxpYmFiYWNsb3VkLmNvbS9oZWxwL3Jvcy9kZXZlbG9wZXItcmVmZXJlbmNlL2FsaXl1bi1hbGItc2VydmVyZ3JvdXBcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTZXJ2ZXJHcm91cFByb3BzIHtcblxuICAgIC8qKlxuICAgICAqIFByb3BlcnR5IGhlYWx0aENoZWNrQ29uZmlnOiBUaGUgY29uZmlndXJhdGlvbiBvZiBoZWFsdGggY2hlY2tzLlxuICAgICAqL1xuICAgIHJlYWRvbmx5IGhlYWx0aENoZWNrQ29uZmlnOiBSb3NTZXJ2ZXJHcm91cC5IZWFsdGhDaGVja0NvbmZpZ1Byb3BlcnR5IHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogUHJvcGVydHkgc2VydmVyR3JvdXBOYW1lOiBUaGUgbmFtZSBvZiB0aGUgc2VydmVyIGdyb3VwLiBUaGUgbmFtZSBtdXN0IGJlIDIgdG8gMTI4IGNoYXJhY3RlcnMgaW4gbGVuZ3RoLCBhbmRcbiAgICAgKiBjYW4gY29udGFpbiBsZXR0ZXJzLCBkaWdpdHMsIHBlcmlvZHMgKC4pLCB1bmRlcnNjb3JlcyAoXyksIGFuZCBoeXBoZW5zICgtKS4gVGhlIG5hbWVcbiAgICAgKiBtdXN0IHN0YXJ0IHdpdGggYSBsZXR0ZXIuXG4gICAgICovXG4gICAgcmVhZG9ubHkgc2VydmVyR3JvdXBOYW1lOiBzdHJpbmcgfCByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBQcm9wZXJ0eSBjb25uZWN0aW9uRHJhaW5Db25maWc6IENvbmZpZ3VyYXRpb24gcmVsYXRlZCB0byBncmFjZWZ1bCBjb25uZWN0aW9uIGludGVycnVwdGlvbi5FbmFibGUgZ3JhY2VmdWwgY29ubmVjdGlvbiBpbnRlcnJ1cHRpb24uIEFmdGVyIHRoZSBiYWNrZW5kIHNlcnZlciBpcyByZW1vdmVkIG9yIHRoZSBoZWFsdGggY2hlY2sgZmFpbHMsIHRoZSBsb2FkIGJhbGFuY2luZyBhbGxvd3MgdGhlIGV4aXN0aW5nIGNvbm5lY3Rpb24gdG8gYmUgdHJhbnNtaXR0ZWQgbm9ybWFsbHkgd2l0aGluIGEgY2VydGFpbiBwZXJpb2Qgb2YgdGltZS5Ob3RlOiBcbiAgICAgKiBCYXNpYyBFZGl0aW9uIGluc3RhbmNlcyBkbyBub3Qgc3VwcG9ydCBlbmFibGluZyBncmFjZWZ1bCBjb25uZWN0aW9uIGludGVycnVwdGlvbi4gT25seSBTdGFuZGFyZCBFZGl0aW9uIGFuZCBXQUYgRW5oYW5jZWQgRWRpdGlvbiBpbnN0YW5jZXMgc3VwcG9ydCBpdC5TZXJ2ZXIgdHlwZSBhbmQgSVAgdHlwZSBzZXJ2ZXIgZ3JvdXAgc3VwcG9ydCBncmFjZWZ1bCBjb25uZWN0aW9uIGludGVycnVwdGlvbi4gRnVuY3Rpb24gQ29tcHV0ZSB0eXBlIGRvZXMgbm90IHN1cHBvcnQgaXQuXG4gICAgICovXG4gICAgcmVhZG9ubHkgY29ubmVjdGlvbkRyYWluQ29uZmlnPzogUm9zU2VydmVyR3JvdXAuQ29ubmVjdGlvbkRyYWluQ29uZmlnUHJvcGVydHkgfCByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBQcm9wZXJ0eSBjcm9zc1pvbmVFbmFibGVkOiBTcGVjaWZpZXMgd2hldGhlciB0byBlbmFibGUgY3Jvc3Mtem9uZSBsb2FkIGJhbGFuY2luZy4gVmFsaWQgdmFsdWVzOlxuICAgICAqIHRydWUgKGRlZmF1bHQpXG4gICAgICogZmFsc2VcbiAgICAgKiBOb3RlOlxuICAgICAqIEJhc2ljIEFMQiBpbnN0YW5jZXMgZG8gbm90IHN1cHBvcnQgc2VydmVyIGdyb3VwcyB0aGF0IGhhdmUgY3Jvc3Mtem9uZSBsb2FkIGJhbGFuY2luZyBkaXNhYmxlZC4gT25seSBTdGFuZGFyZCBhbmQgV0FGLWVuYWJsZWQgQUxCIGluc3RhbmNlcyBzdXBwb3J0IHNlcnZlciBncm91cHMgdGhhdCBoYXZlIGNyb3NzLXpvbmUgbG9hZCBiYWxhbmNpbmcuXG4gICAgICogQ3Jvc3Mtem9uZSBsb2FkIGJhbGFuY2luZyBjYW4gYmUgZGlzYWJsZWQgZm9yIHNlcnZlciBncm91cHMgb2YgdGhlIHNlcnZlciBhbmQgSVAgdHlwZSwgYnV0IG5vdCBmb3Igc2VydmVyIGdyb3VwcyBvZiB0aGUgRnVuY3Rpb24gQ29tcHV0ZSB0eXBlLlxuICAgICAqIFdoZW4gY3Jvc3Mtem9uZSBsb2FkIGJhbGFuY2luZyBpcyBkaXNhYmxlZCwgc2Vzc2lvbiBwZXJzaXN0ZW5jZSBjYW5ub3QgYmUgZW5hYmxlZC5cbiAgICAgKi9cbiAgICByZWFkb25seSBjcm9zc1pvbmVFbmFibGVkPzogYm9vbGVhbiB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIFByb3BlcnR5IGlwdjZFbmFibGVkOiBXaGV0aGVyIHRvIGVuYWJsZSBJUHY2LlxuICAgICAqL1xuICAgIHJlYWRvbmx5IGlwdjZFbmFibGVkPzogYm9vbGVhbiB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIFByb3BlcnR5IHByb3RvY29sOiBUaGUgYmFja2VuZCBwcm90b2NvbC4gVmFsaWQgdmFsdWVzOlxuICAgICAqIEhUVFAgKGRlZmF1bHQpOiBUaGUgc2VydmVyIGdyb3VwIGNhbiBiZSBhc3NvY2lhdGVkIHdpdGggSFRUUFMsIEhUVFAsIGFuZCBRVUlDIGxpc3RlbmVycy5cbiAgICAgKiBIVFRQUzogVGhlIHNlcnZlciBncm91cCBjYW4gYmUgYXNzb2NpYXRlZCB3aXRoIEhUVFBTIGxpc3RlbmVycy5cbiAgICAgKiBnUlBDOiBUaGUgc2VydmVyIGdyb3VwIGNhbiBiZSBhc3NvY2lhdGVkIHdpdGggSFRUUFMgYW5kIFFVSUMgbGlzdGVuZXJzLlxuICAgICAqIE5vdGU6IElmIHRoZSBTZXJ2ZXJHcm91cFR5cGUgcGFyYW1ldGVyIGlzIHNldCB0byBGYywgeW91IGNhbiBzZXQgUHJvdG9jb2wgb25seSB0byBIVFRQLlxuICAgICAqL1xuICAgIHJlYWRvbmx5IHByb3RvY29sPzogc3RyaW5nIHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogUHJvcGVydHkgcmVzb3VyY2VHcm91cElkOiBUaGUgSUQgb2YgdGhlIHJlc291cmNlIGdyb3VwLlxuICAgICAqL1xuICAgIHJlYWRvbmx5IHJlc291cmNlR3JvdXBJZD86IHN0cmluZyB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIFByb3BlcnR5IHNjaGVkdWxlcjogVGhlIHNjaGVkdWxpbmcgYWxnb3JpdGhtLiBWYWxpZCB2YWx1ZXM6XG4gICAgICogV3JyIChkZWZhdWx0KTogVGhlIHdlaWdodGVkIHJvdW5kLXJvYmluIGFsZ29yaXRobSBpcyB1c2VkLiBCYWNrZW5kIHNlcnZlcnMgdGhhdCBoYXZlIGhpZ2hlciB3ZWlnaHRzIHJlY2VpdmUgbW9yZSByZXF1ZXN0cyB0aGFuIHRob3NlIHRoYXQgaGF2ZSBsb3dlciB3ZWlnaHRzLlxuICAgICAqIFdsYzogVGhlIHdlaWdodGVkIGxlYXN0IGNvbm5lY3Rpb25zIGFsZ29yaXRobSBpcyB1c2VkLiBSZXF1ZXN0cyBhcmUgZGlzdHJpYnV0ZWQgYmFzZWQgb24gdGhlIHdlaWdodHMgYW5kIHRoZSBudW1iZXIgb2YgY29ubmVjdGlvbnMgdG8gYmFja2VuZCBzZXJ2ZXJzLiBJZiB0d28gYmFja2VuZCBzZXJ2ZXJzIGhhdmUgdGhlIHNhbWUgd2VpZ2h0LCB0aGUgYmFja2VuZCBzZXJ2ZXIgdGhhdCBoYXMgZmV3ZXIgY29ubmVjdGlvbnMgaXMgZXhwZWN0ZWQgdG8gcmVjZWl2ZSBtb3JlIHJlcXVlc3RzLlxuICAgICAqIFNjaDogVGhlIGNvbnNpc3RlbnQgaGFzaGluZyBhbGdvcml0aG0gaXMgdXNlZC4gUmVxdWVzdHMgZnJvbSB0aGUgc2FtZSBzb3VyY2UgSVAgYWRkcmVzcyBhcmUgZGlzdHJpYnV0ZWQgdG8gdGhlIHNhbWUgYmFja2VuZCBzZXJ2ZXIuXG4gICAgICogTm90ZTogVGhpcyBwYXJhbWV0ZXIgdGFrZXMgZWZmZWN0IHdoZW4gdGhlIFNlcnZlckdyb3VwVHlwZSBwYXJhbWV0ZXIgaXMgc2V0IHRvIEluc3RhbmNlIG9yIElwLlxuICAgICAqL1xuICAgIHJlYWRvbmx5IHNjaGVkdWxlcj86IHN0cmluZyB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIFByb3BlcnR5IHNlcnZlckdyb3VwVHlwZTogVGhlIHR5cGUgb2YgdGhlIHNlcnZlciBncm91cC4gVmFsaWQgdmFsdWVzOlxuICAgICAqIEluc3RhbmNlIChkZWZhdWx0KTogYWxsb3dzIHlvdSBhZGQgc2VydmVycyBieSBzcGVjaWZ5aW5nIEVjcywgRW5zLCBvciBFY2kuXG4gICAgICogSXA6IGFsbG93cyB5b3UgdG8gYWRkIHNlcnZlcnMgYnkgc3BlY2lmeWluZyBJUCBhZGRyZXNzZXMuXG4gICAgICogRmM6IGFsbG93cyB5b3UgdG8gYWRkIHNlcnZlcnMgYnkgc3BlY2lmeWluZyBmdW5jdGlvbnMgb2YgRnVuY3Rpb24gQ29tcHV0ZS5cbiAgICAgKi9cbiAgICByZWFkb25seSBzZXJ2ZXJHcm91cFR5cGU/OiBzdHJpbmcgfCByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBQcm9wZXJ0eSBzZXJ2aWNlTmFtZTogVGhpcyBwYXJhbWV0ZXIgaXMgYXZhaWxhYmxlIG9ubHkgaWYgdGhlIEFMQiBJbmdyZXNzIGNvbnRyb2xsZXIgaXMgdXNlZC4gSW4gdGhpcyBjYXNlLCBzZXQgdGhlIHBhcmFtZXRlciB0byB0aGUgbmFtZSBvZiB0aGUgS3ViZXJuZXRlcyBTZXJ2aWNlIHRoYXQgaXMgYXNzb2NpYXRlZCB3aXRoIHRoZSBzZXJ2ZXIgZ3JvdXAuXG4gICAgICovXG4gICAgcmVhZG9ubHkgc2VydmljZU5hbWU/OiBzdHJpbmcgfCByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBQcm9wZXJ0eSBzbG93U3RhcnRDb25maWc6IFNsb3cgc3RhcnQgcmVsYXRlZCBjb25maWd1cmF0aW9uLkFmdGVyIHNsb3cgc3RhcnQgaXMgZW5hYmxlZCwgdGhlIGJhY2tlbmQgc2VydmVyIG5ld2x5IGFkZGVkIHRvIHRoZSBiYWNrZW5kIHNlcnZlciBncm91cCB3aWxsIGJlIHByZWhlYXRlZCB3aXRoaW4gdGhlIHNldCB0aW1lIHBlcmlvZCwgYW5kIHRoZSBudW1iZXIgb2YgcmVxdWVzdHMgZm9yd2FyZGVkIHRvIHRoZSBzZXJ2ZXIgd2lsbCBpbmNyZWFzZSBsaW5lYXJseS5Ob3RlOlxuICAgICAqIEJhc2ljIEVkaXRpb24gaW5zdGFuY2VzIGRvIG5vdCBzdXBwb3J0IHNsb3cgc3RhcnQsIG9ubHkgU3RhbmRhcmQgRWRpdGlvbiBhbmQgV0FGIEVuaGFuY2VkIEVkaXRpb24gaW5zdGFuY2VzIHN1cHBvcnQgaXQuU2VydmVyIHR5cGUgYW5kIElQIHR5cGUgc2VydmVyIGdyb3VwcyBzdXBwb3J0IHNsb3cgc3RhcnQgY29uZmlndXJhdGlvbiwgYnV0IEZ1bmN0aW9uIENvbXB1dGUgdHlwZSBkb2VzIG5vdC5TbG93IHN0YXJ0IGNhbiBvbmx5IGJlIGVuYWJsZWQgd2hlbiB0aGUgYmFja2VuZCBzY2hlZHVsaW5nIGFsZ29yaXRobSBpcyB0aGUgd2VpZ2h0ZWQgcG9sbGluZyBhbGdvcml0aG0uXG4gICAgICovXG4gICAgcmVhZG9ubHkgc2xvd1N0YXJ0Q29uZmlnPzogUm9zU2VydmVyR3JvdXAuU2xvd1N0YXJ0Q29uZmlnUHJvcGVydHkgfCByb3MuSVJlc29sdmFibGU7XG5cbiAgICAvKipcbiAgICAgKiBQcm9wZXJ0eSBzdGlja3lTZXNzaW9uQ29uZmlnOiBUaGUgY29uZmlndXJhdGlvbiBvZiBzZXNzaW9uIHBlcnNpc3RlbmNlLlxuICAgICAqIE5vdGU6IFRoaXMgcGFyYW1ldGVyIGlzIHJlcXVpcmVkIGlmIHRoZSBTZXJ2ZXJHcm91cFR5cGUgcGFyYW1ldGVyIGlzIHNldCB0byBJbnN0YW5jZSBvciBJcC5cbiAgICAgKi9cbiAgICByZWFkb25seSBzdGlja3lTZXNzaW9uQ29uZmlnPzogUm9zU2VydmVyR3JvdXAuU3RpY2t5U2Vzc2lvbkNvbmZpZ1Byb3BlcnR5IHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogUHJvcGVydHkgdGFnczogVGFncyB0byBhdHRhY2ggdG8gaW5zdGFuY2UuIE1heCBzdXBwb3J0IDIwIHRhZ3MgdG8gYWRkIGR1cmluZyBjcmVhdGUgaW5zdGFuY2UuIEVhY2ggdGFnIHdpdGggdHdvIHByb3BlcnRpZXMgS2V5IGFuZCBWYWx1ZSwgYW5kIEtleSBpcyByZXF1aXJlZC5cbiAgICAgKi9cbiAgICByZWFkb25seSB0YWdzPzogUm9zU2VydmVyR3JvdXAuVGFnc1Byb3BlcnR5W107XG5cbiAgICAvKipcbiAgICAgKiBQcm9wZXJ0eSB1Y2hDb25maWc6IFVSTCBjb25zaXN0ZW5jeSBoYXNoIHBhcmFtZXRlciBjb25maWd1cmF0aW9uLlxuICAgICAqL1xuICAgIHJlYWRvbmx5IHVjaENvbmZpZz86IFJvc1NlcnZlckdyb3VwLlVjaENvbmZpZ1Byb3BlcnR5IHwgcm9zLklSZXNvbHZhYmxlO1xuXG4gICAgLyoqXG4gICAgICogUHJvcGVydHkgdXBzdHJlYW1LZWVwYWxpdmVFbmFibGVkOiBXaGV0aGVyIHRvIGVuYWJsZSB1cHN0cmVhbSBrZWVwYWxpdmUuXG4gICAgICovXG4gICAgcmVhZG9ubHkgdXBzdHJlYW1LZWVwYWxpdmVFbmFibGVkPzogYm9vbGVhbiB8IHJvcy5JUmVzb2x2YWJsZTtcblxuICAgIC8qKlxuICAgICAqIFByb3BlcnR5IHZwY0lkOiBUaGUgSUQgb2YgdGhlIHZpcnR1YWwgcHJpdmF0ZSBjbG91ZCAoVlBDKS4gWW91IGNhbiBhZGQgb25seSBzZXJ2ZXJzIHRoYXQgYXJlIGRlcGxveWVkXG4gICAgICogaW4gdGhlIHNwZWNpZmllZCBWUEMgdG8gdGhlIHNlcnZlciBncm91cC5cbiAgICAgKiBOb3RlOiBUaGlzIHBhcmFtZXRlciBpcyByZXF1aXJlZCBpZiB0aGUgU2VydmVyR3JvdXBUeXBlIHBhcmFtZXRlciBpcyBzZXQgdG8gSW5zdGFuY2Ugb3IgSXAuXG4gICAgICogTm90ZTogVGhpcyBwYXJhbWV0ZXIgdGFrZXMgZWZmZWN0IHdoZW4gdGhlIFNlcnZlckdyb3VwVHlwZSBwYXJhbWV0ZXIgaXMgc2V0IHRvIEluc3RhbmNlIG9yIElwLlxuICAgICAqL1xuICAgIHJlYWRvbmx5IHZwY0lkPzogc3RyaW5nIHwgcm9zLklSZXNvbHZhYmxlO1xufVxuXG4vKipcbiAqIFJlcHJlc2VudHMgYSBgU2VydmVyR3JvdXBgLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIElTZXJ2ZXJHcm91cCBleHRlbmRzIHJvcy5JUmVzb3VyY2Uge1xuICAgIHJlYWRvbmx5IHByb3BzOiBTZXJ2ZXJHcm91cFByb3BzO1xuXG4gICAgLyoqXG4gICAgICogQXR0cmlidXRlIEFybjogVGhlIEFsaWJhYmEgQ2xvdWQgUmVzb3VyY2UgTmFtZSAoQVJOKS5cbiAgICAgKi9cbiAgICByZWFkb25seSBhdHRyQXJuOiByb3MuSVJlc29sdmFibGUgfCBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBBdHRyaWJ1dGUgU2VydmVyR3JvdXBJZDogVGhlIElEIG9mIHRoZSBzZXJ2ZXIgZ3JvdXAuXG4gICAgICovXG4gICAgcmVhZG9ubHkgYXR0clNlcnZlckdyb3VwSWQ6IHJvcy5JUmVzb2x2YWJsZSB8IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBjbGFzcyBlbmNhcHN1bGF0ZXMgYW5kIGV4dGVuZHMgdGhlIFJPUyByZXNvdXJjZSB0eXBlIGBBTElZVU46OkFMQjo6U2VydmVyR3JvdXBgLlxuICogQE5vdGUgVGhpcyBjbGFzcyBtYXkgaGF2ZSBzb21lIG5ldyBmdW5jdGlvbnMgdG8gZmFjaWxpdGF0ZSBkZXZlbG9wbWVudCwgc28gaXQgaXMgcmVjb21tZW5kZWQgdG8gdXNlIHRoaXMgY2xhc3MgaW5zdGVhZCBvZiBgUm9zU2VydmVyR3JvdXBgZm9yIGEgbW9yZSBjb252ZW5pZW50IGRldmVsb3BtZW50IGV4cGVyaWVuY2UuXG4gKiBTZWUgaHR0cHM6Ly93d3cuYWxpYmFiYWNsb3VkLmNvbS9oZWxwL3Jvcy9kZXZlbG9wZXItcmVmZXJlbmNlL2FsaXl1bi1hbGItc2VydmVyZ3JvdXBcbiAqL1xuZXhwb3J0IGNsYXNzIFNlcnZlckdyb3VwIGV4dGVuZHMgcm9zLlJlc291cmNlIGltcGxlbWVudHMgSVNlcnZlckdyb3VwIHtcbiAgICBwcm90ZWN0ZWQgc2NvcGU6IHJvcy5Db25zdHJ1Y3Q7XG4gICAgcHJvdGVjdGVkIGlkOiBzdHJpbmc7XG4gICAgcHVibGljIHJlYWRvbmx5IHByb3BzOiBTZXJ2ZXJHcm91cFByb3BzO1xuICAgIHByb3RlY3RlZCBlbmFibGVSZXNvdXJjZVByb3BlcnR5Q29uc3RyYWludDogYm9vbGVhbjtcblxuICAgIC8qKlxuICAgICAqIEF0dHJpYnV0ZSBBcm46IFRoZSBBbGliYWJhIENsb3VkIFJlc291cmNlIE5hbWUgKEFSTikuXG4gICAgICovXG4gICAgcHVibGljIHJlYWRvbmx5IGF0dHJBcm46IHJvcy5JUmVzb2x2YWJsZSB8IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIEF0dHJpYnV0ZSBTZXJ2ZXJHcm91cElkOiBUaGUgSUQgb2YgdGhlIHNlcnZlciBncm91cC5cbiAgICAgKi9cbiAgICBwdWJsaWMgcmVhZG9ubHkgYXR0clNlcnZlckdyb3VwSWQ6IHJvcy5JUmVzb2x2YWJsZSB8IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFBhcmFtIHNjb3BlIC0gc2NvcGUgaW4gd2hpY2ggdGhpcyByZXNvdXJjZSBpcyBkZWZpbmVkXG4gICAgICogUGFyYW0gaWQgICAgLSBzY29wZWQgaWQgb2YgdGhlIHJlc291cmNlXG4gICAgICogUGFyYW0gcHJvcHMgLSByZXNvdXJjZSBwcm9wZXJ0aWVzXG4gICAgICovXG4gICAgY29uc3RydWN0b3Ioc2NvcGU6IHJvcy5Db25zdHJ1Y3QsIGlkOiBzdHJpbmcsIHByb3BzOiBTZXJ2ZXJHcm91cFByb3BzLCBlbmFibGVSZXNvdXJjZVByb3BlcnR5Q29uc3RyYWludDpib29sZWFuID0gdHJ1ZSkge1xuICAgICAgICBzdXBlcihzY29wZSwgaWQpO1xuICAgICAgICB0aGlzLnNjb3BlID0gc2NvcGU7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy5wcm9wcyA9IHByb3BzO1xuICAgICAgICB0aGlzLmVuYWJsZVJlc291cmNlUHJvcGVydHlDb25zdHJhaW50ID0gZW5hYmxlUmVzb3VyY2VQcm9wZXJ0eUNvbnN0cmFpbnQ7XG5cbiAgICAgICAgY29uc3Qgcm9zU2VydmVyR3JvdXAgPSBuZXcgUm9zU2VydmVyR3JvdXAodGhpcywgaWQsICB7XG4gICAgICAgICAgICBjb25uZWN0aW9uRHJhaW5Db25maWc6IHByb3BzLmNvbm5lY3Rpb25EcmFpbkNvbmZpZyxcbiAgICAgICAgICAgIHJlc291cmNlR3JvdXBJZDogcHJvcHMucmVzb3VyY2VHcm91cElkLFxuICAgICAgICAgICAgdWNoQ29uZmlnOiBwcm9wcy51Y2hDb25maWcsXG4gICAgICAgICAgICB1cHN0cmVhbUtlZXBhbGl2ZUVuYWJsZWQ6IHByb3BzLnVwc3RyZWFtS2VlcGFsaXZlRW5hYmxlZCA9PT0gdW5kZWZpbmVkIHx8IHByb3BzLnVwc3RyZWFtS2VlcGFsaXZlRW5hYmxlZCA9PT0gbnVsbCA/IGZhbHNlIDogcHJvcHMudXBzdHJlYW1LZWVwYWxpdmVFbmFibGVkLFxuICAgICAgICAgICAgc2NoZWR1bGVyOiBwcm9wcy5zY2hlZHVsZXIsXG4gICAgICAgICAgICBzdGlja3lTZXNzaW9uQ29uZmlnOiBwcm9wcy5zdGlja3lTZXNzaW9uQ29uZmlnLFxuICAgICAgICAgICAgc2VydmVyR3JvdXBUeXBlOiBwcm9wcy5zZXJ2ZXJHcm91cFR5cGUsXG4gICAgICAgICAgICBjcm9zc1pvbmVFbmFibGVkOiBwcm9wcy5jcm9zc1pvbmVFbmFibGVkLFxuICAgICAgICAgICAgaXB2NkVuYWJsZWQ6IHByb3BzLmlwdjZFbmFibGVkLFxuICAgICAgICAgICAgc2xvd1N0YXJ0Q29uZmlnOiBwcm9wcy5zbG93U3RhcnRDb25maWcsXG4gICAgICAgICAgICB2cGNJZDogcHJvcHMudnBjSWQsXG4gICAgICAgICAgICBzZXJ2aWNlTmFtZTogcHJvcHMuc2VydmljZU5hbWUsXG4gICAgICAgICAgICBoZWFsdGhDaGVja0NvbmZpZzogcHJvcHMuaGVhbHRoQ2hlY2tDb25maWcsXG4gICAgICAgICAgICBwcm90b2NvbDogcHJvcHMucHJvdG9jb2wsXG4gICAgICAgICAgICB0YWdzOiBwcm9wcy50YWdzLFxuICAgICAgICAgICAgc2VydmVyR3JvdXBOYW1lOiBwcm9wcy5zZXJ2ZXJHcm91cE5hbWUsXG4gICAgICAgIH0sIGVuYWJsZVJlc291cmNlUHJvcGVydHlDb25zdHJhaW50ICYmIHRoaXMuc3RhY2suZW5hYmxlUmVzb3VyY2VQcm9wZXJ0eUNvbnN0cmFpbnQpO1xuICAgICAgICB0aGlzLnJlc291cmNlID0gcm9zU2VydmVyR3JvdXA7XG4gICAgICAgIHRoaXMuYXR0ckFybiA9IHJvc1NlcnZlckdyb3VwLmF0dHJBcm47XG4gICAgICAgIHRoaXMuYXR0clNlcnZlckdyb3VwSWQgPSByb3NTZXJ2ZXJHcm91cC5hdHRyU2VydmVyR3JvdXBJZDtcbiAgICB9XG59XG4iXX0=